var Qb=Object.defineProperty;var Yb=(t,e,n)=>e in t?Qb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sn=(t,e,n)=>Yb(t,typeof e!="symbol"?e+"":e,n);function Xb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Zw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e0={exports:{}},bu={},t0={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),Jb=Symbol.for("react.portal"),Zb=Symbol.for("react.fragment"),eR=Symbol.for("react.strict_mode"),tR=Symbol.for("react.profiler"),nR=Symbol.for("react.provider"),rR=Symbol.for("react.context"),sR=Symbol.for("react.forward_ref"),iR=Symbol.for("react.suspense"),oR=Symbol.for("react.memo"),aR=Symbol.for("react.lazy"),Bv=Symbol.iterator;function lR(t){return t===null||typeof t!="object"?null:(t=Bv&&t[Bv]||t["@@iterator"],typeof t=="function"?t:null)}var n0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r0=Object.assign,s0={};function so(t,e,n){this.props=t,this.context=e,this.refs=s0,this.updater=n||n0}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i0(){}i0.prototype=so.prototype;function Ip(t,e,n){this.props=t,this.context=e,this.refs=s0,this.updater=n||n0}var Ap=Ip.prototype=new i0;Ap.constructor=Ip;r0(Ap,so.prototype);Ap.isPureReactComponent=!0;var Hv=Array.isArray,o0=Object.prototype.hasOwnProperty,Pp={current:null},a0={key:!0,ref:!0,__self:!0,__source:!0};function l0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)o0.call(e,r)&&!a0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xa,type:t,key:i,ref:o,props:s,_owner:Pp.current}}function cR(t,e){return{$$typeof:Xa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xa}function uR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wv=/\/+/g;function Gd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uR(""+t.key):e.toString(36)}function cc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xa:case Jb:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gd(o,0):r,Hv(s)?(n="",t!=null&&(n=t.replace(Wv,"$&/")+"/"),cc(s,e,n,"",function(d){return d})):s!=null&&(kp(s)&&(s=cR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Hv(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Gd(i,a);o+=cc(i,e,n,u,s)}else if(u=lR(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Gd(i,a++),o+=cc(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dl(t,e,n){if(t==null)return t;var r=[],s=0;return cc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function dR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var At={current:null},uc={transition:null},hR={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:uc,ReactCurrentOwner:Pp};function c0(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Dl,forEach:function(t,e,n){Dl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dl(t,function(){e++}),e},toArray:function(t){return Dl(t,function(e){return e})||[]},only:function(t){if(!kp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=so;ve.Fragment=Zb;ve.Profiler=tR;ve.PureComponent=Ip;ve.StrictMode=eR;ve.Suspense=iR;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hR;ve.act=c0;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=r0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Pp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)o0.call(e,u)&&!a0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Xa,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:rR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nR,_context:t},t.Consumer=t};ve.createElement=l0;ve.createFactory=function(t){var e=l0.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:sR,render:t}};ve.isValidElement=kp;ve.lazy=function(t){return{$$typeof:aR,_payload:{_status:-1,_result:t},_init:dR}};ve.memo=function(t,e){return{$$typeof:oR,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=uc.transition;uc.transition={};try{t()}finally{uc.transition=e}};ve.unstable_act=c0;ve.useCallback=function(t,e){return At.current.useCallback(t,e)};ve.useContext=function(t){return At.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return At.current.useDeferredValue(t)};ve.useEffect=function(t,e){return At.current.useEffect(t,e)};ve.useId=function(){return At.current.useId()};ve.useImperativeHandle=function(t,e,n){return At.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return At.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return At.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return At.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return At.current.useReducer(t,e,n)};ve.useRef=function(t){return At.current.useRef(t)};ve.useState=function(t){return At.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return At.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return At.current.useTransition()};ve.version="18.3.1";t0.exports=ve;var m=t0.exports;const Sr=Zw(m),jp=Xb({__proto__:null,default:Sr},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fR=m,pR=Symbol.for("react.element"),mR=Symbol.for("react.fragment"),gR=Object.prototype.hasOwnProperty,vR=fR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yR={key:!0,ref:!0,__self:!0,__source:!0};function u0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gR.call(e,r)&&!yR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:pR,type:t,key:i,ref:o,props:s,_owner:vR.current}}bu.Fragment=mR;bu.jsx=u0;bu.jsxs=u0;e0.exports=bu;var c=e0.exports,d0={exports:{}},nn={},h0={exports:{}},f0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,$){var Z=V.length;V.push($);e:for(;0<Z;){var se=Z-1>>>1,U=V[se];if(0<s(U,$))V[se]=$,V[Z]=U,Z=se;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var $=V[0],Z=V.pop();if(Z!==$){V[0]=Z;e:for(var se=0,U=V.length,J=U>>>1;se<J;){var H=2*(se+1)-1,B=V[H],ee=H+1,Y=V[ee];if(0>s(B,Z))ee<U&&0>s(Y,B)?(V[se]=Y,V[ee]=Z,se=ee):(V[se]=B,V[H]=Z,se=H);else if(ee<U&&0>s(Y,Z))V[se]=Y,V[ee]=Z,se=ee;else break e}}return $}function s(V,$){var Z=V.sortIndex-$.sortIndex;return Z!==0?Z:V.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],d=[],h=1,p=null,g=3,w=!1,b=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=V)r(d),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(d)}}function k(V){if(x=!1,C(V),!b)if(n(u)!==null)b=!0,Q(O);else{var $=n(d);$!==null&&z(k,$.startTime-V)}}function O(V,$){b=!1,x&&(x=!1,_(T),T=-1),w=!0;var Z=g;try{for(C($),p=n(u);p!==null&&(!(p.expirationTime>$)||V&&!P());){var se=p.callback;if(typeof se=="function"){p.callback=null,g=p.priorityLevel;var U=se(p.expirationTime<=$);$=t.unstable_now(),typeof U=="function"?p.callback=U:p===n(u)&&r(u),C($)}else r(u);p=n(u)}if(p!==null)var J=!0;else{var H=n(d);H!==null&&z(k,H.startTime-$),J=!1}return J}finally{p=null,g=Z,w=!1}}var D=!1,S=null,T=-1,N=5,I=-1;function P(){return!(t.unstable_now()-I<N)}function j(){if(S!==null){var V=t.unstable_now();I=V;var $=!0;try{$=S(!0,V)}finally{$?A():(D=!1,S=null)}}else D=!1}var A;if(typeof y=="function")A=function(){y(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,G=L.port2;L.port1.onmessage=j,A=function(){G.postMessage(null)}}else A=function(){E(j,0)};function Q(V){S=V,D||(D=!0,A())}function z(V,$){T=E(function(){V(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){b||w||(b=!0,Q(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var Z=g;g=$;try{return V()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=g;g=V;try{return $()}finally{g=Z}},t.unstable_scheduleCallback=function(V,$,Z){var se=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?se+Z:se):Z=se,V){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Z+U,V={id:h++,callback:$,priorityLevel:V,startTime:Z,expirationTime:U,sortIndex:-1},Z>se?(V.sortIndex=Z,e(d,V),n(u)===null&&V===n(d)&&(x?(_(T),T=-1):x=!0,z(k,Z-se))):(V.sortIndex=U,e(u,V),b||w||(b=!0,Q(O))),V},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(V){var $=g;return function(){var Z=g;g=$;try{return V.apply(this,arguments)}finally{g=Z}}}})(f0);h0.exports=f0;var xR=h0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR=m,tn=xR;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p0=new Set,xa={};function Ks(t,e){Mi(t,e),Mi(t+"Capture",e)}function Mi(t,e){for(xa[t]=e,t=0;t<e.length;t++)p0.add(e[t])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=Object.prototype.hasOwnProperty,_R=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qv={},Kv={};function ER(t){return Gh.call(Kv,t)?!0:Gh.call(qv,t)?!1:_R.test(t)?Kv[t]=!0:(qv[t]=!0,!1)}function TR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SR(t,e,n,r){if(e===null||typeof e>"u"||TR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dp=/[\-:]([a-z])/g;function Op(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dp,Op);ft[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dp,Op);ft[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dp,Op);ft[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vp(t,e,n,r){var s=ft.hasOwnProperty(e)?ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SR(e,n,s,r)&&(n=null),r||s===null?ER(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fr=wR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),fi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),Mp=Symbol.for("react.strict_mode"),Qh=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),g0=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),Yh=Symbol.for("react.suspense"),Xh=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),v0=Symbol.for("react.offscreen"),Gv=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=Gv&&t[Gv]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Qd;function qo(t){if(Qd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qd=e&&e[1]||""}return`
`+Qd+t}var Yd=!1;function Xd(t,e){if(!t||Yd)return"";Yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qo(t):""}function CR(t){switch(t.tag){case 5:return qo(t.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return t=Xd(t.type,!1),t;case 11:return t=Xd(t.type.render,!1),t;case 1:return t=Xd(t.type,!0),t;default:return""}}function Jh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pi:return"Fragment";case fi:return"Portal";case Qh:return"Profiler";case Mp:return"StrictMode";case Yh:return"Suspense";case Xh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case g0:return(t.displayName||"Context")+".Consumer";case m0:return(t._context.displayName||"Context")+".Provider";case Lp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fp:return e=t.displayName||null,e!==null?e:Jh(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return Jh(t(e))}catch{}}return null}function bR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jh(e);case 8:return e===Mp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RR(t){var e=y0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vl(t){t._valueTracker||(t._valueTracker=RR(t))}function x0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=y0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zh(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function w0(t,e){e=e.checked,e!=null&&Vp(t,"checked",e,!1)}function ef(t,e){w0(t,e);var n=qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tf(t,e.type,n):e.hasOwnProperty("defaultValue")&&tf(t,e.type,qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tf(t,e,n){(e!=="number"||kc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ko=Array.isArray;function Ci(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function nf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Ko(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qr(n)}}function _0(t,e){var n=qr(e.value),r=qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ml,T0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ml=Ml||document.createElement("div"),Ml.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NR=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(t){NR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),na[e]=na[t]})});function S0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||na.hasOwnProperty(t)&&na[t]?(""+e).trim():e+"px"}function C0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=S0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var IR=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sf(t,e){if(e){if(IR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function of(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=null;function zp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lf=null,bi=null,Ri=null;function Zv(t){if(t=el(t)){if(typeof lf!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Pu(e),lf(t.stateNode,t.type,e))}}function b0(t){bi?Ri?Ri.push(t):Ri=[t]:bi=t}function R0(){if(bi){var t=bi,e=Ri;if(Ri=bi=null,Zv(t),e)for(t=0;t<e.length;t++)Zv(e[t])}}function N0(t,e){return t(e)}function I0(){}var Jd=!1;function A0(t,e,n){if(Jd)return t(e,n);Jd=!0;try{return N0(t,e,n)}finally{Jd=!1,(bi!==null||Ri!==null)&&(I0(),R0())}}function _a(t,e){var n=t.stateNode;if(n===null)return null;var r=Pu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var cf=!1;if(nr)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){cf=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{cf=!1}function AR(t,e,n,r,s,i,o,a,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var ra=!1,jc=null,Dc=!1,uf=null,PR={onError:function(t){ra=!0,jc=t}};function kR(t,e,n,r,s,i,o,a,u){ra=!1,jc=null,AR.apply(PR,arguments)}function jR(t,e,n,r,s,i,o,a,u){if(kR.apply(this,arguments),ra){if(ra){var d=jc;ra=!1,jc=null}else throw Error(K(198));Dc||(Dc=!0,uf=d)}}function Gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function P0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ey(t){if(Gs(t)!==t)throw Error(K(188))}function DR(t){var e=t.alternate;if(!e){if(e=Gs(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ey(s),t;if(i===r)return ey(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function k0(t){return t=DR(t),t!==null?j0(t):null}function j0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j0(t);if(e!==null)return e;t=t.sibling}return null}var D0=tn.unstable_scheduleCallback,ty=tn.unstable_cancelCallback,OR=tn.unstable_shouldYield,VR=tn.unstable_requestPaint,Qe=tn.unstable_now,MR=tn.unstable_getCurrentPriorityLevel,Up=tn.unstable_ImmediatePriority,O0=tn.unstable_UserBlockingPriority,Oc=tn.unstable_NormalPriority,LR=tn.unstable_LowPriority,V0=tn.unstable_IdlePriority,Ru=null,Mn=null;function FR(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Ru,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:$R,zR=Math.log,UR=Math.LN2;function $R(t){return t>>>=0,t===0?32:31-(zR(t)/UR|0)|0}var Ll=64,Fl=4194304;function Go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Go(a):(i&=o,i!==0&&(r=Go(i)))}else o=n&~s,o!==0?r=Go(o):i!==0&&(r=Go(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),s=1<<n,r|=t[n],e&=~s;return r}function BR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=BR(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function df(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M0(){var t=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),t}function Zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ja(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function WR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $p(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ie=0;function L0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var F0,Bp,z0,U0,$0,hf=!1,zl=[],jr=null,Dr=null,Or=null,Ea=new Map,Ta=new Map,Nr=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ny(t,e){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(e.pointerId)}}function Mo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=el(e),e!==null&&Bp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function KR(t,e,n,r,s){switch(e){case"focusin":return jr=Mo(jr,t,e,n,r,s),!0;case"dragenter":return Dr=Mo(Dr,t,e,n,r,s),!0;case"mouseover":return Or=Mo(Or,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ea.set(i,Mo(Ea.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ta.set(i,Mo(Ta.get(i)||null,t,e,n,r,s)),!0}return!1}function B0(t){var e=Es(t.target);if(e!==null){var n=Gs(e);if(n!==null){if(e=n.tag,e===13){if(e=P0(n),e!==null){t.blockedOn=e,$0(t.priority,function(){z0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ff(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);af=r,n.target.dispatchEvent(r),af=null}else return e=el(n),e!==null&&Bp(e),t.blockedOn=n,!1;e.shift()}return!0}function ry(t,e,n){dc(t)&&n.delete(e)}function GR(){hf=!1,jr!==null&&dc(jr)&&(jr=null),Dr!==null&&dc(Dr)&&(Dr=null),Or!==null&&dc(Or)&&(Or=null),Ea.forEach(ry),Ta.forEach(ry)}function Lo(t,e){t.blockedOn===e&&(t.blockedOn=null,hf||(hf=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,GR)))}function Sa(t){function e(s){return Lo(s,t)}if(0<zl.length){Lo(zl[0],t);for(var n=1;n<zl.length;n++){var r=zl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jr!==null&&Lo(jr,t),Dr!==null&&Lo(Dr,t),Or!==null&&Lo(Or,t),Ea.forEach(e),Ta.forEach(e),n=0;n<Nr.length;n++)r=Nr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)B0(n),n.blockedOn===null&&Nr.shift()}var Ni=fr.ReactCurrentBatchConfig,Mc=!0;function QR(t,e,n,r){var s=Ie,i=Ni.transition;Ni.transition=null;try{Ie=1,Hp(t,e,n,r)}finally{Ie=s,Ni.transition=i}}function YR(t,e,n,r){var s=Ie,i=Ni.transition;Ni.transition=null;try{Ie=4,Hp(t,e,n,r)}finally{Ie=s,Ni.transition=i}}function Hp(t,e,n,r){if(Mc){var s=ff(t,e,n,r);if(s===null)ch(t,e,r,Lc,n),ny(t,r);else if(KR(s,t,e,n,r))r.stopPropagation();else if(ny(t,r),e&4&&-1<qR.indexOf(t)){for(;s!==null;){var i=el(s);if(i!==null&&F0(i),i=ff(t,e,n,r),i===null&&ch(t,e,r,Lc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ch(t,e,r,null,n)}}var Lc=null;function ff(t,e,n,r){if(Lc=null,t=zp(r),t=Es(t),t!==null)if(e=Gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=P0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lc=t,null}function H0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MR()){case Up:return 1;case O0:return 4;case Oc:case LR:return 16;case V0:return 536870912;default:return 16}default:return 16}}var Ar=null,Wp=null,hc=null;function W0(){if(hc)return hc;var t,e=Wp,n=e.length,r,s="value"in Ar?Ar.value:Ar.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return hc=s.slice(t,1<r?1-r:void 0)}function fc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function sy(){return!1}function rn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ul:sy,this.isPropagationStopped=sy,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),e}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qp=rn(io),Za=Be({},io,{view:0,detail:0}),XR=rn(Za),eh,th,Fo,Nu=Be({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(eh=t.screenX-Fo.screenX,th=t.screenY-Fo.screenY):th=eh=0,Fo=t),eh)},movementY:function(t){return"movementY"in t?t.movementY:th}}),iy=rn(Nu),JR=Be({},Nu,{dataTransfer:0}),ZR=rn(JR),eN=Be({},Za,{relatedTarget:0}),nh=rn(eN),tN=Be({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),nN=rn(tN),rN=Be({},io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sN=rn(rN),iN=Be({},io,{data:0}),oy=rn(iN),oN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lN[t])?!!e[t]:!1}function Kp(){return cN}var uN=Be({},Za,{key:function(t){if(t.key){var e=oN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kp,charCode:function(t){return t.type==="keypress"?fc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dN=rn(uN),hN=Be({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=rn(hN),fN=Be({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kp}),pN=rn(fN),mN=Be({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),gN=rn(mN),vN=Be({},Nu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yN=rn(vN),xN=[9,13,27,32],Gp=nr&&"CompositionEvent"in window,sa=null;nr&&"documentMode"in document&&(sa=document.documentMode);var wN=nr&&"TextEvent"in window&&!sa,q0=nr&&(!Gp||sa&&8<sa&&11>=sa),ly=" ",cy=!1;function K0(t,e){switch(t){case"keyup":return xN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mi=!1;function _N(t,e){switch(t){case"compositionend":return G0(e);case"keypress":return e.which!==32?null:(cy=!0,ly);case"textInput":return t=e.data,t===ly&&cy?null:t;default:return null}}function EN(t,e){if(mi)return t==="compositionend"||!Gp&&K0(t,e)?(t=W0(),hc=Wp=Ar=null,mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q0&&e.locale!=="ko"?null:e.data;default:return null}}var TN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TN[t.type]:e==="textarea"}function Q0(t,e,n,r){b0(r),e=Fc(e,"onChange"),0<e.length&&(n=new qp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ia=null,Ca=null;function SN(t){o_(t,0)}function Iu(t){var e=yi(t);if(x0(e))return t}function CN(t,e){if(t==="change")return e}var Y0=!1;if(nr){var rh;if(nr){var sh="oninput"in document;if(!sh){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),sh=typeof dy.oninput=="function"}rh=sh}else rh=!1;Y0=rh&&(!document.documentMode||9<document.documentMode)}function hy(){ia&&(ia.detachEvent("onpropertychange",X0),Ca=ia=null)}function X0(t){if(t.propertyName==="value"&&Iu(Ca)){var e=[];Q0(e,Ca,t,zp(t)),A0(SN,e)}}function bN(t,e,n){t==="focusin"?(hy(),ia=e,Ca=n,ia.attachEvent("onpropertychange",X0)):t==="focusout"&&hy()}function RN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Ca)}function NN(t,e){if(t==="click")return Iu(e)}function IN(t,e){if(t==="input"||t==="change")return Iu(e)}function AN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:AN;function ba(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gh.call(e,s)||!En(t[s],e[s]))return!1}return!0}function fy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function py(t,e){var n=fy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fy(n)}}function J0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Z0(){for(var t=window,e=kc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kc(t.document)}return e}function Qp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PN(t){var e=Z0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&J0(n.ownerDocument.documentElement,n)){if(r!==null&&Qp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=py(n,i);var o=py(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kN=nr&&"documentMode"in document&&11>=document.documentMode,gi=null,pf=null,oa=null,mf=!1;function my(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||gi==null||gi!==kc(r)||(r=gi,"selectionStart"in r&&Qp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oa&&ba(oa,r)||(oa=r,r=Fc(pf,"onSelect"),0<r.length&&(e=new qp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gi)))}function $l(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vi={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},ih={},e_={};nr&&(e_=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function Au(t){if(ih[t])return ih[t];if(!vi[t])return t;var e=vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in e_)return ih[t]=e[n];return t}var t_=Au("animationend"),n_=Au("animationiteration"),r_=Au("animationstart"),s_=Au("transitionend"),i_=new Map,gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(t,e){i_.set(t,e),Ks(e,[t])}for(var oh=0;oh<gy.length;oh++){var ah=gy[oh],jN=ah.toLowerCase(),DN=ah[0].toUpperCase()+ah.slice(1);rs(jN,"on"+DN)}rs(t_,"onAnimationEnd");rs(n_,"onAnimationIteration");rs(r_,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(s_,"onTransitionEnd");Mi("onMouseEnter",["mouseout","mouseover"]);Mi("onMouseLeave",["mouseout","mouseover"]);Mi("onPointerEnter",["pointerout","pointerover"]);Mi("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ON=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function vy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jR(r,e,void 0,t),t.currentTarget=null}function o_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;vy(s,a,d),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,d=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;vy(s,a,d),i=u}}}if(Dc)throw t=uf,Dc=!1,uf=null,t}function Oe(t,e){var n=e[wf];n===void 0&&(n=e[wf]=new Set);var r=t+"__bubble";n.has(r)||(a_(e,t,2,!1),n.add(r))}function lh(t,e,n){var r=0;e&&(r|=4),a_(n,t,r,e)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Ra(t){if(!t[Bl]){t[Bl]=!0,p0.forEach(function(n){n!=="selectionchange"&&(ON.has(n)||lh(n,!1,t),lh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bl]||(e[Bl]=!0,lh("selectionchange",!1,e))}}function a_(t,e,n,r){switch(H0(e)){case 1:var s=QR;break;case 4:s=YR;break;default:s=Hp}n=s.bind(null,e,n,t),s=void 0,!cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ch(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Es(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}A0(function(){var d=i,h=zp(n),p=[];e:{var g=i_.get(t);if(g!==void 0){var w=qp,b=t;switch(t){case"keypress":if(fc(n)===0)break e;case"keydown":case"keyup":w=dN;break;case"focusin":b="focus",w=nh;break;case"focusout":b="blur",w=nh;break;case"beforeblur":case"afterblur":w=nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ZR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=pN;break;case t_:case n_:case r_:w=nN;break;case s_:w=gN;break;case"scroll":w=XR;break;case"wheel":w=yN;break;case"copy":case"cut":case"paste":w=sN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ay}var x=(e&4)!==0,E=!x&&t==="scroll",_=x?g!==null?g+"Capture":null:g;x=[];for(var y=d,C;y!==null;){C=y;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,_!==null&&(k=_a(y,_),k!=null&&x.push(Na(y,k,C)))),E)break;y=y.return}0<x.length&&(g=new w(g,b,null,n,h),p.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==af&&(b=n.relatedTarget||n.fromElement)&&(Es(b)||b[rr]))break e;if((w||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,w?(b=n.relatedTarget||n.toElement,w=d,b=b?Es(b):null,b!==null&&(E=Gs(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=d),w!==b)){if(x=iy,k="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=ay,k="onPointerLeave",_="onPointerEnter",y="pointer"),E=w==null?g:yi(w),C=b==null?g:yi(b),g=new x(k,y+"leave",w,n,h),g.target=E,g.relatedTarget=C,k=null,Es(h)===d&&(x=new x(_,y+"enter",b,n,h),x.target=C,x.relatedTarget=E,k=x),E=k,w&&b)t:{for(x=w,_=b,y=0,C=x;C;C=ri(C))y++;for(C=0,k=_;k;k=ri(k))C++;for(;0<y-C;)x=ri(x),y--;for(;0<C-y;)_=ri(_),C--;for(;y--;){if(x===_||_!==null&&x===_.alternate)break t;x=ri(x),_=ri(_)}x=null}else x=null;w!==null&&yy(p,g,w,x,!1),b!==null&&E!==null&&yy(p,E,b,x,!0)}}e:{if(g=d?yi(d):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var O=CN;else if(uy(g))if(Y0)O=IN;else{O=RN;var D=bN}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=NN);if(O&&(O=O(t,d))){Q0(p,O,n,h);break e}D&&D(t,g,d),t==="focusout"&&(D=g._wrapperState)&&D.controlled&&g.type==="number"&&tf(g,"number",g.value)}switch(D=d?yi(d):window,t){case"focusin":(uy(D)||D.contentEditable==="true")&&(gi=D,pf=d,oa=null);break;case"focusout":oa=pf=gi=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,my(p,n,h);break;case"selectionchange":if(kN)break;case"keydown":case"keyup":my(p,n,h)}var S;if(Gp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else mi?K0(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(q0&&n.locale!=="ko"&&(mi||T!=="onCompositionStart"?T==="onCompositionEnd"&&mi&&(S=W0()):(Ar=h,Wp="value"in Ar?Ar.value:Ar.textContent,mi=!0)),D=Fc(d,T),0<D.length&&(T=new oy(T,t,null,n,h),p.push({event:T,listeners:D}),S?T.data=S:(S=G0(n),S!==null&&(T.data=S)))),(S=wN?_N(t,n):EN(t,n))&&(d=Fc(d,"onBeforeInput"),0<d.length&&(h=new oy("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:d}),h.data=S))}o_(p,e)})}function Na(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_a(t,n),i!=null&&r.unshift(Na(t,i,s)),i=_a(t,e),i!=null&&r.push(Na(t,i,s))),t=t.return}return r}function ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,s?(u=_a(n,i),u!=null&&o.unshift(Na(n,u,a))):s||(u=_a(n,i),u!=null&&o.push(Na(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VN=/\r\n?/g,MN=/\u0000|\uFFFD/g;function xy(t){return(typeof t=="string"?t:""+t).replace(VN,`
`).replace(MN,"")}function Hl(t,e,n){if(e=xy(e),xy(t)!==e&&n)throw Error(K(425))}function zc(){}var gf=null,vf=null;function yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,FN=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(t){return wy.resolve(null).then(t).catch(zN)}:xf;function zN(t){setTimeout(function(){throw t})}function uh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Sa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sa(e)}function Vr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _y(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oo=Math.random().toString(36).slice(2),kn="__reactFiber$"+oo,Ia="__reactProps$"+oo,rr="__reactContainer$"+oo,wf="__reactEvents$"+oo,UN="__reactListeners$"+oo,$N="__reactHandles$"+oo;function Es(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rr]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_y(t);t!==null;){if(n=t[kn])return n;t=_y(t)}return e}t=n,n=t.parentNode}return null}function el(t){return t=t[kn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Pu(t){return t[Ia]||null}var _f=[],xi=-1;function ss(t){return{current:t}}function Me(t){0>xi||(t.current=_f[xi],_f[xi]=null,xi--)}function ke(t,e){xi++,_f[xi]=t.current,t.current=e}var Kr={},St=ss(Kr),Lt=ss(!1),As=Kr;function Li(t,e){var n=t.type.contextTypes;if(!n)return Kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ft(t){return t=t.childContextTypes,t!=null}function Uc(){Me(Lt),Me(St)}function Ey(t,e,n){if(St.current!==Kr)throw Error(K(168));ke(St,e),ke(Lt,n)}function l_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,bR(t)||"Unknown",s));return Be({},n,r)}function $c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kr,As=St.current,ke(St,t),ke(Lt,Lt.current),!0}function Ty(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=l_(t,e,As),r.__reactInternalMemoizedMergedChildContext=t,Me(Lt),Me(St),ke(St,t)):Me(Lt),ke(Lt,n)}var Yn=null,ku=!1,dh=!1;function c_(t){Yn===null?Yn=[t]:Yn.push(t)}function BN(t){ku=!0,c_(t)}function is(){if(!dh&&Yn!==null){dh=!0;var t=0,e=Ie;try{var n=Yn;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yn=null,ku=!1}catch(s){throw Yn!==null&&(Yn=Yn.slice(t+1)),D0(Up,is),s}finally{Ie=e,dh=!1}}return null}var wi=[],_i=0,Bc=null,Hc=0,on=[],an=0,Ps=null,Xn=1,Jn="";function xs(t,e){wi[_i++]=Hc,wi[_i++]=Bc,Bc=t,Hc=e}function u_(t,e,n){on[an++]=Xn,on[an++]=Jn,on[an++]=Ps,Ps=t;var r=Xn;t=Jn;var s=32-xn(r)-1;r&=~(1<<s),n+=1;var i=32-xn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xn=1<<32-xn(e)+s|n<<s|r,Jn=i+t}else Xn=1<<i|n<<s|r,Jn=t}function Yp(t){t.return!==null&&(xs(t,1),u_(t,1,0))}function Xp(t){for(;t===Bc;)Bc=wi[--_i],wi[_i]=null,Hc=wi[--_i],wi[_i]=null;for(;t===Ps;)Ps=on[--an],on[an]=null,Jn=on[--an],on[an]=null,Xn=on[--an],on[an]=null}var Zt=null,Yt=null,Le=!1,yn=null;function d_(t,e){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Yt=Vr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ps!==null?{id:Xn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Yt=null,!0):!1;default:return!1}}function Ef(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tf(t){if(Le){var e=Yt;if(e){var n=e;if(!Sy(t,e)){if(Ef(t))throw Error(K(418));e=Vr(n.nextSibling);var r=Zt;e&&Sy(t,e)?d_(r,n):(t.flags=t.flags&-4097|2,Le=!1,Zt=t)}}else{if(Ef(t))throw Error(K(418));t.flags=t.flags&-4097|2,Le=!1,Zt=t}}}function Cy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Wl(t){if(t!==Zt)return!1;if(!Le)return Cy(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yf(t.type,t.memoizedProps)),e&&(e=Yt)){if(Ef(t))throw h_(),Error(K(418));for(;e;)d_(t,e),e=Vr(e.nextSibling)}if(Cy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=Vr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Zt?Vr(t.stateNode.nextSibling):null;return!0}function h_(){for(var t=Yt;t;)t=Vr(t.nextSibling)}function Fi(){Yt=Zt=null,Le=!1}function Jp(t){yn===null?yn=[t]:yn.push(t)}var HN=fr.ReactCurrentBatchConfig;function zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function ql(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function by(t){var e=t._init;return e(t._payload)}function f_(t){function e(_,y){if(t){var C=_.deletions;C===null?(_.deletions=[y],_.flags|=16):C.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=zr(_,y),_.index=0,_.sibling=null,_}function i(_,y,C){return _.index=C,t?(C=_.alternate,C!==null?(C=C.index,C<y?(_.flags|=2,y):C):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,C,k){return y===null||y.tag!==6?(y=yh(C,_.mode,k),y.return=_,y):(y=s(y,C),y.return=_,y)}function u(_,y,C,k){var O=C.type;return O===pi?h(_,y,C.props.children,k,C.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===br&&by(O)===y.type)?(k=s(y,C.props),k.ref=zo(_,y,C),k.return=_,k):(k=wc(C.type,C.key,C.props,null,_.mode,k),k.ref=zo(_,y,C),k.return=_,k)}function d(_,y,C,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=xh(C,_.mode,k),y.return=_,y):(y=s(y,C.children||[]),y.return=_,y)}function h(_,y,C,k,O){return y===null||y.tag!==7?(y=Rs(C,_.mode,k,O),y.return=_,y):(y=s(y,C),y.return=_,y)}function p(_,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=yh(""+y,_.mode,C),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ol:return C=wc(y.type,y.key,y.props,null,_.mode,C),C.ref=zo(_,null,y),C.return=_,C;case fi:return y=xh(y,_.mode,C),y.return=_,y;case br:var k=y._init;return p(_,k(y._payload),C)}if(Ko(y)||Oo(y))return y=Rs(y,_.mode,C,null),y.return=_,y;ql(_,y)}return null}function g(_,y,C,k){var O=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return O!==null?null:a(_,y,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ol:return C.key===O?u(_,y,C,k):null;case fi:return C.key===O?d(_,y,C,k):null;case br:return O=C._init,g(_,y,O(C._payload),k)}if(Ko(C)||Oo(C))return O!==null?null:h(_,y,C,k,null);ql(_,C)}return null}function w(_,y,C,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(C)||null,a(y,_,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ol:return _=_.get(k.key===null?C:k.key)||null,u(y,_,k,O);case fi:return _=_.get(k.key===null?C:k.key)||null,d(y,_,k,O);case br:var D=k._init;return w(_,y,C,D(k._payload),O)}if(Ko(k)||Oo(k))return _=_.get(C)||null,h(y,_,k,O,null);ql(y,k)}return null}function b(_,y,C,k){for(var O=null,D=null,S=y,T=y=0,N=null;S!==null&&T<C.length;T++){S.index>T?(N=S,S=null):N=S.sibling;var I=g(_,S,C[T],k);if(I===null){S===null&&(S=N);break}t&&S&&I.alternate===null&&e(_,S),y=i(I,y,T),D===null?O=I:D.sibling=I,D=I,S=N}if(T===C.length)return n(_,S),Le&&xs(_,T),O;if(S===null){for(;T<C.length;T++)S=p(_,C[T],k),S!==null&&(y=i(S,y,T),D===null?O=S:D.sibling=S,D=S);return Le&&xs(_,T),O}for(S=r(_,S);T<C.length;T++)N=w(S,_,T,C[T],k),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?T:N.key),y=i(N,y,T),D===null?O=N:D.sibling=N,D=N);return t&&S.forEach(function(P){return e(_,P)}),Le&&xs(_,T),O}function x(_,y,C,k){var O=Oo(C);if(typeof O!="function")throw Error(K(150));if(C=O.call(C),C==null)throw Error(K(151));for(var D=O=null,S=y,T=y=0,N=null,I=C.next();S!==null&&!I.done;T++,I=C.next()){S.index>T?(N=S,S=null):N=S.sibling;var P=g(_,S,I.value,k);if(P===null){S===null&&(S=N);break}t&&S&&P.alternate===null&&e(_,S),y=i(P,y,T),D===null?O=P:D.sibling=P,D=P,S=N}if(I.done)return n(_,S),Le&&xs(_,T),O;if(S===null){for(;!I.done;T++,I=C.next())I=p(_,I.value,k),I!==null&&(y=i(I,y,T),D===null?O=I:D.sibling=I,D=I);return Le&&xs(_,T),O}for(S=r(_,S);!I.done;T++,I=C.next())I=w(S,_,T,I.value,k),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?T:I.key),y=i(I,y,T),D===null?O=I:D.sibling=I,D=I);return t&&S.forEach(function(j){return e(_,j)}),Le&&xs(_,T),O}function E(_,y,C,k){if(typeof C=="object"&&C!==null&&C.type===pi&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Ol:e:{for(var O=C.key,D=y;D!==null;){if(D.key===O){if(O=C.type,O===pi){if(D.tag===7){n(_,D.sibling),y=s(D,C.props.children),y.return=_,_=y;break e}}else if(D.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===br&&by(O)===D.type){n(_,D.sibling),y=s(D,C.props),y.ref=zo(_,D,C),y.return=_,_=y;break e}n(_,D);break}else e(_,D);D=D.sibling}C.type===pi?(y=Rs(C.props.children,_.mode,k,C.key),y.return=_,_=y):(k=wc(C.type,C.key,C.props,null,_.mode,k),k.ref=zo(_,y,C),k.return=_,_=k)}return o(_);case fi:e:{for(D=C.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){n(_,y.sibling),y=s(y,C.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=xh(C,_.mode,k),y.return=_,_=y}return o(_);case br:return D=C._init,E(_,y,D(C._payload),k)}if(Ko(C))return b(_,y,C,k);if(Oo(C))return x(_,y,C,k);ql(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,C),y.return=_,_=y):(n(_,y),y=yh(C,_.mode,k),y.return=_,_=y),o(_)):n(_,y)}return E}var zi=f_(!0),p_=f_(!1),Wc=ss(null),qc=null,Ei=null,Zp=null;function em(){Zp=Ei=qc=null}function tm(t){var e=Wc.current;Me(Wc),t._currentValue=e}function Sf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ii(t,e){qc=t,Zp=Ei=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Zp!==t)if(t={context:t,memoizedValue:e,next:null},Ei===null){if(qc===null)throw Error(K(308));Ei=t,qc.dependencies={lanes:0,firstContext:t}}else Ei=Ei.next=t;return e}var Ts=null;function nm(t){Ts===null?Ts=[t]:Ts.push(t)}function m_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,nm(e)):(n.next=s.next,s.next=n),e.interleaved=n,sr(t,r)}function sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rr=!1;function rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,sr(t,n)}return s=r.interleaved,s===null?(e.next=e,nm(r)):(e.next=s.next,s.next=e),r.interleaved=e,sr(t,n)}function pc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$p(t,n)}}function Ry(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kc(t,e,n,r){var s=t.updateQueue;Rr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,h=d=u=null,a=i;do{var g=a.lane,w=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,x=a;switch(g=e,w=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){p=b.call(w,p,g);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,g=typeof b=="function"?b.call(w,p,g):b,g==null)break e;p=Be({},p,g);break e;case 2:Rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else w={eventTime:w,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=w,u=p):h=h.next=w,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);js|=o,t.lanes=o,t.memoizedState=p}}function Ny(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var tl={},Ln=ss(tl),Aa=ss(tl),Pa=ss(tl);function Ss(t){if(t===tl)throw Error(K(174));return t}function sm(t,e){switch(ke(Pa,e),ke(Aa,t),ke(Ln,tl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rf(e,t)}Me(Ln),ke(Ln,e)}function Ui(){Me(Ln),Me(Aa),Me(Pa)}function v_(t){Ss(Pa.current);var e=Ss(Ln.current),n=rf(e,t.type);e!==n&&(ke(Aa,t),ke(Ln,n))}function im(t){Aa.current===t&&(Me(Ln),Me(Aa))}var Fe=ss(0);function Gc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hh=[];function om(){for(var t=0;t<hh.length;t++)hh[t]._workInProgressVersionPrimary=null;hh.length=0}var mc=fr.ReactCurrentDispatcher,fh=fr.ReactCurrentBatchConfig,ks=0,$e=null,et=null,st=null,Qc=!1,aa=!1,ka=0,WN=0;function yt(){throw Error(K(321))}function am(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function lm(t,e,n,r,s,i){if(ks=i,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mc.current=t===null||t.memoizedState===null?QN:YN,t=n(r,s),aa){i=0;do{if(aa=!1,ka=0,25<=i)throw Error(K(301));i+=1,st=et=null,e.updateQueue=null,mc.current=XN,t=n(r,s)}while(aa)}if(mc.current=Yc,e=et!==null&&et.next!==null,ks=0,st=et=$e=null,Qc=!1,e)throw Error(K(300));return t}function cm(){var t=ka!==0;return ka=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?$e.memoizedState=st=t:st=st.next=t,st}function dn(){if(et===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=st===null?$e.memoizedState:st.next;if(e!==null)st=e,et=t;else{if(t===null)throw Error(K(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},st===null?$e.memoizedState=st=t:st=st.next=t}return st}function ja(t,e){return typeof e=="function"?e(t):e}function ph(t){var e=dn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,d=i;do{var h=d.lane;if((ks&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,$e.lanes|=h,js|=h}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=a,En(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,$e.lanes|=i,js|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mh(t){var e=dn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);En(i,e.memoizedState)||(Mt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function y_(){}function x_(t,e){var n=$e,r=dn(),s=e(),i=!En(r.memoizedState,s);if(i&&(r.memoizedState=s,Mt=!0),r=r.queue,um(E_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Da(9,__.bind(null,n,r,s,e),void 0,null),it===null)throw Error(K(349));ks&30||w_(n,e,s)}return s}function w_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function __(t,e,n,r){e.value=n,e.getSnapshot=r,T_(e)&&S_(t)}function E_(t,e,n){return n(function(){T_(e)&&S_(t)})}function T_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function S_(t){var e=sr(t,1);e!==null&&wn(e,t,1,-1)}function Iy(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},e.queue=t,t=t.dispatch=GN.bind(null,$e,t),[e.memoizedState,t]}function Da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function C_(){return dn().memoizedState}function gc(t,e,n,r){var s=In();$e.flags|=t,s.memoizedState=Da(1|e,n,void 0,r===void 0?null:r)}function ju(t,e,n,r){var s=dn();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&am(r,o.deps)){s.memoizedState=Da(e,n,i,r);return}}$e.flags|=t,s.memoizedState=Da(1|e,n,i,r)}function Ay(t,e){return gc(8390656,8,t,e)}function um(t,e){return ju(2048,8,t,e)}function b_(t,e){return ju(4,2,t,e)}function R_(t,e){return ju(4,4,t,e)}function N_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function I_(t,e,n){return n=n!=null?n.concat([t]):null,ju(4,4,N_.bind(null,e,t),n)}function dm(){}function A_(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&am(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function P_(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&am(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function k_(t,e,n){return ks&21?(En(n,e)||(n=M0(),$e.lanes|=n,js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function qN(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=fh.transition;fh.transition={};try{t(!1),e()}finally{Ie=n,fh.transition=r}}function j_(){return dn().memoizedState}function KN(t,e,n){var r=Fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D_(t))O_(e,n);else if(n=m_(t,e,n,r),n!==null){var s=It();wn(n,t,r,s),V_(n,e,r)}}function GN(t,e,n){var r=Fr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D_(t))O_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,En(a,o)){var u=e.interleaved;u===null?(s.next=s,nm(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=m_(t,e,s,r),n!==null&&(s=It(),wn(n,t,r,s),V_(n,e,r))}}function D_(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function O_(t,e){aa=Qc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function V_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$p(t,n)}}var Yc={readContext:un,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},QN={readContext:un,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:Ay,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gc(4194308,4,N_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gc(4194308,4,t,e)},useInsertionEffect:function(t,e){return gc(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KN.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:Iy,useDebugValue:dm,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=Iy(!1),e=t[0];return t=qN.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,s=In();if(Le){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),it===null)throw Error(K(349));ks&30||w_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ay(E_.bind(null,r,i,t),[t]),r.flags|=2048,Da(9,__.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=In(),e=it.identifierPrefix;if(Le){var n=Jn,r=Xn;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YN={readContext:un,useCallback:A_,useContext:un,useEffect:um,useImperativeHandle:I_,useInsertionEffect:b_,useLayoutEffect:R_,useMemo:P_,useReducer:ph,useRef:C_,useState:function(){return ph(ja)},useDebugValue:dm,useDeferredValue:function(t){var e=dn();return k_(e,et.memoizedState,t)},useTransition:function(){var t=ph(ja)[0],e=dn().memoizedState;return[t,e]},useMutableSource:y_,useSyncExternalStore:x_,useId:j_,unstable_isNewReconciler:!1},XN={readContext:un,useCallback:A_,useContext:un,useEffect:um,useImperativeHandle:I_,useInsertionEffect:b_,useLayoutEffect:R_,useMemo:P_,useReducer:mh,useRef:C_,useState:function(){return mh(ja)},useDebugValue:dm,useDeferredValue:function(t){var e=dn();return et===null?e.memoizedState=t:k_(e,et.memoizedState,t)},useTransition:function(){var t=mh(ja)[0],e=dn().memoizedState;return[t,e]},useMutableSource:y_,useSyncExternalStore:x_,useId:j_,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Du={isMounted:function(t){return(t=t._reactInternals)?Gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),s=Fr(t),i=er(r,s);i.payload=e,n!=null&&(i.callback=n),e=Mr(t,i,s),e!==null&&(wn(e,t,s,r),pc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),s=Fr(t),i=er(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mr(t,i,s),e!==null&&(wn(e,t,s,r),pc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=Fr(t),s=er(n,r);s.tag=2,e!=null&&(s.callback=e),e=Mr(t,s,r),e!==null&&(wn(e,t,r,n),pc(e,t,r))}};function Py(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ba(n,r)||!ba(s,i):!0}function M_(t,e,n){var r=!1,s=Kr,i=e.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=Ft(e)?As:St.current,r=e.contextTypes,i=(r=r!=null)?Li(t,s):Kr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Du,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ky(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Du.enqueueReplaceState(e,e.state,null)}function bf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},rm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=Ft(e)?As:St.current,s.context=Li(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Du.enqueueReplaceState(s,s.state,null),Kc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $i(t,e){try{var n="",r=e;do n+=CR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JN=typeof WeakMap=="function"?WeakMap:Map;function L_(t,e,n){n=er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jc||(Jc=!0,Mf=r),Rf(t,e)},n}function F_(t,e,n){n=er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Rf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Rf(t,e),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=hI.bind(null,t,e,n),e.then(t,t))}function Dy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Oy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=er(-1,1),e.tag=2,Mr(n,e,1))),n.lanes|=1),t)}var ZN=fr.ReactCurrentOwner,Mt=!1;function Rt(t,e,n,r){e.child=t===null?p_(e,null,n,r):zi(e,t.child,n,r)}function Vy(t,e,n,r,s){n=n.render;var i=e.ref;return Ii(e,s),r=lm(t,e,n,r,i,s),n=cm(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ir(t,e,s)):(Le&&n&&Yp(e),e.flags|=1,Rt(t,e,r,s),e.child)}function My(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!xm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,z_(t,e,i,r,s)):(t=wc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ba,n(o,r)&&t.ref===e.ref)return ir(t,e,s)}return e.flags|=1,t=zr(i,r),t.ref=e.ref,t.return=e,e.child=t}function z_(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ba(i,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,ir(t,e,s)}return Nf(t,e,n,r,s)}function U_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Si,Kt),Kt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Si,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(Si,Kt),Kt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ke(Si,Kt),Kt|=r;return Rt(t,e,s,n),e.child}function $_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Nf(t,e,n,r,s){var i=Ft(n)?As:St.current;return i=Li(e,i),Ii(e,s),n=lm(t,e,n,r,i,s),r=cm(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ir(t,e,s)):(Le&&r&&Yp(e),e.flags|=1,Rt(t,e,n,s),e.child)}function Ly(t,e,n,r,s){if(Ft(n)){var i=!0;$c(e)}else i=!1;if(Ii(e,s),e.stateNode===null)vc(t,e),M_(e,n,r),bf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=un(d):(d=Ft(n)?As:St.current,d=Li(e,d));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==d)&&ky(e,o,r,d),Rr=!1;var g=e.memoizedState;o.state=g,Kc(e,r,o,s),u=e.memoizedState,a!==r||g!==u||Lt.current||Rr?(typeof h=="function"&&(Cf(e,n,h,r),u=e.memoizedState),(a=Rr||Py(e,n,a,r,g,u,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,g_(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:gn(e.type,a),o.props=d,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=un(u):(u=Ft(n)?As:St.current,u=Li(e,u));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==u)&&ky(e,o,r,u),Rr=!1,g=e.memoizedState,o.state=g,Kc(e,r,o,s);var b=e.memoizedState;a!==p||g!==b||Lt.current||Rr?(typeof w=="function"&&(Cf(e,n,w,r),b=e.memoizedState),(d=Rr||Py(e,n,d,r,g,b,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return If(t,e,n,r,i,s)}function If(t,e,n,r,s,i){$_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ty(e,n,!1),ir(t,e,i);r=e.stateNode,ZN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zi(e,t.child,null,i),e.child=zi(e,null,a,i)):Rt(t,e,a,i),e.memoizedState=r.state,s&&Ty(e,n,!0),e.child}function B_(t){var e=t.stateNode;e.pendingContext?Ey(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ey(t,e.context,!1),sm(t,e.containerInfo)}function Fy(t,e,n,r,s){return Fi(),Jp(s),e.flags|=256,Rt(t,e,n,r),e.child}var Af={dehydrated:null,treeContext:null,retryLane:0};function Pf(t){return{baseLanes:t,cachePool:null,transitions:null}}function H_(t,e,n){var r=e.pendingProps,s=Fe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ke(Fe,s&1),t===null)return Tf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mu(o,r,0,null),t=Rs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Pf(n),e.memoizedState=Af,t):hm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eI(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=zr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=zr(a,i):(i=Rs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Pf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Af,r}return i=t.child,t=i.sibling,r=zr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hm(t,e){return e=Mu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kl(t,e,n,r){return r!==null&&Jp(r),zi(e,t.child,null,n),t=hm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eI(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gh(Error(K(422))),Kl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Mu({mode:"visible",children:r.children},s,0,null),i=Rs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zi(e,t.child,null,o),e.child.memoizedState=Pf(o),e.memoizedState=Af,i);if(!(e.mode&1))return Kl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=gh(i,r,void 0),Kl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Mt||a){if(r=it,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sr(t,s),wn(r,t,s,-1))}return ym(),r=gh(Error(K(421))),Kl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Yt=Vr(s.nextSibling),Zt=e,Le=!0,yn=null,t!==null&&(on[an++]=Xn,on[an++]=Jn,on[an++]=Ps,Xn=t.id,Jn=t.overflow,Ps=e),e=hm(e,r.children),e.flags|=4096,e)}function zy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sf(t.return,e,n)}function vh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function W_(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Rt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zy(t,n,e);else if(t.tag===19)zy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vh(e,!0,n,null,i);break;case"together":vh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tI(t,e,n){switch(e.tag){case 3:B_(e),Fi();break;case 5:v_(e);break;case 1:Ft(e.type)&&$c(e);break;case 4:sm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ke(Wc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?H_(t,e,n):(ke(Fe,Fe.current&1),t=ir(t,e,n),t!==null?t.sibling:null);ke(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return W_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,U_(t,e,n)}return ir(t,e,n)}var q_,kf,K_,G_;q_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kf=function(){};K_=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ss(Ln.current);var i=null;switch(n){case"input":s=Zh(t,s),r=Zh(t,r),i=[];break;case"select":s=Be({},s,{value:void 0}),r=Be({},r,{value:void 0}),i=[];break;case"textarea":s=nf(t,s),r=nf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zc)}sf(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xa.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xa.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Oe("scroll",t),i||a===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};G_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uo(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nI(t,e,n){var r=e.pendingProps;switch(Xp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Ft(e.type)&&Uc(),xt(e),null;case 3:return r=e.stateNode,Ui(),Me(Lt),Me(St),om(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(zf(yn),yn=null))),kf(t,e),xt(e),null;case 5:im(e);var s=Ss(Pa.current);if(n=e.type,t!==null&&e.stateNode!=null)K_(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return xt(e),null}if(t=Ss(Ln.current),Wl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[kn]=e,r[Ia]=i,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<Qo.length;s++)Oe(Qo[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Qv(r,i),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Oe("invalid",r);break;case"textarea":Xv(r,i),Oe("invalid",r)}sf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hl(r.textContent,a,t),s=["children",""+a]):xa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Vl(r),Yv(r,i,!0);break;case"textarea":Vl(r),Jv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kn]=e,t[Ia]=r,q_(t,e,!1,!1),e.stateNode=t;e:{switch(o=of(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),s=r;break;case"iframe":case"object":case"embed":Oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qo.length;s++)Oe(Qo[s],t);s=r;break;case"source":Oe("error",t),s=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=r;break;case"details":Oe("toggle",t),s=r;break;case"input":Qv(t,r),s=Zh(t,r),Oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Be({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":Xv(t,r),s=nf(t,r),Oe("invalid",t);break;default:s=r}sf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?C0(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&T0(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wa(t,u):typeof u=="number"&&wa(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xa.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Oe("scroll",t):u!=null&&Vp(t,i,u,o))}switch(n){case"input":Vl(t),Yv(t,r,!1);break;case"textarea":Vl(t),Jv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ci(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ci(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)G_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Ss(Pa.current),Ss(Ln.current),Wl(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(i=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:Hl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return xt(e),null;case 13:if(Me(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&Yt!==null&&e.mode&1&&!(e.flags&128))h_(),Fi(),e.flags|=98560,i=!1;else if(i=Wl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[kn]=e}else Fi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),i=!1}else yn!==null&&(zf(yn),yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?tt===0&&(tt=3):ym())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Ui(),kf(t,e),t===null&&Ra(e.stateNode.containerInfo),xt(e),null;case 10:return tm(e.type._context),xt(e),null;case 17:return Ft(e.type)&&Uc(),xt(e),null;case 19:if(Me(Fe),i=e.memoizedState,i===null)return xt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Uo(i,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gc(t),o!==null){for(e.flags|=128,Uo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Fe,Fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Qe()>Bi&&(e.flags|=128,r=!0,Uo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Le)return xt(e),null}else 2*Qe()-i.renderingStartTime>Bi&&n!==1073741824&&(e.flags|=128,r=!0,Uo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Qe(),e.sibling=null,n=Fe.current,ke(Fe,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return vm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function rI(t,e){switch(Xp(e),e.tag){case 1:return Ft(e.type)&&Uc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ui(),Me(Lt),Me(St),om(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return im(e),null;case 13:if(Me(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Fi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Fe),null;case 4:return Ui(),null;case 10:return tm(e.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var Gl=!1,Et=!1,sI=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ti(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function jf(t,e,n){try{n()}catch(r){qe(t,e,r)}}var Uy=!1;function iI(t,e){if(gf=Mc,t=Z0(),Qp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,d=0,h=0,p=t,g=null;t:for(;;){for(var w;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)g=p,p=w;for(;;){if(p===t)break t;if(g===n&&++d===s&&(a=o),g===i&&++h===r&&(u=o),(w=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(vf={focusedElem:t,selectionRange:n},Mc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,E=b.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:gn(e.type,x),E);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(k){qe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return b=Uy,Uy=!1,b}function la(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jf(e,n,i)}s=s.next}while(s!==r)}}function Ou(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Df(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Q_(t){var e=t.alternate;e!==null&&(t.alternate=null,Q_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[Ia],delete e[wf],delete e[UN],delete e[$N])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Y_(t){return t.tag===5||t.tag===3||t.tag===4}function $y(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zc));else if(r!==4&&(t=t.child,t!==null))for(Of(t,e,n),t=t.sibling;t!==null;)Of(t,e,n),t=t.sibling}function Vf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vf(t,e,n),t=t.sibling;t!==null;)Vf(t,e,n),t=t.sibling}var ct=null,vn=!1;function xr(t,e,n){for(n=n.child;n!==null;)X_(t,e,n),n=n.sibling}function X_(t,e,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Ru,n)}catch{}switch(n.tag){case 5:Et||Ti(n,e);case 6:var r=ct,s=vn;ct=null,xr(t,e,n),ct=r,vn=s,ct!==null&&(vn?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(vn?(t=ct,n=n.stateNode,t.nodeType===8?uh(t.parentNode,n):t.nodeType===1&&uh(t,n),Sa(t)):uh(ct,n.stateNode));break;case 4:r=ct,s=vn,ct=n.stateNode.containerInfo,vn=!0,xr(t,e,n),ct=r,vn=s;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jf(n,e,o),s=s.next}while(s!==r)}xr(t,e,n);break;case 1:if(!Et&&(Ti(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}xr(t,e,n);break;case 21:xr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,xr(t,e,n),Et=r):xr(t,e,n);break;default:xr(t,e,n)}}function By(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sI),e.forEach(function(r){var s=pI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,vn=!1;break e;case 3:ct=a.stateNode.containerInfo,vn=!0;break e;case 4:ct=a.stateNode.containerInfo,vn=!0;break e}a=a.return}if(ct===null)throw Error(K(160));X_(i,o,s),ct=null,vn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){qe(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)J_(e,t),e=e.sibling}function J_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),Nn(t),r&4){try{la(3,t,t.return),Ou(3,t)}catch(x){qe(t,t.return,x)}try{la(5,t,t.return)}catch(x){qe(t,t.return,x)}}break;case 1:fn(e,t),Nn(t),r&512&&n!==null&&Ti(n,n.return);break;case 5:if(fn(e,t),Nn(t),r&512&&n!==null&&Ti(n,n.return),t.flags&32){var s=t.stateNode;try{wa(s,"")}catch(x){qe(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&w0(s,i),of(a,o);var d=of(a,i);for(o=0;o<u.length;o+=2){var h=u[o],p=u[o+1];h==="style"?C0(s,p):h==="dangerouslySetInnerHTML"?T0(s,p):h==="children"?wa(s,p):Vp(s,h,p,d)}switch(a){case"input":ef(s,i);break;case"textarea":_0(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Ci(s,!!i.multiple,w,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ci(s,!!i.multiple,i.defaultValue,!0):Ci(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ia]=i}catch(x){qe(t,t.return,x)}}break;case 6:if(fn(e,t),Nn(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){qe(t,t.return,x)}}break;case 3:if(fn(e,t),Nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(e.containerInfo)}catch(x){qe(t,t.return,x)}break;case 4:fn(e,t),Nn(t);break;case 13:fn(e,t),Nn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mm=Qe())),r&4&&By(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(d=Et)||h,fn(e,t),Et=d):fn(e,t),Nn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(p=ne=h;ne!==null;){switch(g=ne,w=g.child,g.tag){case 0:case 11:case 14:case 15:la(4,g,g.return);break;case 1:Ti(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){qe(r,n,x)}}break;case 5:Ti(g,g.return);break;case 22:if(g.memoizedState!==null){Wy(p);continue}}w!==null?(w.return=g,ne=w):Wy(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=S0("display",o))}catch(x){qe(t,t.return,x)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(x){qe(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fn(e,t),Nn(t),r&4&&By(t);break;case 21:break;default:fn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Y_(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wa(s,""),r.flags&=-33);var i=$y(t);Vf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$y(t);Of(t,a,o);break;default:throw Error(K(161))}}catch(u){qe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oI(t,e,n){ne=t,Z_(t)}function Z_(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gl;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Et;a=Gl;var d=Et;if(Gl=o,(Et=u)&&!d)for(ne=s;ne!==null;)o=ne,u=o.child,o.tag===22&&o.memoizedState!==null?qy(s):u!==null?(u.return=o,ne=u):qy(s);for(;i!==null;)ne=i,Z_(i),i=i.sibling;ne=s,Gl=a,Et=d}Hy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):Hy(t)}}function Hy(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Ou(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ny(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ny(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Sa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Et||e.flags&512&&Df(e)}catch(g){qe(e,e.return,g)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Wy(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function qy(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ou(4,e)}catch(u){qe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){qe(e,s,u)}}var i=e.return;try{Df(e)}catch(u){qe(e,i,u)}break;case 5:var o=e.return;try{Df(e)}catch(u){qe(e,o,u)}}}catch(u){qe(e,e.return,u)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var aI=Math.ceil,Xc=fr.ReactCurrentDispatcher,fm=fr.ReactCurrentOwner,cn=fr.ReactCurrentBatchConfig,Ce=0,it=null,Je=null,ht=0,Kt=0,Si=ss(0),tt=0,Oa=null,js=0,Vu=0,pm=0,ca=null,Dt=null,mm=0,Bi=1/0,Qn=null,Jc=!1,Mf=null,Lr=null,Ql=!1,Pr=null,Zc=0,ua=0,Lf=null,yc=-1,xc=0;function It(){return Ce&6?Qe():yc!==-1?yc:yc=Qe()}function Fr(t){return t.mode&1?Ce&2&&ht!==0?ht&-ht:HN.transition!==null?(xc===0&&(xc=M0()),xc):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:H0(t.type)),t):1}function wn(t,e,n,r){if(50<ua)throw ua=0,Lf=null,Error(K(185));Ja(t,n,r),(!(Ce&2)||t!==it)&&(t===it&&(!(Ce&2)&&(Vu|=n),tt===4&&Ir(t,ht)),zt(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Bi=Qe()+500,ku&&is()))}function zt(t,e){var n=t.callbackNode;HR(t,e);var r=Vc(t,t===it?ht:0);if(r===0)n!==null&&ty(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ty(n),e===1)t.tag===0?BN(Ky.bind(null,t)):c_(Ky.bind(null,t)),FN(function(){!(Ce&6)&&is()}),n=null;else{switch(L0(r)){case 1:n=Up;break;case 4:n=O0;break;case 16:n=Oc;break;case 536870912:n=V0;break;default:n=Oc}n=aE(n,eE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eE(t,e){if(yc=-1,xc=0,Ce&6)throw Error(K(327));var n=t.callbackNode;if(Ai()&&t.callbackNode!==n)return null;var r=Vc(t,t===it?ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=eu(t,r);else{e=r;var s=Ce;Ce|=2;var i=nE();(it!==t||ht!==e)&&(Qn=null,Bi=Qe()+500,bs(t,e));do try{uI();break}catch(a){tE(t,a)}while(!0);em(),Xc.current=i,Ce=s,Je!==null?e=0:(it=null,ht=0,e=tt)}if(e!==0){if(e===2&&(s=df(t),s!==0&&(r=s,e=Ff(t,s))),e===1)throw n=Oa,bs(t,0),Ir(t,r),zt(t,Qe()),n;if(e===6)Ir(t,r);else{if(s=t.current.alternate,!(r&30)&&!lI(s)&&(e=eu(t,r),e===2&&(i=df(t),i!==0&&(r=i,e=Ff(t,i))),e===1))throw n=Oa,bs(t,0),Ir(t,r),zt(t,Qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:ws(t,Dt,Qn);break;case 3:if(Ir(t,r),(r&130023424)===r&&(e=mm+500-Qe(),10<e)){if(Vc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xf(ws.bind(null,t,Dt,Qn),e);break}ws(t,Dt,Qn);break;case 4:if(Ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aI(r/1960))-r,10<r){t.timeoutHandle=xf(ws.bind(null,t,Dt,Qn),r);break}ws(t,Dt,Qn);break;case 5:ws(t,Dt,Qn);break;default:throw Error(K(329))}}}return zt(t,Qe()),t.callbackNode===n?eE.bind(null,t):null}function Ff(t,e){var n=ca;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=eu(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&zf(e)),t}function zf(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function lI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!En(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~pm,e&=~Vu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function Ky(t){if(Ce&6)throw Error(K(327));Ai();var e=Vc(t,0);if(!(e&1))return zt(t,Qe()),null;var n=eu(t,e);if(t.tag!==0&&n===2){var r=df(t);r!==0&&(e=r,n=Ff(t,r))}if(n===1)throw n=Oa,bs(t,0),Ir(t,e),zt(t,Qe()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,Dt,Qn),zt(t,Qe()),null}function gm(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Bi=Qe()+500,ku&&is())}}function Ds(t){Pr!==null&&Pr.tag===0&&!(Ce&6)&&Ai();var e=Ce;Ce|=1;var n=cn.transition,r=Ie;try{if(cn.transition=null,Ie=1,t)return t()}finally{Ie=r,cn.transition=n,Ce=e,!(Ce&6)&&is()}}function vm(){Kt=Si.current,Me(Si)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LN(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Xp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uc();break;case 3:Ui(),Me(Lt),Me(St),om();break;case 5:im(r);break;case 4:Ui();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:tm(r.type._context);break;case 22:case 23:vm()}n=n.return}if(it=t,Je=t=zr(t.current,null),ht=Kt=e,tt=0,Oa=null,pm=Vu=js=0,Dt=ca=null,Ts!==null){for(e=0;e<Ts.length;e++)if(n=Ts[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ts=null}return t}function tE(t,e){do{var n=Je;try{if(em(),mc.current=Yc,Qc){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qc=!1}if(ks=0,st=et=$e=null,aa=!1,ka=0,fm.current=null,n===null||n.return===null){tt=1,Oa=e,Je=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=ht,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=Dy(o);if(w!==null){w.flags&=-257,Oy(w,o,a,i,e),w.mode&1&&jy(i,d,e),e=w,u=d;var b=e.updateQueue;if(b===null){var x=new Set;x.add(u),e.updateQueue=x}else b.add(u);break e}else{if(!(e&1)){jy(i,d,e),ym();break e}u=Error(K(426))}}else if(Le&&a.mode&1){var E=Dy(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Oy(E,o,a,i,e),Jp($i(u,a));break e}}i=u=$i(u,a),tt!==4&&(tt=2),ca===null?ca=[i]:ca.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=L_(i,u,e);Ry(i,_);break e;case 1:a=u;var y=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Lr===null||!Lr.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=F_(i,a,e);Ry(i,k);break e}}i=i.return}while(i!==null)}sE(n)}catch(O){e=O,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function nE(){var t=Xc.current;return Xc.current=Yc,t===null?Yc:t}function ym(){(tt===0||tt===3||tt===2)&&(tt=4),it===null||!(js&268435455)&&!(Vu&268435455)||Ir(it,ht)}function eu(t,e){var n=Ce;Ce|=2;var r=nE();(it!==t||ht!==e)&&(Qn=null,bs(t,e));do try{cI();break}catch(s){tE(t,s)}while(!0);if(em(),Ce=n,Xc.current=r,Je!==null)throw Error(K(261));return it=null,ht=0,tt}function cI(){for(;Je!==null;)rE(Je)}function uI(){for(;Je!==null&&!OR();)rE(Je)}function rE(t){var e=oE(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?sE(t):Je=e,fm.current=null}function sE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rI(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Je=null;return}}else if(n=nI(n,e,Kt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);tt===0&&(tt=5)}function ws(t,e,n){var r=Ie,s=cn.transition;try{cn.transition=null,Ie=1,dI(t,e,n,r)}finally{cn.transition=s,Ie=r}return null}function dI(t,e,n,r){do Ai();while(Pr!==null);if(Ce&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(WR(t,i),t===it&&(Je=it=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ql||(Ql=!0,aE(Oc,function(){return Ai(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=Ie;Ie=1;var a=Ce;Ce|=4,fm.current=null,iI(t,n),J_(n,t),PN(vf),Mc=!!gf,vf=gf=null,t.current=n,oI(n),VR(),Ce=a,Ie=o,cn.transition=i}else t.current=n;if(Ql&&(Ql=!1,Pr=t,Zc=s),i=t.pendingLanes,i===0&&(Lr=null),FR(n.stateNode),zt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jc)throw Jc=!1,t=Mf,Mf=null,t;return Zc&1&&t.tag!==0&&Ai(),i=t.pendingLanes,i&1?t===Lf?ua++:(ua=0,Lf=t):ua=0,is(),null}function Ai(){if(Pr!==null){var t=L0(Zc),e=cn.transition,n=Ie;try{if(cn.transition=null,Ie=16>t?16:t,Pr===null)var r=!1;else{if(t=Pr,Pr=null,Zc=0,Ce&6)throw Error(K(331));var s=Ce;for(Ce|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(ne=d;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:la(8,h,i)}var p=h.child;if(p!==null)p.return=h,ne=p;else for(;ne!==null;){h=ne;var g=h.sibling,w=h.return;if(Q_(h),h===d){ne=null;break}if(g!==null){g.return=w,ne=g;break}ne=w}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:la(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ne=_;break e}ne=i.return}}var y=t.current;for(ne=y;ne!==null;){o=ne;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ne=C;else e:for(o=y;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ou(9,a)}}catch(O){qe(a,a.return,O)}if(a===o){ne=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ne=k;break e}ne=a.return}}if(Ce=s,is(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Ru,t)}catch{}r=!0}return r}finally{Ie=n,cn.transition=e}}return!1}function Gy(t,e,n){e=$i(n,e),e=L_(t,e,1),t=Mr(t,e,1),e=It(),t!==null&&(Ja(t,1,e),zt(t,e))}function qe(t,e,n){if(t.tag===3)Gy(t,t,n);else for(;e!==null;){if(e.tag===3){Gy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){t=$i(n,t),t=F_(e,t,1),e=Mr(e,t,1),t=It(),e!==null&&(Ja(e,1,t),zt(e,t));break}}e=e.return}}function hI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(ht&n)===n&&(tt===4||tt===3&&(ht&130023424)===ht&&500>Qe()-mm?bs(t,0):pm|=n),zt(t,e)}function iE(t,e){e===0&&(t.mode&1?(e=Fl,Fl<<=1,!(Fl&130023424)&&(Fl=4194304)):e=1);var n=It();t=sr(t,e),t!==null&&(Ja(t,e,n),zt(t,n))}function fI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iE(t,n)}function pI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),iE(t,n)}var oE;oE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,tI(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,Le&&e.flags&1048576&&u_(e,Hc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vc(t,e),t=e.pendingProps;var s=Li(e,St.current);Ii(e,n),s=lm(null,e,r,t,s,n);var i=cm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(i=!0,$c(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rm(e),s.updater=Du,e.stateNode=s,s._reactInternals=e,bf(e,r,t,n),e=If(null,e,r,!0,i,n)):(e.tag=0,Le&&i&&Yp(e),Rt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gI(r),t=gn(r,t),s){case 0:e=Nf(null,e,r,t,n);break e;case 1:e=Ly(null,e,r,t,n);break e;case 11:e=Vy(null,e,r,t,n);break e;case 14:e=My(null,e,r,gn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Nf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Ly(t,e,r,s,n);case 3:e:{if(B_(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,g_(t,e),Kc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$i(Error(K(423)),e),e=Fy(t,e,r,n,s);break e}else if(r!==s){s=$i(Error(K(424)),e),e=Fy(t,e,r,n,s);break e}else for(Yt=Vr(e.stateNode.containerInfo.firstChild),Zt=e,Le=!0,yn=null,n=p_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fi(),r===s){e=ir(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return v_(e),t===null&&Tf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,yf(r,s)?o=null:i!==null&&yf(r,i)&&(e.flags|=32),$_(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&Tf(e),null;case 13:return H_(t,e,n);case 4:return sm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zi(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Vy(t,e,r,s,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ke(Wc,r._currentValue),r._currentValue=o,i!==null)if(En(i.value,o)){if(i.children===s.children&&!Lt.current){e=ir(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=er(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Sf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Rt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ii(e,n),s=un(s),r=r(s),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,s=gn(r,e.pendingProps),s=gn(r.type,s),My(t,e,r,s,n);case 15:return z_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),vc(t,e),e.tag=1,Ft(r)?(t=!0,$c(e)):t=!1,Ii(e,n),M_(e,r,s),bf(e,r,s,n),If(null,e,r,!0,t,n);case 19:return W_(t,e,n);case 22:return U_(t,e,n)}throw Error(K(156,e.tag))};function aE(t,e){return D0(t,e)}function mI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,n,r){return new mI(t,e,n,r)}function xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gI(t){if(typeof t=="function")return xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lp)return 11;if(t===Fp)return 14}return 2}function zr(t,e){var n=t.alternate;return n===null?(n=ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")xm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pi:return Rs(n.children,s,i,e);case Mp:o=8,s|=8;break;case Qh:return t=ln(12,n,e,s|2),t.elementType=Qh,t.lanes=i,t;case Yh:return t=ln(13,n,e,s),t.elementType=Yh,t.lanes=i,t;case Xh:return t=ln(19,n,e,s),t.elementType=Xh,t.lanes=i,t;case v0:return Mu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m0:o=10;break e;case g0:o=9;break e;case Lp:o=11;break e;case Fp:o=14;break e;case br:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=ln(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Rs(t,e,n,r){return t=ln(7,t,r,e),t.lanes=n,t}function Mu(t,e,n,r){return t=ln(22,t,r,e),t.elementType=v0,t.lanes=n,t.stateNode={isHidden:!1},t}function yh(t,e,n){return t=ln(6,t,null,e),t.lanes=n,t}function xh(t,e,n){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vI(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wm(t,e,n,r,s,i,o,a,u){return t=new vI(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rm(i),t}function yI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lE(t){if(!t)return Kr;t=t._reactInternals;e:{if(Gs(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Ft(n))return l_(t,n,e)}return e}function cE(t,e,n,r,s,i,o,a,u){return t=wm(n,r,!0,t,s,i,o,a,u),t.context=lE(null),n=t.current,r=It(),s=Fr(n),i=er(r,s),i.callback=e??null,Mr(n,i,s),t.current.lanes=s,Ja(t,s,r),zt(t,r),t}function Lu(t,e,n,r){var s=e.current,i=It(),o=Fr(s);return n=lE(n),e.context===null?e.context=n:e.pendingContext=n,e=er(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mr(s,e,o),t!==null&&(wn(t,s,o,i),pc(t,s,o)),o}function tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _m(t,e){Qy(t,e),(t=t.alternate)&&Qy(t,e)}function xI(){return null}var uE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Em(t){this._internalRoot=t}Fu.prototype.render=Em.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Lu(t,e,null,null)};Fu.prototype.unmount=Em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ds(function(){Lu(null,t,null,null)}),e[rr]=null}};function Fu(t){this._internalRoot=t}Fu.prototype.unstable_scheduleHydration=function(t){if(t){var e=U0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nr.length&&e!==0&&e<Nr[n].priority;n++);Nr.splice(n,0,t),n===0&&B0(t)}};function Tm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yy(){}function wI(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=tu(o);i.call(d)}}var o=cE(e,r,t,0,null,!1,!1,"",Yy);return t._reactRootContainer=o,t[rr]=o.current,Ra(t.nodeType===8?t.parentNode:t),Ds(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=tu(u);a.call(d)}}var u=wm(t,0,!1,null,null,!1,!1,"",Yy);return t._reactRootContainer=u,t[rr]=u.current,Ra(t.nodeType===8?t.parentNode:t),Ds(function(){Lu(e,u,n,r)}),u}function Uu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=tu(o);a.call(u)}}Lu(e,o,t,s)}else o=wI(n,e,t,s,r);return tu(o)}F0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Go(e.pendingLanes);n!==0&&($p(e,n|1),zt(e,Qe()),!(Ce&6)&&(Bi=Qe()+500,is()))}break;case 13:Ds(function(){var r=sr(t,1);if(r!==null){var s=It();wn(r,t,1,s)}}),_m(t,1)}};Bp=function(t){if(t.tag===13){var e=sr(t,134217728);if(e!==null){var n=It();wn(e,t,134217728,n)}_m(t,134217728)}};z0=function(t){if(t.tag===13){var e=Fr(t),n=sr(t,e);if(n!==null){var r=It();wn(n,t,e,r)}_m(t,e)}};U0=function(){return Ie};$0=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};lf=function(t,e,n){switch(e){case"input":if(ef(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Pu(r);if(!s)throw Error(K(90));x0(r),ef(r,s)}}}break;case"textarea":_0(t,n);break;case"select":e=n.value,e!=null&&Ci(t,!!n.multiple,e,!1)}};N0=gm;I0=Ds;var _I={usingClientEntryPoint:!1,Events:[el,yi,Pu,b0,R0,gm]},$o={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EI={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k0(t),t===null?null:t.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||xI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Ru=Yl.inject(EI),Mn=Yl}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_I;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tm(e))throw Error(K(200));return yI(t,e,null,n)};nn.createRoot=function(t,e){if(!Tm(t))throw Error(K(299));var n=!1,r="",s=uE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wm(t,1,!1,null,null,n,!1,r,s),t[rr]=e.current,Ra(t.nodeType===8?t.parentNode:t),new Em(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=k0(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return Ds(t)};nn.hydrate=function(t,e,n){if(!zu(e))throw Error(K(200));return Uu(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!Tm(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=uE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cE(e,null,t,1,n??null,s,!1,i,o),t[rr]=e.current,Ra(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Fu(e)};nn.render=function(t,e,n){if(!zu(e))throw Error(K(200));return Uu(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!zu(t))throw Error(K(40));return t._reactRootContainer?(Ds(function(){Uu(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};nn.unstable_batchedUpdates=gm;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zu(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Uu(t,e,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function dE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dE)}catch(t){console.error(t)}}dE(),d0.exports=nn;var Qs=d0.exports;const TI=Zw(Qs);var hE,Xy=Qs;hE=Xy.createRoot,Xy.hydrateRoot;function SI(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var fE={exports:{}},pE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=m;function CI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bI=typeof Object.is=="function"?Object.is:CI,RI=Hi.useState,NI=Hi.useEffect,II=Hi.useLayoutEffect,AI=Hi.useDebugValue;function PI(t,e){var n=e(),r=RI({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return II(function(){s.value=n,s.getSnapshot=e,wh(s)&&i({inst:s})},[t,n,e]),NI(function(){return wh(s)&&i({inst:s}),t(function(){wh(s)&&i({inst:s})})},[t]),AI(n),n}function wh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bI(t,n)}catch{return!0}}function kI(t,e){return e()}var jI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kI:PI;pE.useSyncExternalStore=Hi.useSyncExternalStore!==void 0?Hi.useSyncExternalStore:jI;fE.exports=pE;var DI=fE.exports;const OI=jp.useInsertionEffect,VI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MI=VI?m.useLayoutEffect:m.useEffect,LI=OI||MI,mE=t=>{const e=m.useRef([t,(...n)=>e[0](...n)]).current;return LI(()=>{e[0]=t}),e[1]},FI="popstate",Sm="pushState",Cm="replaceState",zI="hashchange",Jy=[FI,Sm,Cm,zI],UI=t=>{for(const e of Jy)addEventListener(e,t);return()=>{for(const e of Jy)removeEventListener(e,t)}},gE=(t,e)=>DI.useSyncExternalStore(UI,t,e),$I=()=>location.search,BI=({ssrSearch:t=""}={})=>gE($I,()=>t),Zy=()=>location.pathname,HI=({ssrPath:t}={})=>gE(Zy,t?()=>t:Zy),WI=(t,{replace:e=!1,state:n=null}={})=>history[e?Cm:Sm](n,"",t),qI=(t={})=>[HI(t),WI],ex=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ex]>"u"){for(const t of[Sm,Cm]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ex,{value:!0})}const KI=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",vE=(t="")=>t==="/"?"":t,GI=(t,e)=>t[0]==="~"?t.slice(1):vE(e)+t,QI=(t="",e)=>KI(tx(vE(t)),tx(e)),tx=t=>{try{return decodeURI(t)}catch{return t}},yE={hook:qI,searchHook:BI,parser:SI,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},xE=m.createContext(yE),nl=()=>m.useContext(xE),wE={},_E=m.createContext(wE),YI=()=>m.useContext(_E),$u=t=>{const[e,n]=t.hook(t);return[QI(t.base,e),mE((r,s)=>n(GI(r,t.base),s))]},XI=()=>$u(nl()),EE=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...u]=o;return a!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((p,g)=>[p,u[g]])):o.groups;let h={...u};return d&&Object.assign(h,d),h})(),...r?[a]:[]]:[!1,null]},TE=({children:t,...e})=>{var h,p;const n=nl(),r=e.hook?yE:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((p=e.hook)==null?void 0:p.hrefs);let a=m.useRef({}),u=a.current,d=u;for(let g in r){const w=g==="base"?r[g]+(e[g]||""):e[g]||r[g];u===d&&w!==d[g]&&(a.current=d={...d}),d[g]=w,(w!==r[g]||w!==s[g])&&(s=d)}return m.createElement(xE.Provider,{value:s,children:t})},nx=({children:t,component:e},n)=>e?m.createElement(e,{params:n}):typeof t=="function"?t(n):t,JI=t=>{let e=m.useRef(wE);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},ys=({path:t,nest:e,match:n,...r})=>{const s=nl(),[i]=$u(s),[o,a,u]=n??EE(s.parser,t,i,e),d=JI({...YI(),...a});if(!o)return null;const h=u?m.createElement(TE,{base:u},nx(r,d)):nx(r,d);return m.createElement(_E.Provider,{value:d,children:h})},da=m.forwardRef((t,e)=>{const n=nl(),[r,s]=$u(n),{to:i="",href:o=i,onClick:a,asChild:u,children:d,className:h,replace:p,state:g,...w}=t,b=mE(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(a==null||a(E),E.defaultPrevented||(E.preventDefault(),s(o,t)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return u&&m.isValidElement(d)?m.cloneElement(d,{onClick:b,href:x}):m.createElement("a",{...w,onClick:b,href:x,className:h!=null&&h.call?h(r===o):h,children:d,ref:e})}),SE=t=>Array.isArray(t)?t.flatMap(e=>SE(e&&e.type===m.Fragment?e.props.children:e)):[t],ZI=({children:t,location:e})=>{const n=nl(),[r]=$u(n);for(const s of SE(t)){let i=0;if(m.isValidElement(s)&&(i=EE(n.parser,s.props.path,e||r,s.props.nest))[0])return m.cloneElement(s,{match:i})}return null},eA=1,tA=1e6;let _h=0;function nA(){return _h=(_h+1)%Number.MAX_SAFE_INTEGER,_h.toString()}const Eh=new Map,rx=t=>{if(Eh.has(t))return;const e=setTimeout(()=>{Eh.delete(t),ha({type:"REMOVE_TOAST",toastId:t})},tA);Eh.set(t,e)},rA=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,eA)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?rx(n):t.toasts.forEach(r=>{rx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},_c=[];let Ec={toasts:[]};function ha(t){Ec=rA(Ec,t),_c.forEach(e=>{e(Ec)})}function sA({...t}){const e=nA(),n=s=>ha({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ha({type:"DISMISS_TOAST",toastId:e});return ha({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Bu(){const[t,e]=m.useState(Ec);return m.useEffect(()=>(_c.push(e),()=>{const n=_c.indexOf(e);n>-1&&_c.splice(n,1)}),[t]),{...t,toast:sA,dismiss:n=>ha({type:"DISMISS_TOAST",toastId:n})}}function le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function sx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Os(...t){return e=>{let n=!1;const r=t.map(s=>{const i=sx(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():sx(t[s],null)}}}}function Ae(...t){return m.useCallback(Os(...t),t)}function iA(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,u=m.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function os(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),u=n.length;n=[...n,o];const d=p=>{var _;const{scope:g,children:w,...b}=p,x=((_=g==null?void 0:g[t])==null?void 0:_[u])||a,E=m.useMemo(()=>b,Object.values(b));return c.jsx(x.Provider,{value:E,children:w})};d.displayName=i+"Provider";function h(p,g){var x;const w=((x=g==null?void 0:g[t])==null?void 0:x[u])||a,b=m.useContext(w);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,oA(s,...e)]}function oA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:d})=>{const p=u(i)[`__scope${d}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Vs(t){const e=lA(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),u=a.find(uA);if(u){const d=u.props.children,h=a.map(p=>p===u?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:p);return c.jsx(e,{...o,ref:s,children:m.isValidElement(d)?m.cloneElement(d,void 0,h):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var aA=Vs("Slot");function lA(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=hA(s),a=dA(i,s.props);return s.type!==m.Fragment&&(a.ref=r?Os(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var CE=Symbol("radix.slottable");function cA(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=CE,e}function uA(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===CE}function dA(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function hA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bE(t){const e=t+"CollectionProvider",[n,r]=os(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:E,children:_}=x,y=Sr.useRef(null),C=Sr.useRef(new Map).current;return c.jsx(s,{scope:E,itemMap:C,collectionRef:y,children:_})};o.displayName=e;const a=t+"CollectionSlot",u=Vs(a),d=Sr.forwardRef((x,E)=>{const{scope:_,children:y}=x,C=i(a,_),k=Ae(E,C.collectionRef);return c.jsx(u,{ref:k,children:y})});d.displayName=a;const h=t+"CollectionItemSlot",p="data-radix-collection-item",g=Vs(h),w=Sr.forwardRef((x,E)=>{const{scope:_,children:y,...C}=x,k=Sr.useRef(null),O=Ae(E,k),D=i(h,_);return Sr.useEffect(()=>(D.itemMap.set(k,{ref:k,...C}),()=>void D.itemMap.delete(k))),c.jsx(g,{[p]:"",ref:O,children:y})});w.displayName=h;function b(x){const E=i(t+"CollectionConsumer",x);return Sr.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const C=Array.from(y.querySelectorAll(`[${p}]`));return Array.from(E.itemMap.values()).sort((D,S)=>C.indexOf(D.ref.current)-C.indexOf(S.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},b,r]}var fA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=fA.reduce((t,e)=>{const n=Vs(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function RE(t,e){t&&Qs.flushSync(()=>t.dispatchEvent(e))}function Tn(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pA(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mA="DismissableLayer",Uf="dismissableLayer.update",gA="dismissableLayer.pointerDownOutside",vA="dismissableLayer.focusOutside",ix,NE=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ao=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,d=m.useContext(NE),[h,p]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=m.useState({}),b=Ae(e,S=>p(S)),x=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(E),y=h?x.indexOf(h):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,k=y>=_,O=xA(S=>{const T=S.target,N=[...d.branches].some(I=>I.contains(T));!k||N||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},g),D=wA(S=>{const T=S.target;[...d.branches].some(I=>I.contains(T))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},g);return pA(S=>{y===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},g),m.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ix=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),ox(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=ix)}},[h,g,n,d]),m.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),ox())},[h,d]),m.useEffect(()=>{const S=()=>w({});return document.addEventListener(Uf,S),()=>document.removeEventListener(Uf,S)},[]),c.jsx(ce.div,{...u,ref:b,style:{pointerEvents:C?k?"auto":"none":void 0,...t.style},onFocusCapture:le(t.onFocusCapture,D.onFocusCapture),onBlurCapture:le(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:le(t.onPointerDownCapture,O.onPointerDownCapture)})});ao.displayName=mA;var yA="DismissableLayerBranch",IE=m.forwardRef((t,e)=>{const n=m.useContext(NE),r=m.useRef(null),s=Ae(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ce.div,{...t,ref:s})});IE.displayName=yA;function xA(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){AE(gA,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wA(t,e=globalThis==null?void 0:globalThis.document){const n=Tn(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&AE(vA,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ox(){const t=new CustomEvent(Uf);document.dispatchEvent(t)}function AE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?RE(s,i):s.dispatchEvent(i)}var _A=ao,EA=IE,ot=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},TA="Portal",rl=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);ot(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?TI.createPortal(c.jsx(ce.div,{...r,ref:e}),o):null});rl.displayName=TA;function SA(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var pr=t=>{const{present:e,children:n}=t,r=CA(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Ae(r.ref,bA(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};pr.displayName="Presence";function CA(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,u]=SA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Xl(r.current);i.current=a==="mounted"?d:"none"},[a]),ot(()=>{const d=r.current,h=s.current;if(h!==t){const g=i.current,w=Xl(d);t?u("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&g!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),ot(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,p=w=>{const x=Xl(r.current).includes(w.animationName);if(w.target===e&&x&&(u("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},g=w=>{w.target===e&&(i.current=Xl(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Xl(t){return(t==null?void 0:t.animationName)||"none"}function bA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var RA=jp[" useInsertionEffect ".trim().toString()]||ot;function Wi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=NA({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const h=m.useRef(t!==void 0);m.useEffect(()=>{const p=h.current;p!==a&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=m.useCallback(h=>{var p;if(a){const g=IA(h)?h(t):h;g!==t&&((p=o.current)==null||p.call(o,g))}else i(h)},[a,t,i,o]);return[u,d]}function NA({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),i=m.useRef(e);return RA(()=>{i.current=e},[e]),m.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function IA(t){return typeof t=="function"}var PE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AA="VisuallyHidden",Hu=m.forwardRef((t,e)=>c.jsx(ce.span,{...t,ref:e,style:{...PE,...t.style}}));Hu.displayName=AA;var PA=Hu,bm="ToastProvider",[Rm,kA,jA]=bE("Toast"),[kE,q6]=os("Toast",[jA]),[DA,Wu]=kE(bm),jE=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=m.useState(null),[d,h]=m.useState(0),p=m.useRef(!1),g=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bm}\`. Expected non-empty \`string\`.`),c.jsx(Rm.Provider,{scope:e,children:c.jsx(DA,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:u,onToastAdd:m.useCallback(()=>h(w=>w+1),[]),onToastRemove:m.useCallback(()=>h(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:o})})};jE.displayName=bm;var DE="ToastViewport",OA=["F8"],$f="toast.viewportPause",Bf="toast.viewportResume",OE=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=OA,label:s="Notifications ({hotkey})",...i}=t,o=Wu(DE,n),a=kA(n),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),p=m.useRef(null),g=Ae(e,p,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;m.useEffect(()=>{const E=_=>{var C;r.length!==0&&r.every(k=>_[k]||_.code===k)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=u.current,_=p.current;if(b&&E&&_){const y=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent($f);_.dispatchEvent(D),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(Bf);_.dispatchEvent(D),o.isClosePausedRef.current=!1}},k=D=>{!E.contains(D.relatedTarget)&&C()},O=()=>{E.contains(document.activeElement)||C()};return E.addEventListener("focusin",y),E.addEventListener("focusout",k),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",C),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",k),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",C)}}},[b,o.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:E})=>{const y=a().map(C=>{const k=C.ref.current,O=[k,...GA(k)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const E=p.current;if(E){const _=y=>{var O,D,S;const C=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!C){const T=document.activeElement,N=y.shiftKey;if(y.target===E&&N){(O=d.current)==null||O.focus();return}const j=x({tabbingDirection:N?"backwards":"forwards"}),A=j.findIndex(L=>L===T);Th(j.slice(A+1))?y.preventDefault():N?(D=d.current)==null||D.focus():(S=h.current)==null||S.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,x]),c.jsxs(EA,{ref:u,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&c.jsx(Hf,{ref:d,onFocusFromOutsideViewport:()=>{const E=x({tabbingDirection:"forwards"});Th(E)}}),c.jsx(Rm.Slot,{scope:n,children:c.jsx(ce.ol,{tabIndex:-1,...i,ref:g})}),b&&c.jsx(Hf,{ref:h,onFocusFromOutsideViewport:()=>{const E=x({tabbingDirection:"backwards"});Th(E)}})]})});OE.displayName=DE;var VE="ToastFocusProxy",Hf=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Wu(VE,n);return c.jsx(Hu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});Hf.displayName=VE;var sl="Toast",VA="toast.swipeStart",MA="toast.swipeMove",LA="toast.swipeCancel",FA="toast.swipeEnd",ME=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,u]=Wi({prop:r,defaultProp:s??!0,onChange:i,caller:sl});return c.jsx(pr,{present:n||a,children:c.jsx($A,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:Tn(t.onPause),onResume:Tn(t.onResume),onSwipeStart:le(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(t.onSwipeMove,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:le(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(t.onSwipeEnd,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});ME.displayName=sl;var[zA,UA]=kE(sl,{onClose(){}}),$A=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:w,...b}=t,x=Wu(sl,n),[E,_]=m.useState(null),y=Ae(e,L=>_(L)),C=m.useRef(null),k=m.useRef(null),O=s||x.duration,D=m.useRef(0),S=m.useRef(O),T=m.useRef(0),{onToastAdd:N,onToastRemove:I}=x,P=Tn(()=>{var G;(E==null?void 0:E.contains(document.activeElement))&&((G=x.viewport)==null||G.focus()),o()}),j=m.useCallback(L=>{!L||L===1/0||(window.clearTimeout(T.current),D.current=new Date().getTime(),T.current=window.setTimeout(P,L))},[P]);m.useEffect(()=>{const L=x.viewport;if(L){const G=()=>{j(S.current),d==null||d()},Q=()=>{const z=new Date().getTime()-D.current;S.current=S.current-z,window.clearTimeout(T.current),u==null||u()};return L.addEventListener($f,Q),L.addEventListener(Bf,G),()=>{L.removeEventListener($f,Q),L.removeEventListener(Bf,G)}}},[x.viewport,O,u,d,j]),m.useEffect(()=>{i&&!x.isClosePausedRef.current&&j(O)},[i,O,x.isClosePausedRef,j]),m.useEffect(()=>(N(),()=>I()),[N,I]);const A=m.useMemo(()=>E?HE(E):null,[E]);return x.viewport?c.jsxs(c.Fragment,{children:[A&&c.jsx(BA,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),c.jsx(zA,{scope:n,onClose:P,children:Qs.createPortal(c.jsx(Rm.ItemSlot,{scope:n,children:c.jsx(_A,{asChild:!0,onEscapeKeyDown:le(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:le(t.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:le(t.onPointerDown,L=>{L.button===0&&(C.current={x:L.clientX,y:L.clientY})}),onPointerMove:le(t.onPointerMove,L=>{if(!C.current)return;const G=L.clientX-C.current.x,Q=L.clientY-C.current.y,z=!!k.current,V=["left","right"].includes(x.swipeDirection),$=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Z=V?$(0,G):0,se=V?0:$(0,Q),U=L.pointerType==="touch"?10:2,J={x:Z,y:se},H={originalEvent:L,delta:J};z?(k.current=J,Jl(MA,p,H,{discrete:!1})):ax(J,x.swipeDirection,U)?(k.current=J,Jl(VA,h,H,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(G)>U||Math.abs(Q)>U)&&(C.current=null)}),onPointerUp:le(t.onPointerUp,L=>{const G=k.current,Q=L.target;if(Q.hasPointerCapture(L.pointerId)&&Q.releasePointerCapture(L.pointerId),k.current=null,C.current=null,G){const z=L.currentTarget,V={originalEvent:L,delta:G};ax(G,x.swipeDirection,x.swipeThreshold)?Jl(FA,w,V,{discrete:!0}):Jl(LA,g,V,{discrete:!0}),z.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),BA=t=>{const{__scopeToast:e,children:n,...r}=t,s=Wu(sl,e),[i,o]=m.useState(!1),[a,u]=m.useState(!1);return qA(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:c.jsx(rl,{asChild:!0,children:c.jsx(Hu,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},HA="ToastTitle",LE=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(ce.div,{...r,ref:e})});LE.displayName=HA;var WA="ToastDescription",FE=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(ce.div,{...r,ref:e})});FE.displayName=WA;var zE="ToastAction",UE=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(BE,{altText:n,asChild:!0,children:c.jsx(Nm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zE}\`. Expected non-empty \`string\`.`),null)});UE.displayName=zE;var $E="ToastClose",Nm=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=UA($E,n);return c.jsx(BE,{asChild:!0,children:c.jsx(ce.button,{type:"button",...r,ref:e,onClick:le(t.onClick,s.onClose)})})});Nm.displayName=$E;var BE=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function HE(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),KA(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...HE(r))}}),e}function Jl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?RE(s,i):s.dispatchEvent(i)}var ax=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function qA(t=()=>{}){const e=Tn(t);ot(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function KA(t){return t.nodeType===t.ELEMENT_NODE}function GA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Th(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var QA=jE,WE=OE,qE=ME,KE=LE,GE=FE,QE=UE,YE=Nm;function XE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=XE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function JE(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=XE(t))&&(r&&(r+=" "),r+=e);return r}const lx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cx=JE,lo=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return cx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],p=i==null?void 0:i[d];if(h===null)return null;const g=lx(h)||lx(p);return s[d][g]}),a=n&&Object.entries(n).reduce((d,h)=>{let[p,g]=h;return g===void 0||(d[p]=g),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:p,className:g,...w}=h;return Object.entries(w).every(b=>{let[x,E]=b;return Array.isArray(E)?E.includes({...i,...a}[x]):{...i,...a}[x]===E})?[...d,p,g]:d},[]);return cx(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZE=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>m.createElement("svg",{ref:u,...XA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ZE("lucide",s),...a},[...o.map(([d,h])=>m.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(JA,{ref:i,iconNode:e,className:ZE(`lucide-${YA(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=me("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=me("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=me("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=me("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=me("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Pm="-",TP=t=>{const e=CP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Pm);return a[0]===""&&a.length!==1&&a.shift(),e1(a,e)||SP(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},e1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?e1(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Pm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},hx=/^\[(.+)\]$/,SP=t=>{if(hx.test(t)){const e=hx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},CP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return RP(Object.entries(t.classGroups),n).forEach(([i,o])=>{Kf(o,r,i,e)}),r},Kf=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:fx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(bP(s)){Kf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Kf(o,fx(e,i),n,r)})})},fx=(t,e)=>{let n=t;return e.split(Pm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bP=t=>t.isThemeGetter,RP=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,NP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},t1="!",IP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let d=0,h=0,p;for(let E=0;E<a.length;E++){let _=a[E];if(d===0){if(_===s&&(r||a.slice(E,E+i)===e)){u.push(a.slice(h,E)),h=E+i;continue}if(_==="/"){p=E;continue}}_==="["?d++:_==="]"&&d--}const g=u.length===0?a:a.substring(h),w=g.startsWith(t1),b=w?g.substring(1):g,x=p&&p>h?p-h:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},AP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},PP=t=>({cache:NP(t.cacheSize),parseClassName:IP(t),...TP(t)}),kP=/\s+/,jP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(kP);let a="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:h,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:w}=n(d);let b=!!w,x=r(b?g.substring(0,w):g);if(!x){if(!b){a=d+(a.length>0?" "+a:a);continue}if(x=r(g),!x){a=d+(a.length>0?" "+a:a);continue}b=!1}const E=AP(h).join(":"),_=p?E+t1:E,y=_+x;if(i.includes(y))continue;i.push(y);const C=s(x,b);for(let k=0;k<C.length;++k){const O=C[k];i.push(_+O)}a=d+(a.length>0?" "+a:a)}return a};function DP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=n1(e))&&(r&&(r+=" "),r+=n);return r}const n1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=n1(t[r]))&&(n&&(n+=" "),n+=e);return n};function OP(t,...e){let n,r,s,i=o;function o(u){const d=e.reduce((h,p)=>p(h),t());return n=PP(d),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const d=r(u);if(d)return d;const h=jP(u,n);return s(u,h),h}return function(){return i(DP.apply(null,arguments))}}const De=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},r1=/^\[(?:([a-z-]+):)?(.+)\]$/i,VP=/^\d+\/\d+$/,MP=new Set(["px","full","screen"]),LP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$P=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gn=t=>Pi(t)||MP.has(t)||VP.test(t),wr=t=>co(t,"length",YP),Pi=t=>!!t&&!Number.isNaN(Number(t)),Sh=t=>co(t,"number",Pi),Bo=t=>!!t&&Number.isInteger(Number(t)),BP=t=>t.endsWith("%")&&Pi(t.slice(0,-1)),pe=t=>r1.test(t),_r=t=>LP.test(t),HP=new Set(["length","size","percentage"]),WP=t=>co(t,HP,s1),qP=t=>co(t,"position",s1),KP=new Set(["image","url"]),GP=t=>co(t,KP,JP),QP=t=>co(t,"",XP),Ho=()=>!0,co=(t,e,n)=>{const r=r1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},YP=t=>FP.test(t)&&!zP.test(t),s1=()=>!1,XP=t=>UP.test(t),JP=t=>$P.test(t),ZP=()=>{const t=De("colors"),e=De("spacing"),n=De("blur"),r=De("brightness"),s=De("borderColor"),i=De("borderRadius"),o=De("borderSpacing"),a=De("borderWidth"),u=De("contrast"),d=De("grayscale"),h=De("hueRotate"),p=De("invert"),g=De("gap"),w=De("gradientColorStops"),b=De("gradientColorStopPositions"),x=De("inset"),E=De("margin"),_=De("opacity"),y=De("padding"),C=De("saturate"),k=De("scale"),O=De("sepia"),D=De("skew"),S=De("space"),T=De("translate"),N=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",pe,e],j=()=>[pe,e],A=()=>["",Gn,wr],L=()=>["auto",Pi,pe],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",pe],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Pi,pe];return{cacheSize:500,separator:":",theme:{colors:[Ho],spacing:[Gn,wr],blur:["none","",_r,pe],brightness:se(),borderColor:[t],borderRadius:["none","","full",_r,pe],borderSpacing:j(),borderWidth:A(),contrast:se(),grayscale:$(),hueRotate:se(),invert:$(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[BP,wr],inset:P(),margin:P(),opacity:se(),padding:j(),saturate:se(),scale:se(),sepia:$(),skew:se(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[_r]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),pe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bo,pe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Bo,pe]}],"grid-cols":[{"grid-cols":[Ho]}],"col-start-end":[{col:["auto",{span:["full",Bo,pe]},pe]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Ho]}],"row-start-end":[{row:["auto",{span:[Bo,pe]},pe]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[_r]},_r]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_r,wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sh]}],"font-family":[{font:[Ho]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",Pi,Sh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gn,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gn,wr]}],"underline-offset":[{"underline-offset":["auto",Gn,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),qP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",WP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Gn,pe]}],"outline-w":[{outline:[Gn,wr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Gn,wr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_r,QP]}],"shadow-color":[{shadow:[Ho]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",_r,pe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Bo,pe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gn,wr,Sh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ek=OP(ZP);function ae(...t){return ek(JE(t))}const tk=QA,i1=m.forwardRef(({className:t,...e},n)=>c.jsx(WE,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));i1.displayName=WE.displayName;const nk=lo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),o1=m.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(qE,{ref:r,className:ae(nk({variant:e}),t),...n}));o1.displayName=qE.displayName;const rk=m.forwardRef(({className:t,...e},n)=>c.jsx(QE,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));rk.displayName=QE.displayName;const a1=m.forwardRef(({className:t,...e},n)=>c.jsx(YE,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(ol,{className:"h-4 w-4"})}));a1.displayName=YE.displayName;const l1=m.forwardRef(({className:t,...e},n)=>c.jsx(KE,{ref:n,className:ae("text-sm font-semibold",t),...e}));l1.displayName=KE.displayName;const c1=m.forwardRef(({className:t,...e},n)=>c.jsx(GE,{ref:n,className:ae("text-sm opacity-90",t),...e}));c1.displayName=GE.displayName;function sk(){const{toasts:t}=Bu();return c.jsxs(tk,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(o1,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(l1,{children:n}),r&&c.jsx(c1,{children:r})]}),s,c.jsx(a1,{})]},e)}),c.jsx(i1,{})]})}var ik=jp[" useId ".trim().toString()]||(()=>{}),ok=0;function Ut(t){const[e,n]=m.useState(ik());return ot(()=>{n(r=>r??String(ok++))},[t]),e?`radix-${e}`:""}const ak=["top","right","bottom","left"],Gr=Math.min,Gt=Math.max,ru=Math.round,Zl=Math.floor,Fn=t=>({x:t,y:t}),lk={left:"right",right:"left",bottom:"top",top:"bottom"},ck={start:"end",end:"start"};function Gf(t,e,n){return Gt(t,Gr(e,n))}function or(t,e){return typeof t=="function"?t(e):t}function ar(t){return t.split("-")[0]}function uo(t){return t.split("-")[1]}function km(t){return t==="x"?"y":"x"}function jm(t){return t==="y"?"height":"width"}function Vn(t){return["top","bottom"].includes(ar(t))?"y":"x"}function Dm(t){return km(Vn(t))}function uk(t,e,n){n===void 0&&(n=!1);const r=uo(t),s=Dm(t),i=jm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=su(o)),[o,su(o)]}function dk(t){const e=su(t);return[Qf(t),e,Qf(e)]}function Qf(t){return t.replace(/start|end/g,e=>ck[e])}function hk(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function fk(t,e,n,r){const s=uo(t);let i=hk(ar(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Qf)))),i}function su(t){return t.replace(/left|right|bottom|top/g,e=>lk[e])}function pk(t){return{top:0,right:0,bottom:0,left:0,...t}}function u1(t){return typeof t!="number"?pk(t):{top:t,right:t,bottom:t,left:t}}function iu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function px(t,e,n){let{reference:r,floating:s}=t;const i=Vn(e),o=Dm(e),a=jm(o),u=ar(e),d=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,g=r[a]/2-s[a]/2;let w;switch(u){case"top":w={x:h,y:r.y-s.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:p};break;case"left":w={x:r.x-s.width,y:p};break;default:w={x:r.x,y:r.y}}switch(uo(e)){case"start":w[o]-=g*(n&&d?-1:1);break;case"end":w[o]+=g*(n&&d?-1:1);break}return w}const mk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=px(d,r,u),g=r,w={},b=0;for(let x=0;x<a.length;x++){const{name:E,fn:_}=a[x],{x:y,y:C,data:k,reset:O}=await _({x:h,y:p,initialPlacement:r,placement:g,strategy:s,middlewareData:w,rects:d,platform:o,elements:{reference:t,floating:e}});h=y??h,p=C??p,w={...w,[E]:{...w[E],...k}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:p}=px(d,g,u)),x=-1)}return{x:h,y:p,placement:g,strategy:s,middlewareData:w}};async function Ma(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:w=0}=or(e,t),b=u1(w),E=a[g?p==="floating"?"reference":"floating":p],_=iu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:u})),y=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},O=iu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:C,strategy:u}):y);return{top:(_.top-O.top+b.top)/k.y,bottom:(O.bottom-_.bottom+b.bottom)/k.y,left:(_.left-O.left+b.left)/k.x,right:(O.right-_.right+b.right)/k.x}}const gk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:d,padding:h=0}=or(t,e)||{};if(d==null)return{};const p=u1(h),g={x:n,y:r},w=Dm(s),b=jm(w),x=await o.getDimensions(d),E=w==="y",_=E?"top":"left",y=E?"bottom":"right",C=E?"clientHeight":"clientWidth",k=i.reference[b]+i.reference[w]-g[w]-i.floating[b],O=g[w]-i.reference[w],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=D?D[C]:0;(!S||!await(o.isElement==null?void 0:o.isElement(D)))&&(S=a.floating[C]||i.floating[b]);const T=k/2-O/2,N=S/2-x[b]/2-1,I=Gr(p[_],N),P=Gr(p[y],N),j=I,A=S-x[b]-P,L=S/2-x[b]/2+T,G=Gf(j,L,A),Q=!u.arrow&&uo(s)!=null&&L!==G&&i.reference[b]/2-(L<j?I:P)-x[b]/2<0,z=Q?L<j?L-j:L-A:0;return{[w]:g[w]+z,data:{[w]:G,centerOffset:L-G-z,...Q&&{alignmentOffset:z}},reset:Q}}}),vk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...E}=or(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ar(s),y=Vn(a),C=ar(a)===a,k=await(u.isRTL==null?void 0:u.isRTL(d.floating)),O=g||(C||!x?[su(a)]:dk(a)),D=b!=="none";!g&&D&&O.push(...fk(a,x,b,k));const S=[a,...O],T=await Ma(e,E),N=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&N.push(T[_]),p){const L=uk(s,o,k);N.push(T[L[0]],T[L[1]])}if(I=[...I,{placement:s,overflows:N}],!N.every(L=>L<=0)){var P,j;const L=(((P=i.flip)==null?void 0:P.index)||0)+1,G=S[L];if(G&&(!(p==="alignment"?y!==Vn(G):!1)||I.every(V=>V.overflows[0]>0&&Vn(V.placement)===y)))return{data:{index:L,overflows:I},reset:{placement:G}};let Q=(j=I.filter(z=>z.overflows[0]<=0).sort((z,V)=>z.overflows[1]-V.overflows[1])[0])==null?void 0:j.placement;if(!Q)switch(w){case"bestFit":{var A;const z=(A=I.filter(V=>{if(D){const $=Vn(V.placement);return $===y||$==="y"}return!0}).map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,Z)=>$+Z,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:A[0];z&&(Q=z);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function mx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function gx(t){return ak.some(e=>t[e]>=0)}const yk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=or(t,e);switch(r){case"referenceHidden":{const i=await Ma(e,{...s,elementContext:"reference"}),o=mx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gx(o)}}}case"escaped":{const i=await Ma(e,{...s,altBoundary:!0}),o=mx(i,n.floating);return{data:{escapedOffsets:o,escaped:gx(o)}}}default:return{}}}}};async function xk(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ar(n),a=uo(n),u=Vn(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&u?-1:1,p=or(e,t);let{mainAxis:g,crossAxis:w,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof b=="number"&&(w=a==="end"?b*-1:b),u?{x:w*h,y:g*d}:{x:g*d,y:w*h}}const wk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await xk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},_k=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y}=E;return{x:_,y}}},...u}=or(t,e),d={x:n,y:r},h=await Ma(e,u),p=Vn(ar(s)),g=km(p);let w=d[g],b=d[p];if(i){const E=g==="y"?"top":"left",_=g==="y"?"bottom":"right",y=w+h[E],C=w-h[_];w=Gf(y,w,C)}if(o){const E=p==="y"?"top":"left",_=p==="y"?"bottom":"right",y=b+h[E],C=b-h[_];b=Gf(y,b,C)}const x=a.fn({...e,[g]:w,[p]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:i,[p]:o}}}}}},Ek=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:d=!0}=or(t,e),h={x:n,y:r},p=Vn(s),g=km(p);let w=h[g],b=h[p];const x=or(a,e),E=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const C=g==="y"?"height":"width",k=i.reference[g]-i.floating[C]+E.mainAxis,O=i.reference[g]+i.reference[C]-E.mainAxis;w<k?w=k:w>O&&(w=O)}if(d){var _,y;const C=g==="y"?"width":"height",k=["top","left"].includes(ar(s)),O=i.reference[p]-i.floating[C]+(k&&((_=o.offset)==null?void 0:_[p])||0)+(k?0:E.crossAxis),D=i.reference[p]+i.reference[C]+(k?0:((y=o.offset)==null?void 0:y[p])||0)-(k?E.crossAxis:0);b<O?b=O:b>D&&(b=D)}return{[g]:w,[p]:b}}}},Tk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...d}=or(t,e),h=await Ma(e,d),p=ar(s),g=uo(s),w=Vn(s)==="y",{width:b,height:x}=i.floating;let E,_;p==="top"||p==="bottom"?(E=p,_=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=p,E=g==="end"?"top":"bottom");const y=x-h.top-h.bottom,C=b-h.left-h.right,k=Gr(x-h[E],y),O=Gr(b-h[_],C),D=!e.middlewareData.shift;let S=k,T=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=y),D&&!g){const I=Gt(h.left,0),P=Gt(h.right,0),j=Gt(h.top,0),A=Gt(h.bottom,0);w?T=b-2*(I!==0||P!==0?I+P:Gt(h.left,h.right)):S=x-2*(j!==0||A!==0?j+A:Gt(h.top,h.bottom))}await u({...e,availableWidth:T,availableHeight:S});const N=await o.getDimensions(a.floating);return b!==N.width||x!==N.height?{reset:{rects:!0}}:{}}}};function qu(){return typeof window<"u"}function ho(t){return d1(t)?(t.nodeName||"").toLowerCase():"#document"}function en(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hn(t){var e;return(e=(d1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function d1(t){return qu()?t instanceof Node||t instanceof en(t).Node:!1}function Sn(t){return qu()?t instanceof Element||t instanceof en(t).Element:!1}function $n(t){return qu()?t instanceof HTMLElement||t instanceof en(t).HTMLElement:!1}function vx(t){return!qu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof en(t).ShadowRoot}function al(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Cn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Sk(t){return["table","td","th"].includes(ho(t))}function Ku(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Om(t){const e=Vm(),n=Sn(t)?Cn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Ck(t){let e=Qr(t);for(;$n(e)&&!qi(e);){if(Om(e))return e;if(Ku(e))return null;e=Qr(e)}return null}function Vm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qi(t){return["html","body","#document"].includes(ho(t))}function Cn(t){return en(t).getComputedStyle(t)}function Gu(t){return Sn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qr(t){if(ho(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vx(t)&&t.host||Hn(t);return vx(e)?e.host:e}function h1(t){const e=Qr(t);return qi(e)?t.ownerDocument?t.ownerDocument.body:t.body:$n(e)&&al(e)?e:h1(e)}function La(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=h1(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=en(s);if(i){const a=Yf(o);return e.concat(o,o.visualViewport||[],al(s)?s:[],a&&n?La(a):[])}return e.concat(s,La(s,[],n))}function Yf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function f1(t){const e=Cn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=$n(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ru(n)!==i||ru(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Mm(t){return Sn(t)?t:t.contextElement}function ki(t){const e=Mm(t);if(!$n(e))return Fn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=f1(e);let o=(i?ru(n.width):n.width)/r,a=(i?ru(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bk=Fn(0);function p1(t){const e=en(t);return!Vm()||!e.visualViewport?bk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Rk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==en(t)?!1:e}function Ls(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Mm(t);let o=Fn(1);e&&(r?Sn(r)&&(o=ki(r)):o=ki(t));const a=Rk(i,n,r)?p1(i):Fn(0);let u=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const g=en(i),w=r&&Sn(r)?en(r):r;let b=g,x=Yf(b);for(;x&&r&&w!==b;){const E=ki(x),_=x.getBoundingClientRect(),y=Cn(x),C=_.left+(x.clientLeft+parseFloat(y.paddingLeft))*E.x,k=_.top+(x.clientTop+parseFloat(y.paddingTop))*E.y;u*=E.x,d*=E.y,h*=E.x,p*=E.y,u+=C,d+=k,b=en(x),x=Yf(b)}}return iu({width:h,height:p,x:u,y:d})}function Lm(t,e){const n=Gu(t).scrollLeft;return e?e.left+n:Ls(Hn(t)).left+n}function m1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Lm(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Nk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Hn(r),a=e?Ku(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},d=Fn(1);const h=Fn(0),p=$n(r);if((p||!p&&!i)&&((ho(r)!=="body"||al(o))&&(u=Gu(r)),$n(r))){const w=Ls(r);d=ki(r),h.x=w.x+r.clientLeft,h.y=w.y+r.clientTop}const g=o&&!p&&!i?m1(o,u,!0):Fn(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+g.x,y:n.y*d.y-u.scrollTop*d.y+h.y+g.y}}function Ik(t){return Array.from(t.getClientRects())}function Ak(t){const e=Hn(t),n=Gu(t),r=t.ownerDocument.body,s=Gt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Gt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Lm(t);const a=-n.scrollTop;return Cn(r).direction==="rtl"&&(o+=Gt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Pk(t,e){const n=en(t),r=Hn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const d=Vm();(!d||d&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a,y:u}}function kk(t,e){const n=Ls(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=$n(t)?ki(t):Fn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:o,height:a,x:u,y:d}}function yx(t,e,n){let r;if(e==="viewport")r=Pk(t,n);else if(e==="document")r=Ak(Hn(t));else if(Sn(e))r=kk(e,n);else{const s=p1(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return iu(r)}function g1(t,e){const n=Qr(t);return n===e||!Sn(n)||qi(n)?!1:Cn(n).position==="fixed"||g1(n,e)}function jk(t,e){const n=e.get(t);if(n)return n;let r=La(t,[],!1).filter(a=>Sn(a)&&ho(a)!=="body"),s=null;const i=Cn(t).position==="fixed";let o=i?Qr(t):t;for(;Sn(o)&&!qi(o);){const a=Cn(o),u=Om(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||al(o)&&!u&&g1(t,o))?r=r.filter(h=>h!==o):s=a,o=Qr(o)}return e.set(t,r),r}function Dk(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Ku(e)?[]:jk(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((d,h)=>{const p=yx(e,h,s);return d.top=Gt(p.top,d.top),d.right=Gr(p.right,d.right),d.bottom=Gr(p.bottom,d.bottom),d.left=Gt(p.left,d.left),d},yx(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Ok(t){const{width:e,height:n}=f1(t);return{width:e,height:n}}function Vk(t,e,n){const r=$n(e),s=Hn(e),i=n==="fixed",o=Ls(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=Fn(0);function d(){u.x=Lm(s)}if(r||!r&&!i)if((ho(e)!=="body"||al(s))&&(a=Gu(e)),r){const w=Ls(e,!0,i,e);u.x=w.x+e.clientLeft,u.y=w.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?m1(s,a):Fn(0),p=o.left+a.scrollLeft-u.x-h.x,g=o.top+a.scrollTop-u.y-h.y;return{x:p,y:g,width:o.width,height:o.height}}function Ch(t){return Cn(t).position==="static"}function xx(t,e){if(!$n(t)||Cn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hn(t)===n&&(n=n.ownerDocument.body),n}function v1(t,e){const n=en(t);if(Ku(t))return n;if(!$n(t)){let s=Qr(t);for(;s&&!qi(s);){if(Sn(s)&&!Ch(s))return s;s=Qr(s)}return n}let r=xx(t,e);for(;r&&Sk(r)&&Ch(r);)r=xx(r,e);return r&&qi(r)&&Ch(r)&&!Om(r)?n:r||Ck(t)||n}const Mk=async function(t){const e=this.getOffsetParent||v1,n=this.getDimensions,r=await n(t.floating);return{reference:Vk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Lk(t){return Cn(t).direction==="rtl"}const Fk={convertOffsetParentRelativeRectToViewportRelativeRect:Nk,getDocumentElement:Hn,getClippingRect:Dk,getOffsetParent:v1,getElementRects:Mk,getClientRects:Ik,getDimensions:Ok,getScale:ki,isElement:Sn,isRTL:Lk};function y1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zk(t,e){let n=null,r;const s=Hn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const d=t.getBoundingClientRect(),{left:h,top:p,width:g,height:w}=d;if(a||e(),!g||!w)return;const b=Zl(p),x=Zl(s.clientWidth-(h+g)),E=Zl(s.clientHeight-(p+w)),_=Zl(h),C={rootMargin:-b+"px "+-x+"px "+-E+"px "+-_+"px",threshold:Gt(0,Gr(1,u))||1};let k=!0;function O(D){const S=D[0].intersectionRatio;if(S!==u){if(!k)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!y1(d,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,C)}n.observe(t)}return o(!0),i}function Uk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=Mm(t),h=s||i?[...d?La(d):[],...La(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const p=d&&a?zk(d,n):null;let g=-1,w=null;o&&(w=new ResizeObserver(_=>{let[y]=_;y&&y.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(e)})),n()}),d&&!u&&w.observe(d),w.observe(e));let b,x=u?Ls(t):null;u&&E();function E(){const _=Ls(t);x&&!y1(x,_)&&n(),x=_,b=requestAnimationFrame(E)}return n(),()=>{var _;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),p==null||p(),(_=w)==null||_.disconnect(),w=null,u&&cancelAnimationFrame(b)}}const $k=wk,Bk=_k,Hk=vk,Wk=Tk,qk=yk,wx=gk,Kk=Ek,Gk=(t,e,n)=>{const r=new Map,s={platform:Fk,...n},i={...s.platform,_c:r};return mk(t,e,{...s,platform:i})};var Qk=typeof document<"u",Yk=function(){},Tc=Qk?m.useLayoutEffect:Yk;function ou(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ou(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ou(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function x1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _x(t,e){const n=x1(t);return Math.round(e*n)/n}function bh(t){const e=m.useRef(t);return Tc(()=>{e.current=t}),e}function Xk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:d}=t,[h,p]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,w]=m.useState(r);ou(g,r)||w(r);const[b,x]=m.useState(null),[E,_]=m.useState(null),y=m.useCallback(V=>{V!==D.current&&(D.current=V,x(V))},[]),C=m.useCallback(V=>{V!==S.current&&(S.current=V,_(V))},[]),k=i||b,O=o||E,D=m.useRef(null),S=m.useRef(null),T=m.useRef(h),N=u!=null,I=bh(u),P=bh(s),j=bh(d),A=m.useCallback(()=>{if(!D.current||!S.current)return;const V={placement:e,strategy:n,middleware:g};P.current&&(V.platform=P.current),Gk(D.current,S.current,V).then($=>{const Z={...$,isPositioned:j.current!==!1};L.current&&!ou(T.current,Z)&&(T.current=Z,Qs.flushSync(()=>{p(Z)}))})},[g,e,n,P,j]);Tc(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(V=>({...V,isPositioned:!1})))},[d]);const L=m.useRef(!1);Tc(()=>(L.current=!0,()=>{L.current=!1}),[]),Tc(()=>{if(k&&(D.current=k),O&&(S.current=O),k&&O){if(I.current)return I.current(k,O,A);A()}},[k,O,A,I,N]);const G=m.useMemo(()=>({reference:D,floating:S,setReference:y,setFloating:C}),[y,C]),Q=m.useMemo(()=>({reference:k,floating:O}),[k,O]),z=m.useMemo(()=>{const V={position:n,left:0,top:0};if(!Q.floating)return V;const $=_x(Q.floating,h.x),Z=_x(Q.floating,h.y);return a?{...V,transform:"translate("+$+"px, "+Z+"px)",...x1(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:Z}},[n,a,Q.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:A,refs:G,elements:Q,floatingStyles:z}),[h,A,G,Q,z])}const Jk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?wx({element:r.current,padding:s}).fn(n):{}:r?wx({element:r,padding:s}).fn(n):{}}}},Zk=(t,e)=>({...$k(t),options:[t,e]}),e2=(t,e)=>({...Bk(t),options:[t,e]}),t2=(t,e)=>({...Kk(t),options:[t,e]}),n2=(t,e)=>({...Hk(t),options:[t,e]}),r2=(t,e)=>({...Wk(t),options:[t,e]}),s2=(t,e)=>({...qk(t),options:[t,e]}),i2=(t,e)=>({...Jk(t),options:[t,e]});var o2="Arrow",w1=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(ce.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});w1.displayName=o2;var a2=w1;function l2(t){const[e,n]=m.useState(void 0);return ot(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Fm="Popper",[_1,fo]=os(Fm),[c2,E1]=_1(Fm),T1=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return c.jsx(c2,{scope:e,anchor:r,onAnchorChange:s,children:n})};T1.displayName=Fm;var S1="PopperAnchor",C1=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=E1(S1,n),o=m.useRef(null),a=Ae(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(ce.div,{...s,ref:a})});C1.displayName=S1;var zm="PopperContent",[u2,d2]=_1(zm),b1=m.forwardRef((t,e)=>{var Y,fe,we,ye,Te,be;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:w="optimized",onPlaced:b,...x}=t,E=E1(zm,n),[_,y]=m.useState(null),C=Ae(e,at=>y(at)),[k,O]=m.useState(null),D=l2(k),S=(D==null?void 0:D.width)??0,T=(D==null?void 0:D.height)??0,N=r+(i!=="center"?"-"+i:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(d)?d:[d],j=P.length>0,A={padding:I,boundary:P.filter(f2),altBoundary:j},{refs:L,floatingStyles:G,placement:Q,isPositioned:z,middlewareData:V}=Xk({strategy:"fixed",placement:N,whileElementsMounted:(...at)=>Uk(...at,{animationFrame:w==="always"}),elements:{reference:E.anchor},middleware:[Zk({mainAxis:s+T,alignmentAxis:o}),u&&e2({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?t2():void 0,...A}),u&&n2({...A}),r2({...A,apply:({elements:at,rects:kt,availableWidth:Wn,availableHeight:mr})=>{const{width:hs,height:Nd}=kt.reference,fs=at.floating.style;fs.setProperty("--radix-popper-available-width",`${Wn}px`),fs.setProperty("--radix-popper-available-height",`${mr}px`),fs.setProperty("--radix-popper-anchor-width",`${hs}px`),fs.setProperty("--radix-popper-anchor-height",`${Nd}px`)}}),k&&i2({element:k,padding:a}),p2({arrowWidth:S,arrowHeight:T}),g&&s2({strategy:"referenceHidden",...A})]}),[$,Z]=I1(Q),se=Tn(b);ot(()=>{z&&(se==null||se())},[z,se]);const U=(Y=V.arrow)==null?void 0:Y.x,J=(fe=V.arrow)==null?void 0:fe.y,H=((we=V.arrow)==null?void 0:we.centerOffset)!==0,[B,ee]=m.useState();return ot(()=>{_&&ee(window.getComputedStyle(_).zIndex)},[_]),c.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:z?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[(ye=V.transformOrigin)==null?void 0:ye.x,(Te=V.transformOrigin)==null?void 0:Te.y].join(" "),...((be=V.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(u2,{scope:n,placedSide:$,onArrowChange:O,arrowX:U,arrowY:J,shouldHideArrow:H,children:c.jsx(ce.div,{"data-side":$,"data-align":Z,...x,ref:C,style:{...x.style,animation:z?void 0:"none"}})})})});b1.displayName=zm;var R1="PopperArrow",h2={top:"bottom",right:"left",bottom:"top",left:"right"},N1=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=d2(R1,r),o=h2[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(a2,{...s,ref:n,style:{...s.style,display:"block"}})})});N1.displayName=R1;function f2(t){return t!==null}var p2=t=>({name:"transformOrigin",options:t,fn(e){var E,_,y;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,h]=I1(n),p={start:"0%",center:"50%",end:"100%"}[h],g=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,w=(((y=s.arrow)==null?void 0:y.y)??0)+u/2;let b="",x="";return d==="bottom"?(b=o?p:`${g}px`,x=`${-u}px`):d==="top"?(b=o?p:`${g}px`,x=`${r.floating.height+u}px`):d==="right"?(b=`${-u}px`,x=o?p:`${w}px`):d==="left"&&(b=`${r.floating.width+u}px`,x=o?p:`${w}px`),{data:{x:b,y:x}}}});function I1(t){const[e,n="center"]=t.split("-");return[e,n]}var A1=T1,Qu=C1,Um=b1,$m=N1,[Yu,K6]=os("Tooltip",[fo]),Bm=fo(),P1="TooltipProvider",m2=700,Ex="tooltip.open",[g2,k1]=Yu(P1),j1=t=>{const{__scopeTooltip:e,delayDuration:n=m2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=m.useRef(!0),a=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(g2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};j1.displayName=P1;var D1="Tooltip",[G6,Xu]=Yu(D1),Xf="TooltipTrigger",v2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Xu(Xf,n),i=k1(Xf,n),o=Bm(n),a=m.useRef(null),u=Ae(e,a,s.onTriggerChange),d=m.useRef(!1),h=m.useRef(!1),p=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(Qu,{asChild:!0,...o,children:c.jsx(ce.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:le(t.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:le(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:le(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:le(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:le(t.onBlur,s.onClose),onClick:le(t.onClick,s.onClose)})})});v2.displayName=Xf;var y2="TooltipPortal",[Q6,x2]=Yu(y2,{forceMount:void 0}),Ki="TooltipContent",O1=m.forwardRef((t,e)=>{const n=x2(Ki,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Xu(Ki,t.__scopeTooltip);return c.jsx(pr,{present:r||o.open,children:o.disableHoverableContent?c.jsx(V1,{side:s,...i,ref:e}):c.jsx(w2,{side:s,...i,ref:e})})}),w2=m.forwardRef((t,e)=>{const n=Xu(Ki,t.__scopeTooltip),r=k1(Ki,t.__scopeTooltip),s=m.useRef(null),i=Ae(e,s),[o,a]=m.useState(null),{trigger:u,onClose:d}=n,h=s.current,{onPointerInTransitChange:p}=r,g=m.useCallback(()=>{a(null),p(!1)},[p]),w=m.useCallback((b,x)=>{const E=b.currentTarget,_={x:b.clientX,y:b.clientY},y=C2(_,E.getBoundingClientRect()),C=b2(_,y),k=R2(x.getBoundingClientRect()),O=I2([...C,...k]);a(O),p(!0)},[p]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(u&&h){const b=E=>w(E,h),x=E=>w(E,u);return u.addEventListener("pointerleave",b),h.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",x)}}},[u,h,w,g]),m.useEffect(()=>{if(o){const b=x=>{const E=x.target,_={x:x.clientX,y:x.clientY},y=(u==null?void 0:u.contains(E))||(h==null?void 0:h.contains(E)),C=!N2(_,o);y?g():C&&(g(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,h,o,d,g]),c.jsx(V1,{...t,ref:i})}),[_2,E2]=Yu(D1,{isInside:!1}),T2=cA("TooltipContent"),V1=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=Xu(Ki,n),d=Bm(n),{onClose:h}=u;return m.useEffect(()=>(document.addEventListener(Ex,h),()=>document.removeEventListener(Ex,h)),[h]),m.useEffect(()=>{if(u.trigger){const p=g=>{const w=g.target;w!=null&&w.contains(u.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,h]),c.jsx(ao,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:c.jsxs(Um,{"data-state":u.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(T2,{children:r}),c.jsx(_2,{scope:n,isInside:!0,children:c.jsx(PA,{id:u.contentId,role:"tooltip",children:s||r})})]})})});O1.displayName=Ki;var M1="TooltipArrow",S2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bm(n);return E2(M1,n).isInside?null:c.jsx($m,{...s,...r,ref:e})});S2.displayName=M1;function C2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function b2(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function R2(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function N2(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],u=e[o],d=a.x,h=a.y,p=u.x,g=u.y;h>r!=g>r&&n<(p-d)*(r-h)/(g-h)+d&&(s=!s)}return s}function I2(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),A2(e)}function A2(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var P2=j1,L1=O1;const k2=P2,j2=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(L1,{ref:r,sideOffset:e,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));j2.displayName=L1.displayName;const D2=lo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?aA:"button";return c.jsx(o,{className:ae(D2({variant:e,size:n,className:t})),ref:i,...s})});ue.displayName="Button";var Rh="focusScope.autoFocusOnMount",Nh="focusScope.autoFocusOnUnmount",Tx={bubbles:!1,cancelable:!0},O2="FocusScope",Ju=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=m.useState(null),d=Tn(s),h=Tn(i),p=m.useRef(null),g=Ae(e,x=>u(x)),w=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(C){if(w.paused||!a)return;const k=C.target;a.contains(k)?p.current=k:Cr(p.current,{select:!0})},E=function(C){if(w.paused||!a)return;const k=C.relatedTarget;k!==null&&(a.contains(k)||Cr(p.current,{select:!0}))},_=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&Cr(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",E);const y=new MutationObserver(_);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,w.paused]),m.useEffect(()=>{if(a){Cx.add(w);const x=document.activeElement;if(!a.contains(x)){const _=new CustomEvent(Rh,Tx);a.addEventListener(Rh,d),a.dispatchEvent(_),_.defaultPrevented||(V2(U2(F1(a)),{select:!0}),document.activeElement===x&&Cr(a))}return()=>{a.removeEventListener(Rh,d),setTimeout(()=>{const _=new CustomEvent(Nh,Tx);a.addEventListener(Nh,h),a.dispatchEvent(_),_.defaultPrevented||Cr(x??document.body,{select:!0}),a.removeEventListener(Nh,h),Cx.remove(w)},0)}}},[a,d,h,w]);const b=m.useCallback(x=>{if(!n&&!r||w.paused)return;const E=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(E&&_){const y=x.currentTarget,[C,k]=M2(y);C&&k?!x.shiftKey&&_===k?(x.preventDefault(),n&&Cr(C,{select:!0})):x.shiftKey&&_===C&&(x.preventDefault(),n&&Cr(k,{select:!0})):_===y&&x.preventDefault()}},[n,r,w.paused]);return c.jsx(ce.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});Ju.displayName=O2;function V2(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Cr(r,{select:e}),document.activeElement!==n)return}function M2(t){const e=F1(t),n=Sx(e,t),r=Sx(e.reverse(),t);return[n,r]}function F1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Sx(t,e){for(const n of t)if(!L2(n,{upTo:e}))return n}function L2(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function F2(t){return t instanceof HTMLInputElement&&"select"in t}function Cr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&F2(t)&&e&&t.select()}}var Cx=z2();function z2(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=bx(t,e),t.unshift(e)},remove(e){var n;t=bx(t,e),(n=t[0])==null||n.resume()}}}function bx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function U2(t){return t.filter(e=>e.tagName!=="A")}var Ih=0;function Hm(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Rx()),document.body.insertAdjacentElement("beforeend",t[1]??Rx()),Ih++,()=>{Ih===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ih--}},[])}function Rx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var jn=function(){return jn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jn.apply(this,arguments)};function z1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function $2(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Sc="right-scroll-bar-position",Cc="width-before-scroll-bar",B2="with-scroll-bars-hidden",H2="--removed-body-scroll-bar-size";function Ah(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function W2(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var q2=typeof window<"u"?m.useLayoutEffect:m.useEffect,Nx=new WeakMap;function K2(t,e){var n=W2(null,function(r){return t.forEach(function(s){return Ah(s,r)})});return q2(function(){var r=Nx.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Ah(a,null)}),i.forEach(function(a){s.has(a)||Ah(a,o)})}Nx.set(n,t)},[t]),n}function G2(t){return t}function Q2(t,e){e===void 0&&(e=G2);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function Y2(t){t===void 0&&(t={});var e=Q2(null);return e.options=jn({async:!0,ssr:!1},t),e}var U1=function(t){var e=t.sideCar,n=z1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,jn({},n))};U1.isSideCarExport=!0;function X2(t,e){return t.useMedium(e),U1}var $1=Y2(),Ph=function(){},Zu=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Ph,onWheelCapture:Ph,onTouchMoveCapture:Ph}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,p=t.shards,g=t.sideCar,w=t.noRelative,b=t.noIsolation,x=t.inert,E=t.allowPinchZoom,_=t.as,y=_===void 0?"div":_,C=t.gapMode,k=z1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=g,D=K2([n,e]),S=jn(jn({},k),s);return m.createElement(m.Fragment,null,h&&m.createElement(O,{sideCar:$1,removeScrollBar:d,shards:p,noRelative:w,noIsolation:b,inert:x,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:C}),o?m.cloneElement(m.Children.only(a),jn(jn({},S),{ref:D})):m.createElement(y,jn({},S,{className:u,ref:D}),a))});Zu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zu.classNames={fullWidth:Cc,zeroRight:Sc};var J2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Z2(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=J2();return e&&t.setAttribute("nonce",e),t}function ej(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tj(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nj=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Z2())&&(ej(e,n),tj(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rj=function(){var t=nj();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},B1=function(){var t=rj(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},sj={left:0,top:0,right:0,gap:0},kh=function(t){return parseInt(t||"",10)||0},ij=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[kh(n),kh(r),kh(s)]},oj=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sj;var e=ij(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},aj=B1(),ji="data-scroll-locked",lj=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(B2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ji,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cc," .").concat(Cc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ji,`] {
    `).concat(H2,": ").concat(a,`px;
  }
`)},Ix=function(){var t=parseInt(document.body.getAttribute(ji)||"0",10);return isFinite(t)?t:0},cj=function(){m.useEffect(function(){return document.body.setAttribute(ji,(Ix()+1).toString()),function(){var t=Ix()-1;t<=0?document.body.removeAttribute(ji):document.body.setAttribute(ji,t.toString())}},[])},uj=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;cj();var i=m.useMemo(function(){return oj(s)},[s]);return m.createElement(aj,{styles:lj(i,!e,s,n?"":"!important")})},Jf=!1;if(typeof window<"u")try{var ec=Object.defineProperty({},"passive",{get:function(){return Jf=!0,!0}});window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{Jf=!1}var si=Jf?{passive:!1}:!1,dj=function(t){return t.tagName==="TEXTAREA"},H1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dj(t)&&n[e]==="visible")},hj=function(t){return H1(t,"overflowY")},fj=function(t){return H1(t,"overflowX")},Ax=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=W1(t,r);if(s){var i=q1(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},pj=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},mj=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},W1=function(t,e){return t==="v"?hj(e):fj(e)},q1=function(t,e){return t==="v"?pj(e):mj(e)},gj=function(t,e){return t==="h"&&e==="rtl"?-1:1},vj=function(t,e,n,r,s){var i=gj(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),d=!1,h=o>0,p=0,g=0;do{if(!a)break;var w=q1(t,a),b=w[0],x=w[1],E=w[2],_=x-E-i*b;(b||_)&&W1(t,a)&&(p+=_,g+=b);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(d=!0),d},tc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Px=function(t){return[t.deltaX,t.deltaY]},kx=function(t){return t&&"current"in t?t.current:t},yj=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xj=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wj=0,ii=[];function _j(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(wj++)[0],i=m.useState(B1)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=$2([t.lockRef.current],(t.shards||[]).map(kx),!0).filter(Boolean);return x.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(x,E){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=tc(x),y=n.current,C="deltaX"in x?x.deltaX:y[0]-_[0],k="deltaY"in x?x.deltaY:y[1]-_[1],O,D=x.target,S=Math.abs(C)>Math.abs(k)?"h":"v";if("touches"in x&&S==="h"&&D.type==="range")return!1;var T=Ax(S,D);if(!T)return!0;if(T?O=S:(O=S==="v"?"h":"v",T=Ax(S,D)),!T)return!1;if(!r.current&&"changedTouches"in x&&(C||k)&&(r.current=O),!O)return!0;var N=r.current||O;return vj(N,E,x,N==="h"?C:k)},[]),u=m.useCallback(function(x){var E=x;if(!(!ii.length||ii[ii.length-1]!==i)){var _="deltaY"in E?Px(E):tc(E),y=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&yj(O.delta,_)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var C=(o.current.shards||[]).map(kx).filter(Boolean).filter(function(O){return O.contains(E.target)}),k=C.length>0?a(E,C[0]):!o.current.noIsolation;k&&E.cancelable&&E.preventDefault()}}},[]),d=m.useCallback(function(x,E,_,y){var C={name:x,delta:E,target:_,should:y,shadowParent:Ej(_)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(k){return k!==C})},1)},[]),h=m.useCallback(function(x){n.current=tc(x),r.current=void 0},[]),p=m.useCallback(function(x){d(x.type,Px(x),x.target,a(x,t.lockRef.current))},[]),g=m.useCallback(function(x){d(x.type,tc(x),x.target,a(x,t.lockRef.current))},[]);m.useEffect(function(){return ii.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",u,si),document.addEventListener("touchmove",u,si),document.addEventListener("touchstart",h,si),function(){ii=ii.filter(function(x){return x!==i}),document.removeEventListener("wheel",u,si),document.removeEventListener("touchmove",u,si),document.removeEventListener("touchstart",h,si)}},[]);var w=t.removeScrollBar,b=t.inert;return m.createElement(m.Fragment,null,b?m.createElement(i,{styles:xj(s)}):null,w?m.createElement(uj,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Ej(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Tj=X2($1,_j);var ed=m.forwardRef(function(t,e){return m.createElement(Zu,jn({},t,{ref:e,sideCar:Tj}))});ed.classNames=Zu.classNames;var Sj=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},oi=new WeakMap,nc=new WeakMap,rc={},jh=0,K1=function(t){return t&&(t.host||K1(t.parentNode))},Cj=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=K1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bj=function(t,e,n,r){var s=Cj(e,Array.isArray(t)?t:[t]);rc[n]||(rc[n]=new WeakMap);var i=rc[n],o=[],a=new Set,u=new Set(s),d=function(p){!p||a.has(p)||(a.add(p),d(p.parentNode))};s.forEach(d);var h=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))h(g);else try{var w=g.getAttribute(r),b=w!==null&&w!=="false",x=(oi.get(g)||0)+1,E=(i.get(g)||0)+1;oi.set(g,x),i.set(g,E),o.push(g),x===1&&b&&nc.set(g,!0),E===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return h(e),a.clear(),jh++,function(){o.forEach(function(p){var g=oi.get(p)-1,w=i.get(p)-1;oi.set(p,g),i.set(p,w),g||(nc.has(p)||p.removeAttribute(r),nc.delete(p)),w||p.removeAttribute(n)}),jh--,jh||(oi=new WeakMap,oi=new WeakMap,nc=new WeakMap,rc={})}},Wm=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Sj(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),bj(r,s,n,"aria-hidden")):function(){return null}},td="Dialog",[G1,Y6]=os(td),[Rj,Rn]=G1(td),Q1=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),u=m.useRef(null),[d,h]=Wi({prop:r,defaultProp:s??!1,onChange:i,caller:td});return c.jsx(Rj,{scope:e,triggerRef:a,contentRef:u,contentId:Ut(),titleId:Ut(),descriptionId:Ut(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};Q1.displayName=td;var Y1="DialogTrigger",X1=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rn(Y1,n),i=Ae(e,s.triggerRef);return c.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Gm(s.open),...r,ref:i,onClick:le(t.onClick,s.onOpenToggle)})});X1.displayName=Y1;var qm="DialogPortal",[Nj,J1]=G1(qm,{forceMount:void 0}),Z1=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Rn(qm,e);return c.jsx(Nj,{scope:e,forceMount:n,children:m.Children.map(r,o=>c.jsx(pr,{present:n||i.open,children:c.jsx(rl,{asChild:!0,container:s,children:o})}))})};Z1.displayName=qm;var au="DialogOverlay",eT=m.forwardRef((t,e)=>{const n=J1(au,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Rn(au,t.__scopeDialog);return i.modal?c.jsx(pr,{present:r||i.open,children:c.jsx(Aj,{...s,ref:e})}):null});eT.displayName=au;var Ij=Vs("DialogOverlay.RemoveScroll"),Aj=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rn(au,n);return c.jsx(ed,{as:Ij,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ce.div,{"data-state":Gm(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Fs="DialogContent",tT=m.forwardRef((t,e)=>{const n=J1(Fs,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Rn(Fs,t.__scopeDialog);return c.jsx(pr,{present:r||i.open,children:i.modal?c.jsx(Pj,{...s,ref:e}):c.jsx(kj,{...s,ref:e})})});tT.displayName=Fs;var Pj=m.forwardRef((t,e)=>{const n=Rn(Fs,t.__scopeDialog),r=m.useRef(null),s=Ae(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Wm(i)},[]),c.jsx(nT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:le(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:le(t.onFocusOutside,i=>i.preventDefault())})}),kj=m.forwardRef((t,e)=>{const n=Rn(Fs,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return c.jsx(nT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),nT=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Rn(Fs,n),u=m.useRef(null),d=Ae(e,u);return Hm(),c.jsxs(c.Fragment,{children:[c.jsx(Ju,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(ao,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Gm(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(jj,{titleId:a.titleId}),c.jsx(Oj,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Km="DialogTitle",rT=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rn(Km,n);return c.jsx(ce.h2,{id:s.titleId,...r,ref:e})});rT.displayName=Km;var sT="DialogDescription",iT=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rn(sT,n);return c.jsx(ce.p,{id:s.descriptionId,...r,ref:e})});iT.displayName=sT;var oT="DialogClose",aT=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rn(oT,n);return c.jsx(ce.button,{type:"button",...r,ref:e,onClick:le(t.onClick,()=>s.onOpenChange(!1))})});aT.displayName=oT;function Gm(t){return t?"open":"closed"}var lT="DialogTitleWarning",[X6,cT]=iA(lT,{contentName:Fs,titleName:Km,docsSlug:"dialog"}),jj=({titleId:t})=>{const e=cT(lT),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Dj="DialogDescriptionWarning",Oj=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cT(Dj).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Qm=Q1,uT=X1,Ym=Z1,ll=eT,cl=tT,nd=rT,rd=iT,dT=aT;const Vj=Qm,Mj=uT,Lj=Ym,hT=m.forwardRef(({className:t,...e},n)=>c.jsx(ll,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));hT.displayName=ll.displayName;const Fj=lo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),fT=m.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(Lj,{children:[c.jsx(hT,{}),c.jsxs(cl,{ref:s,className:ae(Fj({side:t}),e),...r,children:[n,c.jsxs(dT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(ol,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fT.displayName=cl.displayName;const zj=m.forwardRef(({className:t,...e},n)=>c.jsx(nd,{ref:n,className:ae("text-lg font-semibold text-foreground",t),...e}));zj.displayName=nd.displayName;const Uj=m.forwardRef(({className:t,...e},n)=>c.jsx(rd,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));Uj.displayName=rd.displayName;const $j=()=>{const[t,e]=m.useState(!1),[n]=XI(),r=o=>n===o,s=[{path:"/",label:"Home",icon:hP},{path:"/recommended",label:"Consigliati",icon:nu},{path:"/calendar",label:"Calendario",icon:An},{path:"/favorites",label:"Preferiti",icon:Ur},{path:"/add-restaurant",label:"Aggiungi",icon:sP},{path:"/info",label:"Info",icon:fP}],i=({path:o,label:a,icon:u,mobile:d=!1})=>{const h=r(o);return c.jsx(da,{href:o,children:c.jsxs(ue,{variant:h?"default":"ghost",className:`${d?"w-full justify-start":""} ${h?"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]":"text-[hsl(var(--dark-slate))] hover:text-[hsl(var(--terracotta))] hover:bg-[hsl(var(--terracotta))]/10"}`,onClick:()=>d&&e(!1),children:[c.jsx(u,{className:"w-4 h-4 mr-2"}),a]})})};return c.jsx("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx(da,{href:"/",children:c.jsxs("div",{className:"flex items-center cursor-pointer",children:[c.jsx(dx,{className:"w-6 h-6 text-[hsl(var(--terracotta))] mr-2"}),c.jsx("h1",{className:"text-2xl font-display font-bold text-[hsl(var(--terracotta))]",children:"TripTaste"})]})}),c.jsx("div",{className:"hidden md:flex items-center space-x-4",children:s.map(o=>c.jsx(i,{path:o.path,label:o.label,icon:o.icon},o.path))}),c.jsx("div",{className:"md:hidden",children:c.jsxs(Vj,{open:t,onOpenChange:e,children:[c.jsx(Mj,{asChild:!0,children:c.jsx(ue,{variant:"ghost",size:"icon",children:c.jsx(mP,{className:"w-6 h-6 text-[hsl(var(--dark-slate))]"})})}),c.jsx(fT,{side:"right",className:"w-[300px] sm:w-[400px]",children:c.jsxs("div",{className:"flex flex-col space-y-4 mt-6",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx(dx,{className:"w-6 h-6 text-[hsl(var(--terracotta))] mr-2"}),c.jsx("h2",{className:"text-xl font-display font-bold text-[hsl(var(--terracotta))]",children:"TripTaste"})]}),s.map(o=>c.jsx(i,{path:o.path,label:o.label,icon:o.icon,mobile:!0},o.path))]})})]})})]})})})},Nt=m.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Nt.displayName="Input";function jx(t,[e,n]){return Math.min(n,Math.max(e,t))}var Bj=m.createContext(void 0);function Hj(t){const e=m.useContext(Bj);return t||e||"ltr"}function Wj(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var qj=[" ","Enter","ArrowUp","ArrowDown"],Kj=[" ","Enter"],zs="Select",[sd,id,Gj]=bE(zs),[po,J6]=os(zs,[Gj,fo]),od=fo(),[Qj,as]=po(zs),[Yj,Xj]=po(zs),pT=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:u,dir:d,name:h,autoComplete:p,disabled:g,required:w,form:b}=t,x=od(e),[E,_]=m.useState(null),[y,C]=m.useState(null),[k,O]=m.useState(!1),D=Hj(d),[S,T]=Wi({prop:r,defaultProp:s??!1,onChange:i,caller:zs}),[N,I]=Wi({prop:o,defaultProp:a,onChange:u,caller:zs}),P=m.useRef(null),j=E?b||!!E.closest("form"):!0,[A,L]=m.useState(new Set),G=Array.from(A).map(Q=>Q.props.value).join(";");return c.jsx(A1,{...x,children:c.jsxs(Qj,{required:w,scope:e,trigger:E,onTriggerChange:_,valueNode:y,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:O,contentId:Ut(),value:N,onValueChange:I,open:S,onOpenChange:T,dir:D,triggerPointerDownPosRef:P,disabled:g,children:[c.jsx(sd.Provider,{scope:e,children:c.jsx(Yj,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(Q=>{L(z=>new Set(z).add(Q))},[]),onNativeOptionRemove:m.useCallback(Q=>{L(z=>{const V=new Set(z);return V.delete(Q),V})},[]),children:n})}),j?c.jsxs(LT,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:p,value:N,onChange:Q=>I(Q.target.value),disabled:g,form:b,children:[N===void 0?c.jsx("option",{value:""}):null,Array.from(A)]},G):null]})})};pT.displayName=zs;var mT="SelectTrigger",gT=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=od(n),o=as(mT,n),a=o.disabled||r,u=Ae(e,o.onTriggerChange),d=id(n),h=m.useRef("touch"),[p,g,w]=zT(x=>{const E=d().filter(C=>!C.disabled),_=E.find(C=>C.value===o.value),y=UT(E,x,_);y!==void 0&&o.onValueChange(y.value)}),b=x=>{a||(o.onOpenChange(!0),w()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return c.jsx(Qu,{asChild:!0,...i,children:c.jsx(ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":FT(o.value)?"":void 0,...s,ref:u,onClick:le(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&b(x)}),onPointerDown:le(s.onPointerDown,x=>{h.current=x.pointerType;const E=x.target;E.hasPointerCapture(x.pointerId)&&E.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:le(s.onKeyDown,x=>{const E=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(E&&x.key===" ")&&qj.includes(x.key)&&(b(),x.preventDefault())})})})});gT.displayName=mT;var vT="SelectValue",yT=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,u=as(vT,n),{onValueNodeHasChildrenChange:d}=u,h=i!==void 0,p=Ae(e,u.onValueNodeChange);return ot(()=>{d(h)},[d,h]),c.jsx(ce.span,{...a,ref:p,style:{pointerEvents:"none"},children:FT(u.value)?c.jsx(c.Fragment,{children:o}):i})});yT.displayName=vT;var Jj="SelectIcon",xT=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(ce.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});xT.displayName=Jj;var Zj="SelectPortal",wT=t=>c.jsx(rl,{asChild:!0,...t});wT.displayName=Zj;var Us="SelectContent",_T=m.forwardRef((t,e)=>{const n=as(Us,t.__scopeSelect),[r,s]=m.useState();if(ot(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Qs.createPortal(c.jsx(ET,{scope:t.__scopeSelect,children:c.jsx(sd.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(TT,{...t,ref:e})});_T.displayName=Us;var mn=10,[ET,ls]=po(Us),eD="SelectContentImpl",tD=Vs("SelectContent.RemoveScroll"),TT=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:u,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:w,sticky:b,hideWhenDetached:x,avoidCollisions:E,..._}=t,y=as(Us,n),[C,k]=m.useState(null),[O,D]=m.useState(null),S=Ae(e,Y=>k(Y)),[T,N]=m.useState(null),[I,P]=m.useState(null),j=id(n),[A,L]=m.useState(!1),G=m.useRef(!1);m.useEffect(()=>{if(C)return Wm(C)},[C]),Hm();const Q=m.useCallback(Y=>{const[fe,...we]=j().map(be=>be.ref.current),[ye]=we.slice(-1),Te=document.activeElement;for(const be of Y)if(be===Te||(be==null||be.scrollIntoView({block:"nearest"}),be===fe&&O&&(O.scrollTop=0),be===ye&&O&&(O.scrollTop=O.scrollHeight),be==null||be.focus(),document.activeElement!==Te))return},[j,O]),z=m.useCallback(()=>Q([T,C]),[Q,T,C]);m.useEffect(()=>{A&&z()},[A,z]);const{onOpenChange:V,triggerPointerDownPosRef:$}=y;m.useEffect(()=>{if(C){let Y={x:0,y:0};const fe=ye=>{var Te,be;Y={x:Math.abs(Math.round(ye.pageX)-(((Te=$.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((be=$.current)==null?void 0:be.y)??0))}},we=ye=>{Y.x<=10&&Y.y<=10?ye.preventDefault():C.contains(ye.target)||V(!1),document.removeEventListener("pointermove",fe),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",we,{capture:!0})}}},[C,V,$]),m.useEffect(()=>{const Y=()=>V(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[V]);const[Z,se]=zT(Y=>{const fe=j().filter(Te=>!Te.disabled),we=fe.find(Te=>Te.ref.current===document.activeElement),ye=UT(fe,Y,we);ye&&setTimeout(()=>ye.ref.current.focus())}),U=m.useCallback((Y,fe,we)=>{const ye=!G.current&&!we;(y.value!==void 0&&y.value===fe||ye)&&(N(Y),ye&&(G.current=!0))},[y.value]),J=m.useCallback(()=>C==null?void 0:C.focus(),[C]),H=m.useCallback((Y,fe,we)=>{const ye=!G.current&&!we;(y.value!==void 0&&y.value===fe||ye)&&P(Y)},[y.value]),B=r==="popper"?Zf:ST,ee=B===Zf?{side:a,sideOffset:u,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:w,sticky:b,hideWhenDetached:x,avoidCollisions:E}:{};return c.jsx(ET,{scope:n,content:C,viewport:O,onViewportChange:D,itemRefCallback:U,selectedItem:T,onItemLeave:J,itemTextRefCallback:H,focusSelectedItem:z,selectedItemText:I,position:r,isPositioned:A,searchRef:Z,children:c.jsx(ed,{as:tD,allowPinchZoom:!0,children:c.jsx(Ju,{asChild:!0,trapped:y.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:le(s,Y=>{var fe;(fe=y.trigger)==null||fe.focus({preventScroll:!0}),Y.preventDefault()}),children:c.jsx(ao,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(B,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Y=>Y.preventDefault(),..._,...ee,onPlaced:()=>L(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:le(_.onKeyDown,Y=>{const fe=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!fe&&Y.key.length===1&&se(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let ye=j().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const Te=Y.target,be=ye.indexOf(Te);ye=ye.slice(be+1)}setTimeout(()=>Q(ye)),Y.preventDefault()}})})})})})})});TT.displayName=eD;var nD="SelectItemAlignedPosition",ST=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=as(Us,n),o=ls(Us,n),[a,u]=m.useState(null),[d,h]=m.useState(null),p=Ae(e,S=>h(S)),g=id(n),w=m.useRef(!1),b=m.useRef(!0),{viewport:x,selectedItem:E,selectedItemText:_,focusSelectedItem:y}=o,C=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&x&&E&&_){const S=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),I=_.getBoundingClientRect();if(i.dir!=="rtl"){const Te=I.left-T.left,be=N.left-Te,at=S.left-be,kt=S.width+at,Wn=Math.max(kt,T.width),mr=window.innerWidth-mn,hs=jx(be,[mn,Math.max(mn,mr-Wn)]);a.style.minWidth=kt+"px",a.style.left=hs+"px"}else{const Te=T.right-I.right,be=window.innerWidth-N.right-Te,at=window.innerWidth-S.right-be,kt=S.width+at,Wn=Math.max(kt,T.width),mr=window.innerWidth-mn,hs=jx(be,[mn,Math.max(mn,mr-Wn)]);a.style.minWidth=kt+"px",a.style.right=hs+"px"}const P=g(),j=window.innerHeight-mn*2,A=x.scrollHeight,L=window.getComputedStyle(d),G=parseInt(L.borderTopWidth,10),Q=parseInt(L.paddingTop,10),z=parseInt(L.borderBottomWidth,10),V=parseInt(L.paddingBottom,10),$=G+Q+A+V+z,Z=Math.min(E.offsetHeight*5,$),se=window.getComputedStyle(x),U=parseInt(se.paddingTop,10),J=parseInt(se.paddingBottom,10),H=S.top+S.height/2-mn,B=j-H,ee=E.offsetHeight/2,Y=E.offsetTop+ee,fe=G+Q+Y,we=$-fe;if(fe<=H){const Te=P.length>0&&E===P[P.length-1].ref.current;a.style.bottom="0px";const be=d.clientHeight-x.offsetTop-x.offsetHeight,at=Math.max(B,ee+(Te?J:0)+be+z),kt=fe+at;a.style.height=kt+"px"}else{const Te=P.length>0&&E===P[0].ref.current;a.style.top="0px";const at=Math.max(H,G+x.offsetTop+(Te?U:0)+ee)+we;a.style.height=at+"px",x.scrollTop=fe-H+x.offsetTop}a.style.margin=`${mn}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[g,i.trigger,i.valueNode,a,d,x,E,_,i.dir,r]);ot(()=>C(),[C]);const[k,O]=m.useState();ot(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const D=m.useCallback(S=>{S&&b.current===!0&&(C(),y==null||y(),b.current=!1)},[C,y]);return c.jsx(sD,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:D,children:c.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:c.jsx(ce.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ST.displayName=nD;var rD="SelectPopperPosition",Zf=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=mn,...i}=t,o=od(n);return c.jsx(Um,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zf.displayName=rD;var[sD,Xm]=po(Us,{}),ep="SelectViewport",CT=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ls(ep,n),o=Xm(ep,n),a=Ae(e,i.onViewportChange),u=m.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(sd.Slot,{scope:n,children:c.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:le(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const w=Math.abs(u.current-h.scrollTop);if(w>0){const b=window.innerHeight-mn*2,x=parseFloat(p.style.minHeight),E=parseFloat(p.style.height),_=Math.max(x,E);if(_<b){const y=_+w,C=Math.min(b,y),k=y-C;p.style.height=C+"px",p.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});CT.displayName=ep;var bT="SelectGroup",[iD,oD]=po(bT),aD=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ut();return c.jsx(iD,{scope:n,id:s,children:c.jsx(ce.div,{role:"group","aria-labelledby":s,...r,ref:e})})});aD.displayName=bT;var RT="SelectLabel",NT=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=oD(RT,n);return c.jsx(ce.div,{id:s.id,...r,ref:e})});NT.displayName=RT;var lu="SelectItem",[lD,IT]=po(lu),AT=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=as(lu,n),u=ls(lu,n),d=a.value===r,[h,p]=m.useState(i??""),[g,w]=m.useState(!1),b=Ae(e,y=>{var C;return(C=u.itemRefCallback)==null?void 0:C.call(u,y,r,s)}),x=Ut(),E=m.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(lD,{scope:n,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:m.useCallback(y=>{p(C=>C||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(sd.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:c.jsx(ce.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:le(o.onFocus,()=>w(!0)),onBlur:le(o.onBlur,()=>w(!1)),onClick:le(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:le(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:le(o.onPointerDown,y=>{E.current=y.pointerType}),onPointerMove:le(o.onPointerMove,y=>{var C;E.current=y.pointerType,s?(C=u.onItemLeave)==null||C.call(u):E.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(o.onPointerLeave,y=>{var C;y.currentTarget===document.activeElement&&((C=u.onItemLeave)==null||C.call(u))}),onKeyDown:le(o.onKeyDown,y=>{var k;((k=u.searchRef)==null?void 0:k.current)!==""&&y.key===" "||(Kj.includes(y.key)&&_(),y.key===" "&&y.preventDefault())})})})})});AT.displayName=lu;var Yo="SelectItemText",PT=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=as(Yo,n),a=ls(Yo,n),u=IT(Yo,n),d=Xj(Yo,n),[h,p]=m.useState(null),g=Ae(e,_=>p(_),u.onItemTextChange,_=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,_,u.value,u.disabled)}),w=h==null?void 0:h.textContent,b=m.useMemo(()=>c.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:E}=d;return ot(()=>(x(b),()=>E(b)),[x,E,b]),c.jsxs(c.Fragment,{children:[c.jsx(ce.span,{id:u.textId,...i,ref:g}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qs.createPortal(i.children,o.valueNode):null]})});PT.displayName=Yo;var kT="SelectItemIndicator",jT=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return IT(kT,n).isSelected?c.jsx(ce.span,{"aria-hidden":!0,...r,ref:e}):null});jT.displayName=kT;var tp="SelectScrollUpButton",DT=m.forwardRef((t,e)=>{const n=ls(tp,t.__scopeSelect),r=Xm(tp,t.__scopeSelect),[s,i]=m.useState(!1),o=Ae(e,r.onScrollButtonChange);return ot(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=u.scrollTop>0;i(d)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(VT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});DT.displayName=tp;var np="SelectScrollDownButton",OT=m.forwardRef((t,e)=>{const n=ls(np,t.__scopeSelect),r=Xm(np,t.__scopeSelect),[s,i]=m.useState(!1),o=Ae(e,r.onScrollButtonChange);return ot(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;i(h)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(VT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});OT.displayName=np;var VT=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ls("SelectScrollButton",n),o=m.useRef(null),a=id(n),u=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>u(),[u]),ot(()=>{var h;const d=a().find(p=>p.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),c.jsx(ce.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:le(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:le(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:le(s.onPointerLeave,()=>{u()})})}),cD="SelectSeparator",MT=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(ce.div,{"aria-hidden":!0,...r,ref:e})});MT.displayName=cD;var rp="SelectArrow",uD=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=od(n),i=as(rp,n),o=ls(rp,n);return i.open&&o.position==="popper"?c.jsx($m,{...s,...r,ref:e}):null});uD.displayName=rp;var dD="SelectBubbleInput",LT=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=m.useRef(null),i=Ae(r,s),o=Wj(e);return m.useEffect(()=>{const a=s.current;if(!a)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&h){const p=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(p)}},[o,e]),c.jsx(ce.select,{...n,style:{...PE,...n.style},ref:i,defaultValue:e})});LT.displayName=dD;function FT(t){return t===""||t===void 0}function zT(t){const e=Tn(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function UT(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=hD(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function hD(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fD=pT,$T=gT,pD=yT,mD=xT,gD=wT,BT=_T,vD=CT,HT=NT,WT=AT,yD=PT,xD=jT,qT=DT,KT=OT,GT=MT;const Gi=fD,Qi=pD,$s=m.forwardRef(({className:t,children:e,...n},r)=>c.jsxs($T,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(mD,{asChild:!0,children:c.jsx(Im,{className:"h-4 w-4 opacity-50"})})]}));$s.displayName=$T.displayName;const QT=m.forwardRef(({className:t,...e},n)=>c.jsx(qT,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(tP,{className:"h-4 w-4"})}));QT.displayName=qT.displayName;const YT=m.forwardRef(({className:t,...e},n)=>c.jsx(KT,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Im,{className:"h-4 w-4"})}));YT.displayName=KT.displayName;const Bs=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(gD,{children:c.jsxs(BT,{ref:s,className:ae("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(QT,{}),c.jsx(vD,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(YT,{})]})}));Bs.displayName=BT.displayName;const wD=m.forwardRef(({className:t,...e},n)=>c.jsx(HT,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));wD.displayName=HT.displayName;const Zn=m.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(WT,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(xD,{children:c.jsx(Va,{className:"h-4 w-4"})})}),c.jsx(yD,{children:e})]}));Zn.displayName=WT.displayName;const _D=m.forwardRef(({className:t,...e},n)=>c.jsx(GT,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));_D.displayName=GT.displayName;const ze=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ze.displayName="Card";const Dn=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",t),...e}));Dn.displayName="CardHeader";const On=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));On.displayName="CardTitle";const ED=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));ED.displayName="CardDescription";const Ue=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("p-6 pt-0",t),...e}));Ue.displayName="CardContent";const TD=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",t),...e}));TD.displayName="CardFooter";const SD=lo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Is({className:t,variant:e,...n}){return c.jsx("div",{className:ae(SD({variant:e}),t),...n})}const CD=()=>{};var Dx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let g=(a&15)<<2|d>>6,w=d&63;u||(w=64,o||(g=64)),r.push(n[h],n[p],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||p==null)throw new RD;const g=i<<2|a>>4;if(r.push(g),d!==64){const w=a<<4&240|d>>2;if(r.push(w),p!==64){const b=d<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ND=function(t){const e=XT(t);return JT.encodeByteArray(e,!0)},cu=function(t){return ND(t).replace(/\./g,"")},ID=function(t){try{return JT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=()=>AD().__FIREBASE_DEFAULTS__,kD=()=>{if(typeof process>"u"||typeof Dx>"u")return;const t=Dx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ID(t[1]);return e&&JSON.parse(e)},Jm=()=>{try{return CD()||PD()||kD()||jD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DD=t=>{var e,n;return(n=(e=Jm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OD=t=>{const e=DD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZT=()=>{var t;return(t=Jm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){return t.endsWith(".cloudworkstations.dev")}async function MD(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cu(JSON.stringify(n)),cu(JSON.stringify(o)),""].join(".")}const pa={};function FD(){const t={prod:[],emulator:[]};for(const e of Object.keys(pa))pa[e]?t.emulator.push(e):t.prod.push(e);return t}function zD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ox=!1;function UD(t,e){if(typeof window>"u"||typeof document>"u"||!Zm(window.location.host)||pa[t]===e||pa[t]||Ox)return;pa[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=FD().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,w){g.setAttribute("width","24"),g.setAttribute("id",w),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Ox=!0,o()},g}function h(g,w){g.setAttribute("id",w),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=zD(r),w=n("text"),b=document.getElementById(w)||document.createElement("span"),x=n("learnmore"),E=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const C=g.element;a(C),h(E,x);const k=d();u(y,_),C.append(y,b,E,k),document.body.appendChild(C)}i?(b.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BD(){var t;const e=(t=Jm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function HD(){return!BD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WD(){try{return typeof indexedDB=="object"}catch{return!1}}function qD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="FirebaseError";class mo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KD,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eS.prototype.create)}}class eS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?GD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new mo(s,a,r)}}function GD(t,e){return t.replace(QD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const QD=/\{\$([^}]+)}/g;function uu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Vx(i)&&Vx(o)){if(!uu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Vx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){return t&&t._delegate?t._delegate:t}class Fa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JD(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XD(t){return t===_s?void 0:t}function JD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const e4={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},t4=Ee.INFO,n4={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},r4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=n4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tS{constructor(e){this.name=e,this._logLevel=t4,this._logHandler=r4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const s4=(t,e)=>e.some(n=>t instanceof n);let Mx,Lx;function i4(){return Mx||(Mx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o4(){return Lx||(Lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,sp=new WeakMap,rS=new WeakMap,Dh=new WeakMap,eg=new WeakMap;function a4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($r(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nS.set(n,t)}).catch(()=>{}),eg.set(e,t),e}function l4(t){if(sp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});sp.set(t,e)}let ip={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function c4(t){ip=t(ip)}function u4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Oh(this),e,...n);return rS.set(r,e.sort?e.sort():[e]),$r(r)}:o4().includes(t)?function(...e){return t.apply(Oh(this),e),$r(nS.get(this))}:function(...e){return $r(t.apply(Oh(this),e))}}function d4(t){return typeof t=="function"?u4(t):(t instanceof IDBTransaction&&l4(t),s4(t,i4())?new Proxy(t,ip):t)}function $r(t){if(t instanceof IDBRequest)return a4(t);if(Dh.has(t))return Dh.get(t);const e=d4(t);return e!==t&&(Dh.set(t,e),eg.set(e,t)),e}const Oh=t=>eg.get(t);function h4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$r(o);return r&&o.addEventListener("upgradeneeded",u=>{r($r(o.result),u.oldVersion,u.newVersion,$r(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const f4=["get","getKey","getAll","getAllKeys","count"],p4=["put","add","delete","clear"],Vh=new Map;function Fx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vh.get(e))return Vh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=p4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||f4.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&u.done]))[0]};return Vh.set(e,i),i}c4(t=>({...t,get:(e,n,r)=>Fx(e,n)||t.get(e,n,r),has:(e,n)=>!!Fx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function g4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const op="@firebase/app",zx="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new tS("@firebase/app"),v4="@firebase/app-compat",y4="@firebase/analytics-compat",x4="@firebase/analytics",w4="@firebase/app-check-compat",_4="@firebase/app-check",E4="@firebase/auth",T4="@firebase/auth-compat",S4="@firebase/database",C4="@firebase/data-connect",b4="@firebase/database-compat",R4="@firebase/functions",N4="@firebase/functions-compat",I4="@firebase/installations",A4="@firebase/installations-compat",P4="@firebase/messaging",k4="@firebase/messaging-compat",j4="@firebase/performance",D4="@firebase/performance-compat",O4="@firebase/remote-config",V4="@firebase/remote-config-compat",M4="@firebase/storage",L4="@firebase/storage-compat",F4="@firebase/firestore",z4="@firebase/ai",U4="@firebase/firestore-compat",$4="firebase",B4="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",H4={[op]:"fire-core",[v4]:"fire-core-compat",[x4]:"fire-analytics",[y4]:"fire-analytics-compat",[_4]:"fire-app-check",[w4]:"fire-app-check-compat",[E4]:"fire-auth",[T4]:"fire-auth-compat",[S4]:"fire-rtdb",[C4]:"fire-data-connect",[b4]:"fire-rtdb-compat",[R4]:"fire-fn",[N4]:"fire-fn-compat",[I4]:"fire-iid",[A4]:"fire-iid-compat",[P4]:"fire-fcm",[k4]:"fire-fcm-compat",[j4]:"fire-perf",[D4]:"fire-perf-compat",[O4]:"fire-rc",[V4]:"fire-rc-compat",[M4]:"fire-gcs",[L4]:"fire-gcs-compat",[F4]:"fire-fst",[U4]:"fire-fst-compat",[z4]:"fire-vertex","fire-js":"fire-js",[$4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Map,W4=new Map,lp=new Map;function Ux(t,e){try{t.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function du(t){const e=t.name;if(lp.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const n of za.values())Ux(n,t);for(const n of W4.values())Ux(n,t);return!0}function q4(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function K4(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new eS("app","Firebase",G4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=B4;function sS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ap,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Br.create("bad-app-name",{appName:String(s)});if(n||(n=ZT()),!n)throw Br.create("no-options");const i=za.get(s);if(i){if(uu(n,i.options)&&uu(r,i.config))return i;throw Br.create("duplicate-app",{appName:s})}const o=new ZD(s);for(const u of lp.values())o.addComponent(u);const a=new Q4(n,r,o);return za.set(s,a),a}function X4(t=ap){const e=za.get(t);if(!e&&t===ap&&ZT())return sS();if(!e)throw Br.create("no-app",{appName:t});return e}function J4(){return Array.from(za.values())}function Di(t,e,n){var r;let s=(r=H4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(a.join(" "));return}du(new Fa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="firebase-heartbeat-database",eO=1,Ua="firebase-heartbeat-store";let Mh=null;function iS(){return Mh||(Mh=h4(Z4,eO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),Mh}async function tO(t){try{const n=(await iS()).transaction(Ua),r=await n.objectStore(Ua).get(oS(t));return await n.done,r}catch(e){if(e instanceof mo)cr.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function $x(t,e){try{const r=(await iS()).transaction(Ua,"readwrite");await r.objectStore(Ua).put(e,oS(t)),await r.done}catch(n){if(n instanceof mo)cr.warn(n.message);else{const r=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(r.message)}}}function oS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=1024,rO=30;class sO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Bx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>rO){const o=aO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bx(),{heartbeatsToSend:r,unsentEntries:s}=iO(this._heartbeatsCache.heartbeats),i=cu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return cr.warn(n),""}}}function Bx(){return new Date().toISOString().substring(0,10)}function iO(t,e=nO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Hx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Hx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WD()?qD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return $x(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return $x(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Hx(t){return cu(JSON.stringify({version:2,heartbeats:t})).length}function aO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){du(new Fa("platform-logger",e=>new m4(e),"PRIVATE")),du(new Fa("heartbeat",e=>new sO(e),"PRIVATE")),Di(op,zx,t),Di(op,zx,"esm2017"),Di("fire-js","")}lO("");var cO="firebase",uO="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(cO,uO,"app");var Wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,aS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function N(){}N.prototype=T.prototype,S.D=T.prototype,S.prototype=new N,S.prototype.constructor=S,S.C=function(I,P,j){for(var A=Array(arguments.length-2),L=2;L<arguments.length;L++)A[L-2]=arguments[L];return T.prototype[P].apply(I,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,T,N){N||(N=0);var I=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)I[P]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(P=0;16>P;++P)I[P]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=S.g[0],N=S.g[1],P=S.g[2];var j=S.g[3],A=T+(j^N&(P^j))+I[0]+3614090360&4294967295;T=N+(A<<7&4294967295|A>>>25),A=j+(P^T&(N^P))+I[1]+3905402710&4294967295,j=T+(A<<12&4294967295|A>>>20),A=P+(N^j&(T^N))+I[2]+606105819&4294967295,P=j+(A<<17&4294967295|A>>>15),A=N+(T^P&(j^T))+I[3]+3250441966&4294967295,N=P+(A<<22&4294967295|A>>>10),A=T+(j^N&(P^j))+I[4]+4118548399&4294967295,T=N+(A<<7&4294967295|A>>>25),A=j+(P^T&(N^P))+I[5]+1200080426&4294967295,j=T+(A<<12&4294967295|A>>>20),A=P+(N^j&(T^N))+I[6]+2821735955&4294967295,P=j+(A<<17&4294967295|A>>>15),A=N+(T^P&(j^T))+I[7]+4249261313&4294967295,N=P+(A<<22&4294967295|A>>>10),A=T+(j^N&(P^j))+I[8]+1770035416&4294967295,T=N+(A<<7&4294967295|A>>>25),A=j+(P^T&(N^P))+I[9]+2336552879&4294967295,j=T+(A<<12&4294967295|A>>>20),A=P+(N^j&(T^N))+I[10]+4294925233&4294967295,P=j+(A<<17&4294967295|A>>>15),A=N+(T^P&(j^T))+I[11]+2304563134&4294967295,N=P+(A<<22&4294967295|A>>>10),A=T+(j^N&(P^j))+I[12]+1804603682&4294967295,T=N+(A<<7&4294967295|A>>>25),A=j+(P^T&(N^P))+I[13]+4254626195&4294967295,j=T+(A<<12&4294967295|A>>>20),A=P+(N^j&(T^N))+I[14]+2792965006&4294967295,P=j+(A<<17&4294967295|A>>>15),A=N+(T^P&(j^T))+I[15]+1236535329&4294967295,N=P+(A<<22&4294967295|A>>>10),A=T+(P^j&(N^P))+I[1]+4129170786&4294967295,T=N+(A<<5&4294967295|A>>>27),A=j+(N^P&(T^N))+I[6]+3225465664&4294967295,j=T+(A<<9&4294967295|A>>>23),A=P+(T^N&(j^T))+I[11]+643717713&4294967295,P=j+(A<<14&4294967295|A>>>18),A=N+(j^T&(P^j))+I[0]+3921069994&4294967295,N=P+(A<<20&4294967295|A>>>12),A=T+(P^j&(N^P))+I[5]+3593408605&4294967295,T=N+(A<<5&4294967295|A>>>27),A=j+(N^P&(T^N))+I[10]+38016083&4294967295,j=T+(A<<9&4294967295|A>>>23),A=P+(T^N&(j^T))+I[15]+3634488961&4294967295,P=j+(A<<14&4294967295|A>>>18),A=N+(j^T&(P^j))+I[4]+3889429448&4294967295,N=P+(A<<20&4294967295|A>>>12),A=T+(P^j&(N^P))+I[9]+568446438&4294967295,T=N+(A<<5&4294967295|A>>>27),A=j+(N^P&(T^N))+I[14]+3275163606&4294967295,j=T+(A<<9&4294967295|A>>>23),A=P+(T^N&(j^T))+I[3]+4107603335&4294967295,P=j+(A<<14&4294967295|A>>>18),A=N+(j^T&(P^j))+I[8]+1163531501&4294967295,N=P+(A<<20&4294967295|A>>>12),A=T+(P^j&(N^P))+I[13]+2850285829&4294967295,T=N+(A<<5&4294967295|A>>>27),A=j+(N^P&(T^N))+I[2]+4243563512&4294967295,j=T+(A<<9&4294967295|A>>>23),A=P+(T^N&(j^T))+I[7]+1735328473&4294967295,P=j+(A<<14&4294967295|A>>>18),A=N+(j^T&(P^j))+I[12]+2368359562&4294967295,N=P+(A<<20&4294967295|A>>>12),A=T+(N^P^j)+I[5]+4294588738&4294967295,T=N+(A<<4&4294967295|A>>>28),A=j+(T^N^P)+I[8]+2272392833&4294967295,j=T+(A<<11&4294967295|A>>>21),A=P+(j^T^N)+I[11]+1839030562&4294967295,P=j+(A<<16&4294967295|A>>>16),A=N+(P^j^T)+I[14]+4259657740&4294967295,N=P+(A<<23&4294967295|A>>>9),A=T+(N^P^j)+I[1]+2763975236&4294967295,T=N+(A<<4&4294967295|A>>>28),A=j+(T^N^P)+I[4]+1272893353&4294967295,j=T+(A<<11&4294967295|A>>>21),A=P+(j^T^N)+I[7]+4139469664&4294967295,P=j+(A<<16&4294967295|A>>>16),A=N+(P^j^T)+I[10]+3200236656&4294967295,N=P+(A<<23&4294967295|A>>>9),A=T+(N^P^j)+I[13]+681279174&4294967295,T=N+(A<<4&4294967295|A>>>28),A=j+(T^N^P)+I[0]+3936430074&4294967295,j=T+(A<<11&4294967295|A>>>21),A=P+(j^T^N)+I[3]+3572445317&4294967295,P=j+(A<<16&4294967295|A>>>16),A=N+(P^j^T)+I[6]+76029189&4294967295,N=P+(A<<23&4294967295|A>>>9),A=T+(N^P^j)+I[9]+3654602809&4294967295,T=N+(A<<4&4294967295|A>>>28),A=j+(T^N^P)+I[12]+3873151461&4294967295,j=T+(A<<11&4294967295|A>>>21),A=P+(j^T^N)+I[15]+530742520&4294967295,P=j+(A<<16&4294967295|A>>>16),A=N+(P^j^T)+I[2]+3299628645&4294967295,N=P+(A<<23&4294967295|A>>>9),A=T+(P^(N|~j))+I[0]+4096336452&4294967295,T=N+(A<<6&4294967295|A>>>26),A=j+(N^(T|~P))+I[7]+1126891415&4294967295,j=T+(A<<10&4294967295|A>>>22),A=P+(T^(j|~N))+I[14]+2878612391&4294967295,P=j+(A<<15&4294967295|A>>>17),A=N+(j^(P|~T))+I[5]+4237533241&4294967295,N=P+(A<<21&4294967295|A>>>11),A=T+(P^(N|~j))+I[12]+1700485571&4294967295,T=N+(A<<6&4294967295|A>>>26),A=j+(N^(T|~P))+I[3]+2399980690&4294967295,j=T+(A<<10&4294967295|A>>>22),A=P+(T^(j|~N))+I[10]+4293915773&4294967295,P=j+(A<<15&4294967295|A>>>17),A=N+(j^(P|~T))+I[1]+2240044497&4294967295,N=P+(A<<21&4294967295|A>>>11),A=T+(P^(N|~j))+I[8]+1873313359&4294967295,T=N+(A<<6&4294967295|A>>>26),A=j+(N^(T|~P))+I[15]+4264355552&4294967295,j=T+(A<<10&4294967295|A>>>22),A=P+(T^(j|~N))+I[6]+2734768916&4294967295,P=j+(A<<15&4294967295|A>>>17),A=N+(j^(P|~T))+I[13]+1309151649&4294967295,N=P+(A<<21&4294967295|A>>>11),A=T+(P^(N|~j))+I[4]+4149444226&4294967295,T=N+(A<<6&4294967295|A>>>26),A=j+(N^(T|~P))+I[11]+3174756917&4294967295,j=T+(A<<10&4294967295|A>>>22),A=P+(T^(j|~N))+I[2]+718787259&4294967295,P=j+(A<<15&4294967295|A>>>17),A=N+(j^(P|~T))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var N=T-this.blockSize,I=this.B,P=this.h,j=0;j<T;){if(P==0)for(;j<=N;)s(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<T;)if(I[P++]=S.charCodeAt(j++),P==this.blockSize){s(this,I),P=0;break}}else for(;j<T;)if(I[P++]=S[j++],P==this.blockSize){s(this,I),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var N=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=N&255,N/=256;for(this.u(S),S=Array(16),T=N=0;4>T;++T)for(var I=0;32>I;I+=8)S[N++]=this.g[T]>>>I&255;return S};function i(S,T){var N=a;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=T(S)}function o(S,T){this.h=T;for(var N=[],I=!0,P=S.length-1;0<=P;P--){var j=S[P]|0;I&&j==T||(N[P]=j,I=!1)}this.g=N}var a={};function u(S){return-128<=S&&128>S?i(S,function(T){return new o([T|0],0>T?-1:0)}):new o([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return E(d(-S));for(var T=[],N=1,I=0;S>=N;I++)T[I]=S/N|0,N*=4294967296;return new o(T,0)}function h(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return E(h(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(T,8)),I=p,P=0;P<S.length;P+=8){var j=Math.min(8,S.length-P),A=parseInt(S.substring(P,P+j),T);8>j?(j=d(Math.pow(T,j)),I=I.j(j).add(d(A))):(I=I.j(N),I=I.add(d(A)))}return I}var p=u(0),g=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-E(this).m();for(var S=0,T=1,N=0;N<this.g.length;N++){var I=this.i(N);S+=(0<=I?I:4294967296+I)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(x(this))return"-"+E(this).toString(S);for(var T=d(Math.pow(S,6)),N=this,I="";;){var P=k(N,T).g;N=_(N,P.j(T));var j=((0<N.g.length?N.g[0]:N.h)>>>0).toString(S);if(N=P,b(N))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=_(this,S),x(S)?-1:b(S)?0:1};function E(S){for(var T=S.g.length,N=[],I=0;I<T;I++)N[I]=~S.g[I];return new o(N,~S.h).add(g)}t.abs=function(){return x(this)?E(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),N=[],I=0,P=0;P<=T;P++){var j=I+(this.i(P)&65535)+(S.i(P)&65535),A=(j>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);I=A>>>16,j&=65535,A&=65535,N[P]=A<<16|j}return new o(N,N[N.length-1]&-2147483648?-1:0)};function _(S,T){return S.add(E(T))}t.j=function(S){if(b(this)||b(S))return p;if(x(this))return x(S)?E(this).j(E(S)):E(E(this).j(S));if(x(S))return E(this.j(E(S)));if(0>this.l(w)&&0>S.l(w))return d(this.m()*S.m());for(var T=this.g.length+S.g.length,N=[],I=0;I<2*T;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<S.g.length;P++){var j=this.i(I)>>>16,A=this.i(I)&65535,L=S.i(P)>>>16,G=S.i(P)&65535;N[2*I+2*P]+=A*G,y(N,2*I+2*P),N[2*I+2*P+1]+=j*G,y(N,2*I+2*P+1),N[2*I+2*P+1]+=A*L,y(N,2*I+2*P+1),N[2*I+2*P+2]+=j*L,y(N,2*I+2*P+2)}for(I=0;I<T;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=T;I<2*T;I++)N[I]=0;return new o(N,0)};function y(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function C(S,T){this.g=S,this.h=T}function k(S,T){if(b(T))throw Error("division by zero");if(b(S))return new C(p,p);if(x(S))return T=k(E(S),T),new C(E(T.g),E(T.h));if(x(T))return T=k(S,E(T)),new C(E(T.g),T.h);if(30<S.g.length){if(x(S)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var N=g,I=T;0>=I.l(S);)N=O(N),I=O(I);var P=D(N,1),j=D(I,1);for(I=D(I,2),N=D(N,2);!b(I);){var A=j.add(I);0>=A.l(S)&&(P=P.add(N),j=A),I=D(I,1),N=D(N,1)}return T=_(S,P.j(T)),new C(P,T)}for(P=p;0<=S.l(T);){for(N=Math.max(1,Math.floor(S.m()/T.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=d(N),A=j.j(T);x(A)||0<A.l(S);)N-=I,j=d(N),A=j.j(T);b(j)&&(j=g),P=P.add(j),S=_(S,A)}return new C(P,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)&S.i(I);return new o(N,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)|S.i(I);return new o(N,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)^S.i(I);return new o(N,this.h^S.h)};function O(S){for(var T=S.g.length+1,N=[],I=0;I<T;I++)N[I]=S.i(I)<<1|S.i(I-1)>>>31;return new o(N,S.h)}function D(S,T){var N=T>>5;T%=32;for(var I=S.g.length-N,P=[],j=0;j<I;j++)P[j]=0<T?S.i(j+N)>>>T|S.i(j+N+1)<<32-T:S.i(j+N);return new o(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Hr=o}).apply(typeof Wx<"u"?Wx:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lS,Xo,cS,bc,cp,uS,dS,hS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,v){return l==Array.prototype||l==Object.prototype||(l[f]=v.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var f=0;f<l.length;++f){var v=l[f];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var v=r;l=l.split(".");for(var R=0;R<l.length-1;R++){var M=l[R];if(!(M in v))break e;v=v[M]}l=l[l.length-1],R=v[l],f=f(R),f!=R&&f!=null&&e(v,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var v=0,R=!1,M={next:function(){if(!R&&v<l.length){var F=v++;return{value:f(F,l[F]),done:!1}}return R=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function d(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,v){return l.call.apply(l.bind,arguments)}function p(l,f,v){if(!l)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,R),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function g(l,f,v){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function w(l,f){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),l.apply(this,R)}}function b(l,f){function v(){}v.prototype=f.prototype,l.aa=f.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(R,M,F){for(var X=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)X[Pe-2]=arguments[Pe];return f.prototype[M].apply(R,X)}}function x(l){const f=l.length;if(0<f){const v=Array(f);for(let R=0;R<f;R++)v[R]=l[R];return v}return[]}function E(l,f){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(u(R)){const M=l.length||0,F=R.length||0;l.length=M+F;for(let X=0;X<F;X++)l[M+X]=R[X]}else l.push(R)}}class _{constructor(f,v){this.i=f,this.j=v,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(l){return/^[\s\xa0]*$/.test(l)}function C(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var O=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function D(l,f,v){for(const R in l)f.call(v,l[R],R,l)}function S(l,f){for(const v in l)f.call(void 0,l[v],v,l)}function T(l){const f={};for(const v in l)f[v]=l[v];return f}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(l,f){let v,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(v in R)l[v]=R[v];for(let F=0;F<N.length;F++)v=N[F],Object.prototype.hasOwnProperty.call(R,v)&&(l[v]=R[v])}}function P(l){var f=1;l=l.split(":");const v=[];for(;0<f&&l.length;)v.push(l.shift()),f--;return l.length&&v.push(l.join(":")),v}function j(l){a.setTimeout(()=>{throw l},0)}function A(){var l=$;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class L{constructor(){this.h=this.g=null}add(f,v){const R=G.get();R.set(f,v),this.h?this.h.next=R:this.g=R,this.h=R}}var G=new _(()=>new Q,l=>l.reset());class Q{constructor(){this.next=this.g=this.h=null}set(f,v){this.h=f,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let z,V=!1,$=new L,Z=()=>{const l=a.Promise.resolve(void 0);z=()=>{l.then(se)}};var se=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(v){j(v)}var f=G;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}V=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};a.addEventListener("test",v,f),a.removeEventListener("test",v,f)}catch{}return l}();function B(l,f){if(J.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,R=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(O){e:{try{k(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else v=="mouseover"?f=l.fromElement:v=="mouseout"&&(f=l.toElement);this.relatedTarget=f,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ee[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&B.aa.h.call(this)}}b(B,J);var ee={2:"touch",3:"pen",4:"mouse"};B.prototype.h=function(){B.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),fe=0;function we(l,f,v,R,M){this.listener=l,this.proxy=null,this.src=f,this.type=v,this.capture=!!R,this.ha=M,this.key=++fe,this.da=this.fa=!1}function ye(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Te(l){this.src=l,this.g={},this.h=0}Te.prototype.add=function(l,f,v,R,M){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var X=at(l,f,R,M);return-1<X?(f=l[X],v||(f.fa=!1)):(f=new we(f,this.src,F,!!R,M),f.fa=v,l.push(f)),f};function be(l,f){var v=f.type;if(v in l.g){var R=l.g[v],M=Array.prototype.indexOf.call(R,f,void 0),F;(F=0<=M)&&Array.prototype.splice.call(R,M,1),F&&(ye(f),l.g[v].length==0&&(delete l.g[v],l.h--))}}function at(l,f,v,R){for(var M=0;M<l.length;++M){var F=l[M];if(!F.da&&F.listener==f&&F.capture==!!v&&F.ha==R)return M}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Wn={};function mr(l,f,v,R,M){if(Array.isArray(f)){for(var F=0;F<f.length;F++)mr(l,f[F],v,R,M);return null}return v=Kg(v),l&&l[Y]?l.K(f,v,d(R)?!!R.capture:!1,M):hs(l,f,v,!1,R,M)}function hs(l,f,v,R,M,F){if(!f)throw Error("Invalid event type");var X=d(M)?!!M.capture:!!M,Pe=Ad(l);if(Pe||(l[kt]=Pe=new Te(l)),v=Pe.add(f,v,R,X,F),v.proxy)return v;if(R=Nd(),v.proxy=R,R.src=l,R.listener=v,l.addEventListener)H||(M=X),M===void 0&&(M=!1),l.addEventListener(f.toString(),R,M);else if(l.attachEvent)l.attachEvent(qg(f.toString()),R);else if(l.addListener&&l.removeListener)l.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Nd(){function l(v){return f.call(l.src,l.listener,v)}const f=Eb;return l}function fs(l,f,v,R,M){if(Array.isArray(f))for(var F=0;F<f.length;F++)fs(l,f[F],v,R,M);else R=d(R)?!!R.capture:!!R,v=Kg(v),l&&l[Y]?(l=l.i,f=String(f).toString(),f in l.g&&(F=l.g[f],v=at(F,v,R,M),-1<v&&(ye(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete l.g[f],l.h--)))):l&&(l=Ad(l))&&(f=l.g[f.toString()],l=-1,f&&(l=at(f,v,R,M)),(v=-1<l?f[l]:null)&&Id(v))}function Id(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Y])be(f.i,l);else{var v=l.type,R=l.proxy;f.removeEventListener?f.removeEventListener(v,R,l.capture):f.detachEvent?f.detachEvent(qg(v),R):f.addListener&&f.removeListener&&f.removeListener(R),(v=Ad(f))?(be(v,l),v.h==0&&(v.src=null,f[kt]=null)):ye(l)}}}function qg(l){return l in Wn?Wn[l]:Wn[l]="on"+l}function Eb(l,f){if(l.da)l=!0;else{f=new B(f,this);var v=l.listener,R=l.ha||l.src;l.fa&&Id(l),l=v.call(R,f)}return l}function Ad(l){return l=l[kt],l instanceof Te?l:null}var Pd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kg(l){return typeof l=="function"?l:(l[Pd]||(l[Pd]=function(f){return l.handleEvent(f)}),l[Pd])}function mt(){U.call(this),this.i=new Te(this),this.M=this,this.F=null}b(mt,U),mt.prototype[Y]=!0,mt.prototype.removeEventListener=function(l,f,v,R){fs(this,l,f,v,R)};function Ct(l,f){var v,R=l.F;if(R)for(v=[];R;R=R.F)v.push(R);if(l=l.M,R=f.type||f,typeof f=="string")f=new J(f,l);else if(f instanceof J)f.target=f.target||l;else{var M=f;f=new J(R,l),I(f,M)}if(M=!0,v)for(var F=v.length-1;0<=F;F--){var X=f.g=v[F];M=yl(X,R,!0,f)&&M}if(X=f.g=l,M=yl(X,R,!0,f)&&M,M=yl(X,R,!1,f)&&M,v)for(F=0;F<v.length;F++)X=f.g=v[F],M=yl(X,R,!1,f)&&M}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var v=l.g[f],R=0;R<v.length;R++)ye(v[R]);delete l.g[f],l.h--}}this.F=null},mt.prototype.K=function(l,f,v,R){return this.i.add(String(l),f,!1,v,R)},mt.prototype.L=function(l,f,v,R){return this.i.add(String(l),f,!0,v,R)};function yl(l,f,v,R){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,F=0;F<f.length;++F){var X=f[F];if(X&&!X.da&&X.capture==v){var Pe=X.listener,lt=X.ha||X.src;X.fa&&be(l.i,X),M=Pe.call(lt,R)!==!1&&M}}return M&&!R.defaultPrevented}function Gg(l,f,v){if(typeof l=="function")v&&(l=g(l,v));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function Qg(l){l.g=Gg(()=>{l.g=null,l.i&&(l.i=!1,Qg(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Tb extends U{constructor(f,v){super(),this.m=f,this.l=v,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Qg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eo(l){U.call(this),this.h=l,this.g={}}b(Eo,U);var Yg=[];function Xg(l){D(l.g,function(f,v){this.g.hasOwnProperty(v)&&Id(f)},l),l.g={}}Eo.prototype.N=function(){Eo.aa.N.call(this),Xg(this)},Eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kd=a.JSON.stringify,Sb=a.JSON.parse,Cb=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function jd(){}jd.prototype.h=null;function Jg(l){return l.h||(l.h=l.i())}function Zg(){}var To={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dd(){J.call(this,"d")}b(Dd,J);function Od(){J.call(this,"c")}b(Od,J);var ps={},ev=null;function xl(){return ev=ev||new mt}ps.La="serverreachability";function tv(l){J.call(this,ps.La,l)}b(tv,J);function So(l){const f=xl();Ct(f,new tv(f))}ps.STAT_EVENT="statevent";function nv(l,f){J.call(this,ps.STAT_EVENT,l),this.stat=f}b(nv,J);function bt(l){const f=xl();Ct(f,new nv(f,l))}ps.Ma="timingevent";function rv(l,f){J.call(this,ps.Ma,l),this.size=f}b(rv,J);function Co(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function bo(){this.g=!0}bo.prototype.xa=function(){this.g=!1};function bb(l,f,v,R,M,F){l.info(function(){if(l.g)if(F)for(var X="",Pe=F.split("&"),lt=0;lt<Pe.length;lt++){var Re=Pe[lt].split("=");if(1<Re.length){var gt=Re[0];Re=Re[1];var vt=gt.split("_");X=2<=vt.length&&vt[1]=="type"?X+(gt+"="+Re+"&"):X+(gt+"=redacted&")}}else X=null;else X=F;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+f+`
`+v+`
`+X})}function Rb(l,f,v,R,M,F,X){l.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+f+`
`+v+`
`+F+" "+X})}function Zs(l,f,v,R){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Ib(l,v)+(R?" "+R:"")})}function Nb(l,f){l.info(function(){return"TIMEOUT: "+f})}bo.prototype.info=function(){};function Ib(l,f){if(!l.g)return f;if(!f)return null;try{var v=JSON.parse(f);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var R=v[l];if(!(2>R.length)){var M=R[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var X=1;X<M.length;X++)M[X]=""}}}}return kd(v)}catch{return f}}var wl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vd;function _l(){}b(_l,jd),_l.prototype.g=function(){return new XMLHttpRequest},_l.prototype.i=function(){return{}},Vd=new _l;function gr(l,f,v,R){this.j=l,this.i=f,this.l=v,this.R=R||1,this.U=new Eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iv}function iv(){this.i=null,this.g="",this.h=!1}var ov={},Md={};function Ld(l,f,v){l.L=1,l.v=Cl(qn(f)),l.m=v,l.P=!0,av(l,null)}function av(l,f){l.F=Date.now(),El(l),l.A=qn(l.v);var v=l.A,R=l.R;Array.isArray(R)||(R=[String(R)]),_v(v.i,"t",R),l.C=0,v=l.j.J,l.h=new iv,l.g=Fv(l.j,v?f:null,!l.m),0<l.O&&(l.M=new Tb(g(l.Y,l,l.g),l.O)),f=l.U,v=l.g,R=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Yg[0]=M.toString()),M=Yg);for(var F=0;F<M.length;F++){var X=mr(v,M[F],R||f.handleEvent,!1,f.h||f);if(!X)break;f.g[X.key]=X}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),So(),bb(l.i,l.u,l.A,l.l,l.R,l.m)}gr.prototype.ca=function(l){l=l.target;const f=this.M;f&&Kn(l)==3?f.j():this.Y(l)},gr.prototype.Y=function(l){try{if(l==this.g)e:{const vt=Kn(this.g);var f=this.g.Ba();const ni=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Nv(this.g)))){this.J||vt!=4||f==7||(f==8||0>=ni?So(3):So(2)),Fd(this);var v=this.g.Z();this.X=v;t:if(lv(this)){var R=Nv(this.g);l="";var M=R.length,F=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ms(this),Ro(this);var X="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(R[f],{stream:!(F&&f==M-1)});R.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=v==200,Rb(this.i,this.u,this.A,this.l,this.R,vt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,lt=this.g;if((Pe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Pe)){var Re=Pe;break t}}Re=null}if(v=Re)Zs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zd(this,v);else{this.o=!1,this.s=3,bt(12),ms(this),Ro(this);break e}}if(this.P){v=!0;let hn;for(;!this.J&&this.C<X.length;)if(hn=Ab(this,X),hn==Md){vt==4&&(this.s=4,bt(14),v=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==ov){this.s=4,bt(15),Zs(this.i,this.l,X,"[Invalid Chunk]"),v=!1;break}else Zs(this.i,this.l,hn,null),zd(this,hn);if(lv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||X.length!=0||this.h.h||(this.s=1,bt(16),v=!1),this.o=this.o&&v,!v)Zs(this.i,this.l,X,"[Invalid Chunked Response]"),ms(this),Ro(this);else if(0<X.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),qd(gt),gt.M=!0,bt(11))}}else Zs(this.i,this.l,X,null),zd(this,X);vt==4&&ms(this),this.o&&!this.J&&(vt==4?Ov(this.j,this):(this.o=!1,El(this)))}else Kb(this.g),v==400&&0<X.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),ms(this),Ro(this)}}}catch{}finally{}};function lv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ab(l,f){var v=l.C,R=f.indexOf(`
`,v);return R==-1?Md:(v=Number(f.substring(v,R)),isNaN(v)?ov:(R+=1,R+v>f.length?Md:(f=f.slice(R,R+v),l.C=R+v,f)))}gr.prototype.cancel=function(){this.J=!0,ms(this)};function El(l){l.S=Date.now()+l.I,cv(l,l.I)}function cv(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Co(g(l.ba,l),f)}function Fd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}gr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Nb(this.i,this.A),this.L!=2&&(So(),bt(17)),ms(this),this.s=2,Ro(this)):cv(this,this.S-l)};function Ro(l){l.j.G==0||l.J||Ov(l.j,l)}function ms(l){Fd(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Xg(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function zd(l,f){try{var v=l.j;if(v.G!=0&&(v.g==l||Ud(v.h,l))){if(!l.K&&Ud(v.h,l)&&v.G==3){try{var R=v.Da.g.parse(f)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)Pl(v),Il(v);else break e;Wd(v),bt(18)}}else v.za=M[1],0<v.za-v.T&&37500>M[2]&&v.F&&v.v==0&&!v.C&&(v.C=Co(g(v.Za,v),6e3));if(1>=hv(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else vs(v,11)}else if((l.K||v.g==l)&&Pl(v),!y(f))for(M=v.Da.g.parse(f),f=0;f<M.length;f++){let Re=M[f];if(v.T=Re[0],Re=Re[1],v.G==2)if(Re[0]=="c"){v.K=Re[1],v.ia=Re[2];const gt=Re[3];gt!=null&&(v.la=gt,v.j.info("VER="+v.la));const vt=Re[4];vt!=null&&(v.Aa=vt,v.j.info("SVER="+v.Aa));const ni=Re[5];ni!=null&&typeof ni=="number"&&0<ni&&(R=1.5*ni,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const hn=l.g;if(hn){const jl=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var F=R.h;F.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&($d(F,F.h),F.h=null))}if(R.D){const Kd=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kd&&(R.ya=Kd,je(R.I,R.D,Kd))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var X=l;if(R.qa=Lv(R,R.J?R.ia:null,R.W),X.K){fv(R.h,X);var Pe=X,lt=R.L;lt&&(Pe.I=lt),Pe.B&&(Fd(Pe),El(Pe)),R.g=X}else jv(R);0<v.i.length&&Al(v)}else Re[0]!="stop"&&Re[0]!="close"||vs(v,7);else v.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?vs(v,7):Hd(v):Re[0]!="noop"&&v.l&&v.l.ta(Re),v.v=0)}}So(4)}catch{}}var Pb=class{constructor(l,f){this.g=l,this.map=f}};function uv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function hv(l){return l.h?1:l.g?l.g.size:0}function Ud(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function $d(l,f){l.g?l.g.add(f):l.h=f}function fv(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}uv.prototype.cancel=function(){if(this.i=pv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function pv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const v of l.g.values())f=f.concat(v.D);return f}return x(l.i)}function kb(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],v=l.length,R=0;R<v;R++)f.push(l[R]);return f}f=[],v=0;for(R in l)f[v++]=l[R];return f}function jb(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var v=0;v<l;v++)f.push(v);return f}f=[],v=0;for(const R in l)f[v++]=R;return f}}}function mv(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var v=jb(l),R=kb(l),M=R.length,F=0;F<M;F++)f.call(void 0,R[F],v&&v[F],l)}var gv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Db(l,f){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var R=l[v].indexOf("="),M=null;if(0<=R){var F=l[v].substring(0,R);M=l[v].substring(R+1)}else F=l[v];f(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function gs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof gs){this.h=l.h,Tl(this,l.j),this.o=l.o,this.g=l.g,Sl(this,l.s),this.l=l.l;var f=l.i,v=new Ao;v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),vv(this,v),this.m=l.m}else l&&(f=String(l).match(gv))?(this.h=!1,Tl(this,f[1]||"",!0),this.o=No(f[2]||""),this.g=No(f[3]||"",!0),Sl(this,f[4]),this.l=No(f[5]||"",!0),vv(this,f[6]||"",!0),this.m=No(f[7]||"")):(this.h=!1,this.i=new Ao(null,this.h))}gs.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Io(f,yv,!0),":");var v=this.g;return(v||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Io(f,yv,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(Io(v,v.charAt(0)=="/"?Mb:Vb,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",Io(v,Fb)),l.join("")};function qn(l){return new gs(l)}function Tl(l,f,v){l.j=v?No(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Sl(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function vv(l,f,v){f instanceof Ao?(l.i=f,zb(l.i,l.h)):(v||(f=Io(f,Lb)),l.i=new Ao(f,l.h))}function je(l,f,v){l.i.set(f,v)}function Cl(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function No(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Io(l,f,v){return typeof l=="string"?(l=encodeURI(l).replace(f,Ob),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ob(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var yv=/[#\/\?@]/g,Vb=/[#\?:]/g,Mb=/[#\?]/g,Lb=/[#\?@]/g,Fb=/#/g;function Ao(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function vr(l){l.g||(l.g=new Map,l.h=0,l.i&&Db(l.i,function(f,v){l.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}t=Ao.prototype,t.add=function(l,f){vr(this),this.i=null,l=ei(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(f),this.h+=1,this};function xv(l,f){vr(l),f=ei(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function wv(l,f){return vr(l),f=ei(l,f),l.g.has(f)}t.forEach=function(l,f){vr(this),this.g.forEach(function(v,R){v.forEach(function(M){l.call(f,M,R,this)},this)},this)},t.na=function(){vr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),v=[];for(let R=0;R<f.length;R++){const M=l[R];for(let F=0;F<M.length;F++)v.push(f[R])}return v},t.V=function(l){vr(this);let f=[];if(typeof l=="string")wv(this,l)&&(f=f.concat(this.g.get(ei(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)f=f.concat(l[v])}return f},t.set=function(l,f){return vr(this),this.i=null,l=ei(this,l),wv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function _v(l,f,v){xv(l,f),0<v.length&&(l.i=null,l.g.set(ei(l,f),x(v)),l.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var v=0;v<f.length;v++){var R=f[v];const F=encodeURIComponent(String(R)),X=this.V(R);for(R=0;R<X.length;R++){var M=F;X[R]!==""&&(M+="="+encodeURIComponent(String(X[R]))),l.push(M)}}return this.i=l.join("&")};function ei(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function zb(l,f){f&&!l.j&&(vr(l),l.i=null,l.g.forEach(function(v,R){var M=R.toLowerCase();R!=M&&(xv(this,R),_v(this,M,v))},l)),l.j=f}function Ub(l,f){const v=new bo;if(a.Image){const R=new Image;R.onload=w(yr,v,"TestLoadImage: loaded",!0,f,R),R.onerror=w(yr,v,"TestLoadImage: error",!1,f,R),R.onabort=w(yr,v,"TestLoadImage: abort",!1,f,R),R.ontimeout=w(yr,v,"TestLoadImage: timeout",!1,f,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=l}else f(!1)}function $b(l,f){const v=new bo,R=new AbortController,M=setTimeout(()=>{R.abort(),yr(v,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:R.signal}).then(F=>{clearTimeout(M),F.ok?yr(v,"TestPingServer: ok",!0,f):yr(v,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),yr(v,"TestPingServer: error",!1,f)})}function yr(l,f,v,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(v)}catch{}}function Bb(){this.g=new Cb}function Hb(l,f,v){const R=v||"";try{mv(l,function(M,F){let X=M;d(M)&&(X=kd(M)),f.push(R+F+"="+encodeURIComponent(X))})}catch(M){throw f.push(R+"type="+encodeURIComponent("_badmap")),M}}function bl(l){this.l=l.Ub||null,this.j=l.eb||!1}b(bl,jd),bl.prototype.g=function(){return new Rl(this.l,this.j)},bl.prototype.i=function(l){return function(){return l}}({});function Rl(l,f){mt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Rl,mt),t=Rl.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,ko(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Po(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ko(this)),this.g&&(this.readyState=3,ko(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ev(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ev(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Po(this):ko(this),this.readyState==3&&Ev(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Po(this))},t.Qa=function(l){this.g&&(this.response=l,Po(this))},t.ga=function(){this.g&&Po(this)};function Po(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ko(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var v=f.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=f.next();return l.join(`\r
`)};function ko(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Tv(l){let f="";return D(l,function(v,R){f+=R,f+=":",f+=v,f+=`\r
`}),f}function Bd(l,f,v){e:{for(R in v){var R=!1;break e}R=!0}R||(v=Tv(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):je(l,f,v))}function We(l){mt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(We,mt);var Wb=/^https?$/i,qb=["POST","PUT"];t=We.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vd.g(),this.v=this.o?Jg(this.o):Jg(Vd),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(F){Sv(this,F);return}if(l=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)v.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())v.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qb,f,void 0))||R||M||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of v)this.g.setRequestHeader(F,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rv(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){Sv(this,F)}};function Sv(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Cv(l),Nl(l)}function Cv(l){l.A||(l.A=!0,Ct(l,"complete"),Ct(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ct(this,"complete"),Ct(this,"abort"),Nl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nl(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bv(this):this.bb())},t.bb=function(){bv(this)};function bv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Kn(l)!=4||l.Z()!=2)){if(l.u&&Kn(l)==4)Gg(l.Ea,0,l);else if(Ct(l,"readystatechange"),Kn(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var v;if(!(v=f)){var R;if(R=X===0){var M=String(l.D).match(gv)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),R=!Wb.test(M?M.toLowerCase():"")}v=R}if(v)Ct(l,"complete"),Ct(l,"success");else{l.m=6;try{var F=2<Kn(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Cv(l)}}finally{Nl(l)}}}}function Nl(l,f){if(l.g){Rv(l);const v=l.g,R=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Ct(l,"ready");try{v.onreadystatechange=R}catch{}}}function Rv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Kn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Sb(f)}};function Nv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Kb(l){const f={};l=(l.g&&2<=Kn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<l.length;R++){if(y(l[R]))continue;var v=P(l[R]);const M=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=f[M]||[];f[M]=F,F.push(v)}S(f,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jo(l,f,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||f}function Iv(l){this.Aa=0,this.i=[],this.j=new bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jo("baseRetryDelayMs",5e3,l),this.cb=jo("retryDelaySeedMs",1e4,l),this.Wa=jo("forwardChannelMaxRetries",2,l),this.wa=jo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new uv(l&&l.concurrentRequestLimit),this.Da=new Bb,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Iv.prototype,t.la=8,t.G=1,t.connect=function(l,f,v,R){bt(0),this.W=l,this.H=f||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=Lv(this,null,this.W),Al(this)};function Hd(l){if(Av(l),l.G==3){var f=l.U++,v=qn(l.I);if(je(v,"SID",l.K),je(v,"RID",f),je(v,"TYPE","terminate"),Do(l,v),f=new gr(l,l.j,f),f.L=2,f.v=Cl(qn(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=f.v,v=!0),v||(f.g=Fv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),El(f)}Mv(l)}function Il(l){l.g&&(qd(l),l.g.cancel(),l.g=null)}function Av(l){Il(l),l.u&&(a.clearTimeout(l.u),l.u=null),Pl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Al(l){if(!dv(l.h)&&!l.s){l.s=!0;var f=l.Ga;z||Z(),V||(z(),V=!0),$.add(f,l),l.B=0}}function Gb(l,f){return hv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Co(g(l.Ga,l,f),Vv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new gr(this,this.j,l);let F=this.o;if(this.S&&(F?(F=T(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var f=0,v=0;v<this.i.length;v++){t:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(f+=R,4096<f){f=v;break e}if(f===4096||v===this.i.length-1){f=v+1;break e}}f=1e3}else f=1e3;f=kv(this,M,f),v=qn(this.I),je(v,"RID",l),je(v,"CVER",22),this.D&&je(v,"X-HTTP-Session-Id",this.D),Do(this,v),F&&(this.O?f="headers="+encodeURIComponent(String(Tv(F)))+"&"+f:this.m&&Bd(v,this.m,F)),$d(this.h,M),this.Ua&&je(v,"TYPE","init"),this.P?(je(v,"$req",f),je(v,"SID","null"),M.T=!0,Ld(M,v,null)):Ld(M,v,f),this.G=2}}else this.G==3&&(l?Pv(this,l):this.i.length==0||dv(this.h)||Pv(this))};function Pv(l,f){var v;f?v=f.l:v=l.U++;const R=qn(l.I);je(R,"SID",l.K),je(R,"RID",v),je(R,"AID",l.T),Do(l,R),l.m&&l.o&&Bd(R,l.m,l.o),v=new gr(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),f&&(l.i=f.D.concat(l.i)),f=kv(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),$d(l.h,v),Ld(v,R,f)}function Do(l,f){l.H&&D(l.H,function(v,R){je(f,R,v)}),l.l&&mv({},function(v,R){je(f,R,v)})}function kv(l,f,v){v=Math.min(l.i.length,v);var R=l.l?g(l.l.Na,l.l,l):null;e:{var M=l.i;let F=-1;for(;;){const X=["count="+v];F==-1?0<v?(F=M[0].g,X.push("ofs="+F)):F=0:X.push("ofs="+F);let Pe=!0;for(let lt=0;lt<v;lt++){let Re=M[lt].g;const gt=M[lt].map;if(Re-=F,0>Re)F=Math.max(0,M[lt].g-100),Pe=!1;else try{Hb(gt,X,"req"+Re+"_")}catch{R&&R(gt)}}if(Pe){R=X.join("&");break e}}}return l=l.i.splice(0,v),f.D=l,R}function jv(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;z||Z(),V||(z(),V=!0),$.add(f,l),l.v=0}}function Wd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Co(g(l.Fa,l),Vv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Dv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Co(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Il(this),Dv(this))};function qd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Dv(l){l.g=new gr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=qn(l.qa);je(f,"RID","rpc"),je(f,"SID",l.K),je(f,"AID",l.T),je(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(f,"TO",l.ja),je(f,"TYPE","xmlhttp"),Do(l,f),l.m&&l.o&&Bd(f,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=Cl(qn(f)),v.m=null,v.P=!0,av(v,l)}t.Za=function(){this.C!=null&&(this.C=null,Il(this),Wd(this),bt(19))};function Pl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Ov(l,f){var v=null;if(l.g==f){Pl(l),qd(l),l.g=null;var R=2}else if(Ud(l.h,f))v=f.D,fv(l.h,f),R=1;else return;if(l.G!=0){if(f.o)if(R==1){v=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;R=xl(),Ct(R,new rv(R,v)),Al(l)}else jv(l);else if(M=f.s,M==3||M==0&&0<f.X||!(R==1&&Gb(l,f)||R==2&&Wd(l)))switch(v&&0<v.length&&(f=l.h,f.i=f.i.concat(v)),M){case 1:vs(l,5);break;case 4:vs(l,10);break;case 3:vs(l,6);break;default:vs(l,2)}}}function Vv(l,f){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*f}function vs(l,f){if(l.j.info("Error code "+f),f==2){var v=g(l.fb,l),R=l.Xa;const M=!R;R=new gs(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tl(R,"https"),Cl(R),M?Ub(R.toString(),v):$b(R.toString(),v)}else bt(2);l.G=0,l.l&&l.l.sa(f),Mv(l),Av(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Mv(l){if(l.G=0,l.ka=[],l.l){const f=pv(l.h);(f.length!=0||l.i.length!=0)&&(E(l.ka,f),E(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function Lv(l,f,v){var R=v instanceof gs?qn(v):new gs(v);if(R.g!="")f&&(R.g=f+"."+R.g),Sl(R,R.s);else{var M=a.location;R=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var F=new gs(null);R&&Tl(F,R),f&&(F.g=f),M&&Sl(F,M),v&&(F.l=v),R=F}return v=l.D,f=l.ya,v&&f&&je(R,v,f),je(R,"VER",l.la),Do(l,R),R}function Fv(l,f,v){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new We(new bl({eb:v})):new We(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zv(){}t=zv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kl(){}kl.prototype.g=function(l,f){return new Ht(l,f)};function Ht(l,f){mt.call(this),this.g=new Iv(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!y(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new ti(this)}b(Ht,mt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Hd(this.g)},Ht.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=kd(l),l=v);f.i.push(new Pb(f.Ya++,l)),f.G==3&&Al(f)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Hd(this.g),delete this.g,Ht.aa.N.call(this)};function Uv(l){Dd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const v in f){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}b(Uv,Dd);function $v(){Od.call(this),this.status=1}b($v,Od);function ti(l){this.g=l}b(ti,zv),ti.prototype.ua=function(){Ct(this.g,"a")},ti.prototype.ta=function(l){Ct(this.g,new Uv(l))},ti.prototype.sa=function(l){Ct(this.g,new $v)},ti.prototype.ra=function(){Ct(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,hS=function(){return new kl},dS=function(){return xl()},uS=ps,cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wl.NO_ERROR=0,wl.TIMEOUT=8,wl.HTTP_ERROR=6,bc=wl,sv.COMPLETE="complete",cS=sv,Zg.EventType=To,To.OPEN="a",To.CLOSE="b",To.ERROR="c",To.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Xo=Zg,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,lS=We}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const qx="@firebase/firestore",Kx="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new tS("@firebase/firestore");function ai(){return Hs.logLevel}function te(t,...e){if(Hs.logLevel<=Ee.DEBUG){const n=e.map(tg);Hs.debug(`Firestore (${go}): ${t}`,...n)}}function ur(t,...e){if(Hs.logLevel<=Ee.ERROR){const n=e.map(tg);Hs.error(`Firestore (${go}): ${t}`,...n)}}function Yi(t,...e){if(Hs.logLevel<=Ee.WARN){const n=e.map(tg);Hs.warn(`Firestore (${go}): ${t}`,...n)}}function tg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fS(t,r,n)}function fS(t,e,n){let r=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ur(r),new Error(r)}function Ne(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||fS(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends mo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class hO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fO{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new pS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new _t(e)}}class pO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,K4(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=vO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function up(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ge(r,s);{const i=mS(),o=yO(i.encode(Qx(t,n)),i.encode(Qx(e,n)));return o!==0?o:ge(r,s)}}n+=r>65535?2:1}return ge(t.length,e.length)}function Qx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function yO(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ge(t[n],e[n]);return ge(t.length,e.length)}function Xi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=-62135596800,Xx=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xx);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yx)throw new re(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xx}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Yx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Ke(0,0))}static max(){return new de(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="__name__";class Pn{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Pn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ge(e.length,n.length)}static compareSegments(e,n){const r=Pn.isNumericId(e),s=Pn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Pn.extractNumericId(e).compare(Pn.extractNumericId(n)):up(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}}class Ve extends Pn{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const xO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Pn{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return xO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jx}static keyField(){return new dt([Jx])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new re(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new re(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new re(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new re(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ve.fromString(e))}static fromName(e){return new ie(Ve.fromString(e).popFirst(5))}static empty(){return new ie(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=-1;function wO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Yr(s,ie.empty(),e)}function _O(t){return new Yr(t.readTime,t.key,$a)}class Yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yr(de.min(),ie.empty(),$a)}static max(){return new Yr(de.max(),ie.empty(),$a)}}function EO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==TO)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function CO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ad.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function ld(t){return t==null}function hu(t){return t===0&&1/t==-1/0}function bO(t){return typeof t=="number"&&Number.isInteger(t)&&!hu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="";function RO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Zx(e)),e=NO(t.get(n),e);return Zx(e)}function NO(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case vS:n+="";break;default:n+=i}}return n}function Zx(t){return t+vS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||ut.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ic(this.root,e,this.comparator,!0)}}class ic{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ut{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ut.RED,this.left=s??ut.EMPTY,this.right=i??ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ut(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tw(this.data.getIterator())}getIteratorFrom(e){return new tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class tw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new nt(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new xS("Invalid base64 string: "+i):i}}(e);return new pt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const IO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(t){if(Ne(!!t,39018),typeof t=="string"){let e=0;const n=IO.exec(t);if(Ne(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jr(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="server_timestamp",_S="__type__",ES="__previous_value__",TS="__local_write_time__";function rg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[_S])===null||n===void 0?void 0:n.stringValue)===wS}function cd(t){const e=t.mapValue.fields[ES];return rg(e)?cd(e):e}function Ba(t){const e=Xr(t.mapValue.fields[TS].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,s,i,o,a,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}}const fu="(default)";class Ha{constructor(e,n){this.projectId=e,this.database=n||fu}static empty(){return new Ha("","")}get isDefaultDatabase(){return this.database===fu}isEqual(e){return e instanceof Ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="__type__",PO="__max__",oc={mapValue:{}},CS="__vector__",pu="value";function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rg(t)?4:jO(t)?9007199254740991:kO(t)?10:11:oe(28295,{value:t})}function Bn(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ba(t).isEqual(Ba(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Xr(s.timestampValue),a=Xr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Jr(s.bytesValue).isEqual(Jr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ge(s.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(s.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ge(s.integerValue)===Ge(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ge(s.doubleValue),a=Ge(i.doubleValue);return o===a?hu(o)===hu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xi(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(ew(o)!==ew(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Bn(o[u],a[u])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function Wa(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function Ji(t,e){if(t===e)return 0;const n=Zr(t),r=Zr(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ge(i.integerValue||i.doubleValue),u=Ge(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return nw(t.timestampValue,e.timestampValue);case 4:return nw(Ba(t),Ba(e));case 5:return up(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Jr(i),u=Jr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){const h=ge(a[d],u[d]);if(h!==0)return h}return ge(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ge(Ge(i.latitude),Ge(o.latitude));return a!==0?a:ge(Ge(i.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,d,h;const p=i.fields||{},g=o.fields||{},w=(a=p[pu])===null||a===void 0?void 0:a.arrayValue,b=(u=g[pu])===null||u===void 0?void 0:u.arrayValue,x=ge(((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:rw(w,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===oc.mapValue&&o===oc.mapValue)return 0;if(i===oc.mapValue)return 1;if(o===oc.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const g=up(u[p],h[p]);if(g!==0)return g;const w=Ji(a[u[p]],d[h[p]]);if(w!==0)return w}return ge(u.length,h.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{Pe:n})}}function nw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Xr(t),r=Xr(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function rw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ji(n[s],r[s]);if(i)return i}return ge(n.length,r.length)}function Zi(t){return dp(t)}function dp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=dp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${dp(n.fields[o])}`;return s+"}"}(t.mapValue):oe(61005,{value:t})}function Rc(t){switch(Zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(t);return e?16+Rc(e):16;case 5:return 2*t.stringValue.length;case 6:return Jr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Rc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return cs(r.fields,(i,o)=>{s+=i.length+Rc(o)}),s}(t.mapValue);default:throw oe(13486,{value:t})}}function sw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hp(t){return!!t&&"integerValue"in t}function sg(t){return!!t&&"arrayValue"in t}function iw(t){return!!t&&"nullValue"in t}function ow(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nc(t){return!!t&&"mapValue"in t}function kO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SS])===null||n===void 0?void 0:n.stringValue)===CS}function ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ma(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ma(n)}setAll(e){let n=dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ma(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Nc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){cs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ot(ma(this.value))}}function bS(t){const e=[];return cs(t.fields,(n,r)=>{const s=new dt([n]);if(Nc(r)){const i=bS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tt(e,0,de.min(),de.min(),de.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,s){return new Tt(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new Tt(e,2,n,de.min(),de.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,de.min(),de.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.position=e,this.inclusive=n}}function aw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Ji(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function DO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{}class Ze extends RS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VO(e,n,r):n==="array-contains"?new FO(e,r):n==="in"?new zO(e,r):n==="not-in"?new UO(e,r):n==="array-contains-any"?new $O(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MO(e,r):new LO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ji(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends RS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new bn(e,n)}matches(e){return NS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function NS(t){return t.op==="and"}function IS(t){return OO(t)&&NS(t)}function OO(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function fp(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Zi(t.value);if(IS(t))return t.filters.map(e=>fp(e)).join(",");{const e=t.filters.map(n=>fp(n)).join(",");return`${t.op}(${e})`}}function AS(t,e){return t instanceof Ze?function(r,s){return s instanceof Ze&&r.op===s.op&&r.field.isEqual(s.field)&&Bn(r.value,s.value)}(t,e):t instanceof bn?function(r,s){return s instanceof bn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&AS(o,s.filters[a]),!0):!1}(t,e):void oe(19439)}function PS(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Zi(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map(PS).join(" ,")+"}"}(t):"Filter"}class VO extends Ze{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class MO extends Ze{constructor(e,n){super(e,"in",n),this.keys=kS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LO extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=kS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class FO extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sg(n)&&Wa(n.arrayValue,this.value)}}class zO extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wa(this.value.arrayValue,n)}}class UO extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wa(this.value.arrayValue,n)}}class $O extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function cw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new BO(t,e,n,r,s,i,o)}function ig(t){const e=he(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zi(r)).join(",")),e.Ie=n}return e.Ie}function og(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lw(t.startAt,e.startAt)&&lw(t.endAt,e.endAt)}function pp(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function HO(t,e,n,r,s,i,o,a){return new ul(t,e,n,r,s,i,o,a)}function ag(t){return new ul(t)}function uw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jS(t){return t.collectionGroup!==null}function ga(t){const e=he(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(dt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new gu(i,r))}),n.has(dt.keyField().canonicalString())||e.Ee.push(new gu(dt.keyField(),r))}return e.Ee}function zn(t){const e=he(t);return e.de||(e.de=WO(e,ga(t))),e.de}function WO(t,e){if(t.limitType==="F")return cw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new gu(s.field,i)});const n=t.endAt?new mu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mu(t.startAt.position,t.startAt.inclusive):null;return cw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mp(t,e){const n=t.filters.concat([e]);return new ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gp(t,e,n){return new ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ud(t,e){return og(zn(t),zn(e))&&t.limitType===e.limitType}function DS(t){return`${ig(zn(t))}|lt:${t.limitType}`}function li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>PS(s)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Zi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Zi(s)).join(",")),`Target(${r})`}(zn(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ga(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const d=aw(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,ga(r),s)||r.endAt&&!function(o,a,u){const d=aw(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,ga(r),s))}(t,e)}function qO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OS(t){return(e,n)=>{let r=!1;for(const s of ga(t)){const i=KO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function KO(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),d=a.data.field(i);return u!==null&&d!==null?Ji(u,d):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return yS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new He(ie.comparator);function dr(){return GO}const VS=new He(ie.comparator);function Jo(...t){let e=VS;for(const n of t)e=e.insert(n.key,n);return e}function MS(t){let e=VS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cs(){return va()}function LS(){return va()}function va(){return new Ys(t=>t.toString(),(t,e)=>t.isEqual(e))}const QO=new He(ie.comparator),YO=new nt(ie.comparator);function xe(...t){let e=YO;for(const n of t)e=e.add(n);return e}const XO=new nt(ge);function JO(){return XO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hu(e)?"-0":e}}function FS(t){return{integerValue:""+t}}function ZO(t,e){return bO(e)?FS(e):lg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function eV(t,e,n){return t instanceof vu?function(s,i){const o={fields:{[_S]:{stringValue:wS},[TS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&rg(i)&&(i=cd(i)),i&&(o.fields[ES]=i),{mapValue:o}}(n,e):t instanceof qa?US(t,e):t instanceof Ka?$S(t,e):function(s,i){const o=zS(s,i),a=dw(o)+dw(s.Re);return hp(o)&&hp(s.Re)?FS(a):lg(s.serializer,a)}(t,e)}function tV(t,e,n){return t instanceof qa?US(t,e):t instanceof Ka?$S(t,e):n}function zS(t,e){return t instanceof yu?function(r){return hp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class vu extends hd{}class qa extends hd{constructor(e){super(),this.elements=e}}function US(t,e){const n=BS(e);for(const r of t.elements)n.some(s=>Bn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ka extends hd{constructor(e){super(),this.elements=e}}function $S(t,e){let n=BS(e);for(const r of t.elements)n=n.filter(s=>!Bn(s,r));return{arrayValue:{values:n}}}class yu extends hd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function dw(t){return Ge(t.integerValue||t.doubleValue)}function BS(t){return sg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof qa&&s instanceof qa||r instanceof Ka&&s instanceof Ka?Xi(r.elements,s.elements,Bn):r instanceof yu&&s instanceof yu?Bn(r.Re,s.Re):r instanceof vu&&s instanceof vu}(t.transform,e.transform)}class rV{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ic(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fd{}function HS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cg(t.key,_n.none()):new dl(t.key,t.data,_n.none());{const n=t.data,r=Ot.empty();let s=new nt(dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new us(t.key,r,new Xt(s.toArray()),_n.none())}}function sV(t,e,n){t instanceof dl?function(s,i,o){const a=s.value.clone(),u=fw(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof us?function(s,i,o){if(!Ic(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=fw(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(WS(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ya(t,e,n,r){return t instanceof dl?function(i,o,a,u){if(!Ic(i.precondition,o))return a;const d=i.value.clone(),h=pw(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof us?function(i,o,a,u){if(!Ic(i.precondition,o))return a;const d=pw(i.fieldTransforms,u,o),h=o.data;return h.setAll(WS(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Ic(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=zS(r.transform,s||null);i!=null&&(n===null&&(n=Ot.empty()),n.set(r.field,i))}return n||null}function hw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xi(r,s,(i,o)=>nV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dl extends fd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class us extends fd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fw(t,e,n){const r=new Map;Ne(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,tV(o,a,n[s]))}return r}function pw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,eV(i,o,e))}return r}class cg extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oV extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&sV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=HS(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Xi(this.mutations,e.mutations,(n,r)=>hw(n,r))&&Xi(this.baseMutations,e.baseMutations,(n,r)=>hw(n,r))}}class ug{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ne(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return QO}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ug(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,_e;function uV(t){switch(t){case q.OK:return oe(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function qS(t){if(t===void 0)return ur("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ye.OK:return q.OK;case Ye.CANCELLED:return q.CANCELLED;case Ye.UNKNOWN:return q.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return q.INTERNAL;case Ye.UNAVAILABLE:return q.UNAVAILABLE;case Ye.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ye.NOT_FOUND:return q.NOT_FOUND;case Ye.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ye.ABORTED:return q.ABORTED;case Ye.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ye.DATA_LOSS:return q.DATA_LOSS;default:return oe(39323,{code:t})}}(_e=Ye||(Ye={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=new Hr([4294967295,4294967295],0);function mw(t){const e=mS().encode(t),n=new aS;return n.update(e),new Uint8Array(n.digest())}function gw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Hr([n,r],0),new Hr([s,i],0)]}class dg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zo(`Invalid padding: ${n}`);if(r<0)throw new Zo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Hr.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Hr.fromNumber(r)));return s.compare(dV)===1&&(s=new Hr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=mw(e),[r,s]=gw(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new dg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=mw(e),[r,s]=gw(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pd(de.min(),s,new He(ge),dr(),xe())}}class hl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hl(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class KS{constructor(e,n){this.targetId=e,this.Ce=n}}class GS{constructor(e,n,r=pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class vw{constructor(){this.Fe=0,this.Me=yw(),this.xe=pt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=xe(),n=xe(),r=xe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:i})}}),new hl(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=yw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ne(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class hV{constructor(e){this.ze=e,this.je=new Map,this.He=dr(),this.Je=ac(),this.Ye=ac(),this.Ze=new He(ge)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(pp(i))if(r===0){const o=new ie(i.path);this.tt(n,o,Tt.newNoDocument(o,de.min()))}else Ne(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),u=a?this.lt(a,e,o):1;if(u!==0){this.st(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Jr(r).toUint8Array()}catch(u){if(u instanceof xS)return Yi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new dg(o,s,i)}catch(u){return Yi(u instanceof Zo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&pp(a.target)){const u=new ie(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,Tt.newNoDocument(u,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=xe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const d=this._t(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new pd(e,n,this.Ze,this.He,r);return this.He=dr(),this.Je=ac(),this.Ye=ac(),this.Ze=new He(ge),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new vw,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new nt(ge),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new nt(ge),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new vw),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ac(){return new He(ie.comparator)}function yw(){return new He(ie.comparator)}const fV={asc:"ASCENDING",desc:"DESCENDING"},pV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mV={and:"AND",or:"OR"};class gV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vp(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function xu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vV(t,e){return xu(t,e.toTimestamp())}function Un(t){return Ne(!!t,49232),de.fromTimestamp(function(n){const r=Xr(n);return new Ke(r.seconds,r.nanos)}(t))}function hg(t,e){return yp(t,e).canonicalString()}function yp(t,e){const n=function(s){return new Ve(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YS(t){const e=Ve.fromString(t);return Ne(tC(e),10190,{key:e.toString()}),e}function xp(t,e){return hg(t.databaseId,e.path)}function Lh(t,e){const n=YS(e);if(n.get(1)!==t.databaseId.projectId)throw new re(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(JS(n))}function XS(t,e){return hg(t.databaseId,e)}function yV(t){const e=YS(t);return e.length===4?Ve.emptyPath():JS(e)}function wp(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JS(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xw(t,e,n){return{name:xp(t,e),fields:n.value.mapValue.fields}}function xV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:oe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ne(h===void 0||typeof h=="string",58123),pt.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),pt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?q.UNKNOWN:qS(d.code);return new re(h,d.message||"")}(o);n=new GS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Lh(t,r.document.name),i=Un(r.document.updateTime),o=r.document.createTime?Un(r.document.createTime):de.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Ac(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Lh(t,r.document),i=r.readTime?Un(r.readTime):de.min(),o=Tt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ac([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Lh(t,r.document),i=r.removedTargetIds||[];n=new Ac([],i,s,null)}else{if(!("filter"in e))return oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new cV(s,i),a=r.targetId;n=new KS(a,o)}}return n}function wV(t,e){let n;if(e instanceof dl)n={update:xw(t,e.key,e.value)};else if(e instanceof cg)n={delete:xp(t,e.key)};else if(e instanceof us)n={update:xw(t,e.key,e.data),updateMask:IV(e.fieldMask)};else{if(!(e instanceof oV))return oe(16599,{ft:e.type});n={verify:xp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof vu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ka)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yu)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:vV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)}(t,e.precondition)),n}function _V(t,e){return t&&t.length>0?(Ne(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Un(s.updateTime):Un(i);return o.isEqual(de.min())&&(o=Un(i)),new rV(o,s.transformResults||[])}(n,e))):[]}function EV(t,e){return{documents:[XS(t,e.path)]}}function TV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XS(t,s);const i=function(d){if(d.length!==0)return eC(bn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:ci(g.field),direction:bV(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=vp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function SV(t){let e=yV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ne(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const g=ZS(p);return g instanceof bn&&IS(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(b){return new gu(ui(b.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,ld(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,w=p.values||[];return new mu(w,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,w=p.values||[];return new mu(w,g)}(n.endAt)),HO(e,s,o,i,a,"F",u,d)}function CV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ui(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ui(n.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ui(n.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ui(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(ui(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(r=>ZS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function bV(t){return fV[t]}function RV(t){return pV[t]}function NV(t){return mV[t]}function ci(t){return{fieldPath:t.canonicalString()}}function ui(t){return dt.fromServerFormat(t.fieldPath)}function eC(t){return t instanceof Ze?function(n){if(n.op==="=="){if(ow(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NAN"}};if(iw(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ow(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NAN"}};if(iw(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ci(n.field),op:RV(n.op),value:n.value}}}(t):t instanceof bn?function(n){const r=n.getFilters().map(s=>eC(s));return r.length===1?r[0]:{compositeFilter:{op:NV(n.op),filters:r}}}(t):oe(54877,{filter:t})}function IV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,s,i=de.min(),o=de.min(),a=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.wt=e}}function PV(t){const e=SV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.Cn=new jV}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Yr.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class jV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(Ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nC=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(nC,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new eo(0)}static lr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="LruGarbageCollector",DV=1048576;function Ew([t,e],[n,r]){const s=ge(t,n);return s===0?ge(e,r):s}class OV{constructor(e){this.Er=e,this.buffer=new nt(Ew),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ew(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){te(_w,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?te(_w,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.mr(3e5)})}}class MV{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(ad.le);const r=new OV(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(ww)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ww):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),ai()<=Ee.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function LV(t,e){return new MV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.changes=new Ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ya(r.mutation,s,Xt.empty(),Ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=Cs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Jo();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=dr();const o=va(),a=function(){return va()}();return n.forEach((u,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof us)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ya(h.mutation,d,h.mutation.getFieldMask(),Ke.now())):o.set(d.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var p;return a.set(d,new zV(h,(p=o.get(d))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=va();let s=new He((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=r.get(u)||Xt.empty();h=a.applyToLocalView(d,h),r.set(u,h);const p=(s.get(a.batchId)||xe()).add(u);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),d=u.key,h=u.value,p=LS();h.forEach(g=>{if(!i.has(g)){const w=HS(n.get(g),r.get(g));w!==null&&p.set(g,w),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(Cs());let a=$a,u=i;return o.next(d=>W.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,xe())).next(h=>({batchId:a,changes:MS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=Jo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Jo();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,u=>{const d=function(p,g){return new ul(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Tt.newInvalidDocument(h)))});let a=Jo();return o.forEach((u,d)=>{const h=i.get(u);h!==void 0&&ya(h.mutation,d,Xt.empty(),Ke.now()),dd(n,d)&&(a=a.insert(u,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return W.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Un(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:PV(s.bundledQuery),readTime:Un(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.overlays=new He(ie.comparator),this.Qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cs();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=Cs(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new He((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Cs(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Cs(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return W.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lV(n,r));let i=this.Qr.get(n);i===void 0&&(i=xe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.$r=new nt(rt.Ur),this.Kr=new nt(rt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new rt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new rt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ie(new Ve([])),r=new rt(n,e),s=new rt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ie(new Ve([])),r=new rt(n,e),s=new rt(n,e+1);let i=xe();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new rt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ie.comparator(e.key,n.key)||ge(e.Zr,n.Zr)}static Wr(e,n){return ge(e.Zr,n.Zr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new nt(rt.Ur)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?ng:this.nr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),s=new rt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ge);return n.forEach(s=>{const i=new rt(s,0),o=new rt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),W.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new rt(new ie(i),0);let a=new nt(ge);return this.Xr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(u.Zr)),!0)},o),W.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ne(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return W.forEach(n.mutations,s=>{const i=new rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new rt(n,0),s=this.Xr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.ii=e,this.docs=function(){return new He(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=dr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Tt.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=dr();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||EO(_O(h),r)<=0||(s.has(h.key)||dd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}si(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KV(this)}getSize(e){return W.resolve(this.size)}}class KV extends FV{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.persistence=e,this.oi=new Ys(n=>ig(n),og),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this._i=0,this.ai=new fg,this.targetCount=0,this.ui=eo.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),W.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new eo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Tr(n),W.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.ci={},this.overlays={},this.li=new ad(0),this.hi=!1,this.hi=!0,this.Pi=new HV,this.referenceDelegate=e(this),this.Ti=new GV(this),this.indexManager=new kV,this.remoteDocumentCache=function(s){return new qV(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new AV(n),this.Ei=new $V(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new WV(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new QV(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return W.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class QV extends SO{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Vi=new fg,this.mi=null}static fi(e){return new pg(e)}get gi(){if(this.mi)return this.mi;throw oe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.gi,r=>{const s=ie.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return W.or([()=>W.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class wu{constructor(e,n){this.persistence=e,this.yi=new Ys(r=>RO(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=LV(this,n)}static fi(e,n){return new wu(e,n)}di(){}Ai(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return W.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,de.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rc(e.data.value)),n}Dr(e,n,r){return W.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new mg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return HD()?8:CO($D())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new YV;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(ai()<=Ee.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),W.resolve()):(ai()<=Ee.DEBUG&&te("QueryEngine","Query:",li(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(ai()<=Ee.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):W.resolve())}ws(e,n){if(uw(n))return W.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=gp(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.vs(n,a);return this.Cs(n,d,o,u.readTime)?this.ws(e,gp(n,null,"F")):this.Fs(e,d,n,u)}))})))}bs(e,n,r,s){return uw(n)||s.isEqual(de.min())?W.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?W.resolve(null):(ai()<=Ee.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),li(n)),this.Fs(e,o,n,wO(s,$a)).next(a=>a))})}vs(e,n){let r=new nt(OS(e));return n.forEach((s,i)=>{dd(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ai()<=Ee.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",li(n)),this.ys.getDocumentsMatchingQuery(e,n,Yr.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",JV=3e8;class ZV{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new He(ge),this.Os=new Ys(i=>ig(i),og),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function eM(t,e,n,r){return new ZV(t,e,n,r)}async function sC(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=xe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(d=>({ks:d,removedBatchIds:o,addedBatchIds:a}))})})}function tM(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,h){const p=d.batch,g=p.keys();let w=W.resolve();return g.forEach(b=>{w=w.next(()=>h.getEntry(u,b)).next(x=>{const E=d.docVersions.get(b);Ne(E!==null,48541),x.version.compareTo(E)<0&&(p.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=xe();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function iC(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function nM(t,e){const n=he(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((h,p)=>{const g=s.get(p);if(!g)return;a.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,p)));let w=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(pt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),s=s.insert(p,w),function(x,E,_){return x.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=JV?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,w,h)&&a.push(n.Ti.updateTargetData(i,w))});let u=dr(),d=xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(rM(i,o,e.documentUpdates).next(h=>{u=h.qs,d=h.Qs})),!r.isEqual(de.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.xs=s,i))}function rM(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=dr();return n.forEach((a,u)=>{const d=i.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):te(gg,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{qs:o,Qs:s}})}function sM(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ng),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iM(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new kr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function _p(t,e,n){const r=he(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!yo(o))throw o;te(gg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Tw(t,e,n){const r=he(t);let s=de.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,h){const p=he(u),g=p.Os.get(h);return g!==void 0?W.resolve(p.xs.get(g)):p.Ti.getTargetData(d,h)}(r,o,zn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:xe())).next(a=>(oM(r,qO(e),a),{documents:a,$s:i})))}function oM(t,e,n){let r=t.Ns.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class Sw{constructor(){this.activeTargetIds=JO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aM{constructor(){this.xo=new Sw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Sw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="ConnectivityMonitor";class bw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){te(Cw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){te(Cw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=null;function Ep(){return lc===null?lc=function(){return 268435456+Math.round(2147483648*Math.random())}():lc++,"0x"+lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="RestConnection",cM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===fu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=Ep(),a=this.jo(e,n.toUriEncodedString());te(Fh,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,s,i);const{host:d}=new URL(a),h=Zm(d);return this.Jo(e,a,u,r,h).then(p=>(te(Fh,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Yi(Fh,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=cM[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class hM extends uM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Ep();return new Promise((a,u)=>{const d=new lS;d.setWithCredentials(!0),d.listenOnce(cS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case bc.NO_ERROR:const p=d.getResponseJson();te(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case bc.TIMEOUT:te(wt,`RPC '${e}' ${o} timed out`),u(new re(q.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const g=d.getStatus();if(te(wt,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const x=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(y)>=0?y:q.UNKNOWN}(b.status);u(new re(x,b.message))}else u(new re(q.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new re(q.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{h_:e,streamId:o,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{te(wt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);te(wt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}I_(e,n,r){const s=Ep(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hS(),a=dS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");te(wt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const p=o.createWebChannel(h,u);this.E_(p);let g=!1,w=!1;const b=new dM({Zo:E=>{w?te(wt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(g||(te(wt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),te(wt,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},Xo:()=>p.close()}),x=(E,_,y)=>{E.listen(_,C=>{try{y(C)}catch(k){setTimeout(()=>{throw k},0)}})};return x(p,Xo.EventType.OPEN,()=>{w||(te(wt,`RPC '${e}' stream ${s} transport opened.`),b.__())}),x(p,Xo.EventType.CLOSE,()=>{w||(w=!0,te(wt,`RPC '${e}' stream ${s} transport closed`),b.u_(),this.d_(p))}),x(p,Xo.EventType.ERROR,E=>{w||(w=!0,Yi(wt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),b.u_(new re(q.UNAVAILABLE,"The operation could not be completed")))}),x(p,Xo.EventType.MESSAGE,E=>{var _;if(!w){const y=E.data[0];Ne(!!y,16349);const C=y,k=(C==null?void 0:C.error)||((_=C[0])===null||_===void 0?void 0:_.error);if(k){te(wt,`RPC '${e}' stream ${s} received error:`,k);const O=k.status;let D=function(N){const I=Ye[N];if(I!==void 0)return qS(I)}(O),S=k.message;D===void 0&&(D=q.INTERNAL,S="Unknown error status: "+O+" with message "+k.message),w=!0,b.u_(new re(D,S)),p.close()}else te(wt,`RPC '${e}' stream ${s} received:`,y),b.c_(y)}}),x(a,uS.STAT_EVENT,E=>{E.stat===cp.PROXY?te(wt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===cp.NOPROXY&&te(wt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function zh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){return new gV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="PersistentStream";class aC{constructor(e,n,r,s,i,o,a,u){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new oC(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new re(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return te(Rw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(te(Rw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fM extends aC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=xV(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Un(o.readTime):de.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=wp(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=pp(u)?{documents:EV(i,u)}:{query:TV(i,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QS(i,o.resumeToken);const d=vp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=xu(i,o.snapshotVersion.toTimestamp());const d=vp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=CV(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=wp(this.serializer),n.removeTarget=e,this.Q_(n)}}class pM extends aC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=_V(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=wp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wV(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{}class gM extends mM{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new re(q.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,yp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(q.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,yp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(q.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class vM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ur(n),this.ua=!1):te("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class yM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{Xs(this)&&(te(Ws,"Restarting streams for network reachability change."),await async function(u){const d=he(u);d.da.add(4),await fl(d),d.Va.set("Unknown"),d.da.delete(4),await gd(d)}(this))})}),this.Va=new vM(r,s)}}async function gd(t){if(Xs(t))for(const e of t.Aa)await e(!0)}async function fl(t){for(const e of t.Aa)await e(!1)}function lC(t,e){const n=he(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),wg(n)?xg(n):xo(n).N_()&&yg(n,e))}function vg(t,e){const n=he(t),r=xo(n);n.Ea.delete(e),r.N_()&&cC(n,e),n.Ea.size===0&&(r.N_()?r.k_():Xs(n)&&n.Va.set("Unknown"))}function yg(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(t).Z_(e)}function cC(t,e){t.ma.Ke(e),xo(t).X_(e)}function xg(t){t.ma=new hV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),xo(t).start(),t.Va.ca()}function wg(t){return Xs(t)&&!xo(t).O_()&&t.Ea.size>0}function Xs(t){return he(t).da.size===0}function uC(t){t.ma=void 0}async function xM(t){t.Va.set("Online")}async function wM(t){t.Ea.forEach((e,n)=>{yg(t,e)})}async function _M(t,e){uC(t),wg(t)?(t.Va.Pa(e),xg(t)):t.Va.set("Unknown")}async function EM(t,e,n){if(t.Va.set("Online"),e instanceof GS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ea.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ea.delete(a),s.ma.removeTarget(a))}(t,e)}catch(r){te(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _u(t,r)}else if(e instanceof Ac?t.ma.Xe(e):e instanceof KS?t.ma.ot(e):t.ma.nt(e),!n.isEqual(de.min()))try{const r=await iC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.ma.It(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ea.get(d);h&&i.Ea.set(d,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{const h=i.Ea.get(u);if(!h)return;i.Ea.set(u,h.withResumeToken(pt.EMPTY_BYTE_STRING,h.snapshotVersion)),cC(i,u);const p=new kr(h.target,u,d,h.sequenceNumber);yg(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(Ws,"Failed to raise snapshot:",r),await _u(t,r)}}async function _u(t,e,n){if(!yo(e))throw e;t.da.add(1),await fl(t),t.Va.set("Offline"),n||(n=()=>iC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(Ws,"Retrying IndexedDB access"),await n(),t.da.delete(1),await gd(t)})}function dC(t,e){return e().catch(n=>_u(t,n,e))}async function vd(t){const e=he(t),n=es(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ng;for(;TM(e);)try{const s=await sM(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,SM(e,s)}catch(s){await _u(e,s)}hC(e)&&fC(e)}function TM(t){return Xs(t)&&t.Ia.length<10}function SM(t,e){t.Ia.push(e);const n=es(t);n.N_()&&n.ea&&n.ta(e.mutations)}function hC(t){return Xs(t)&&!es(t).O_()&&t.Ia.length>0}function fC(t){es(t).start()}async function CM(t){es(t).ia()}async function bM(t){const e=es(t);for(const n of t.Ia)e.ta(n.mutations)}async function RM(t,e,n){const r=t.Ia.shift(),s=ug.from(r,e,n);await dC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vd(t)}async function NM(t,e){e&&es(t).ea&&await async function(r,s){if(function(o){return uV(o)&&o!==q.ABORTED}(s.code)){const i=r.Ia.shift();es(r).L_(),await dC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await vd(r)}}(t,e),hC(t)&&fC(t)}async function Nw(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),te(Ws,"RemoteStore received new credentials");const r=Xs(n);n.da.add(3),await fl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await gd(n)}async function IM(t,e){const n=he(t);e?(n.da.delete(2),await gd(n)):e||(n.da.add(2),await fl(n),n.Va.set("Unknown"))}function xo(t){return t.fa||(t.fa=function(n,r,s){const i=he(n);return i.oa(),new fM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:xM.bind(null,t),n_:wM.bind(null,t),i_:_M.bind(null,t),Y_:EM.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),wg(t)?xg(t):t.Va.set("Unknown")):(await t.fa.stop(),uC(t))})),t.fa}function es(t){return t.ga||(t.ga=function(n,r,s){const i=he(n);return i.oa(),new pM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:CM.bind(null,t),i_:NM.bind(null,t),na:bM.bind(null,t),ra:RM.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await vd(t)):(await t.ga.stop(),t.Ia.length>0&&(te(Ws,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new _g(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(t,e){if(ur("AsyncQueue",`${e}: ${t}`),yo(t))return new re(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{static emptySet(e){return new Oi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Jo(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.pa=new He(ie.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):oe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class to{constructor(e,n,r,s,i,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new to(e,n,Oi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class PM{constructor(){this.queries=Aw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=Aw(),i.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new re(q.ABORTED,"Firestore shutting down"))}}function Aw(){return new Ys(t=>DS(t),ud)}async function pC(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new AM,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Eg(o,`Initialization of query '${li(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&Tg(n)}async function mC(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kM(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Ma(s)&&(r=!0);o.ba=s}}r&&Tg(n)}function jM(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Tg(t){t.Ca.forEach(e=>{e.next()})}var Tp,Pw;(Pw=Tp||(Tp={})).xa="default",Pw.Cache="cache";class gC{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new to(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.key=e}}class yC{constructor(e){this.key=e}}class DM{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xe(),this.mutatedKeys=xe(),this.Za=OS(e),this.Xa=new Oi(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new Iw,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const g=s.get(h),w=dd(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let E=!1;g&&w?g.data.isEqual(w.data)?b!==x&&(r.track({type:3,doc:w}),E=!0):this.ru(g,w)||(r.track({type:2,doc:w}),E=!0,(u&&this.Za(w,u)>0||d&&this.Za(w,d)<0)&&(a=!0)):!g&&w?(r.track({type:0,doc:w}),E=!0):g&&!w&&(r.track({type:1,doc:g}),E=!0,(u||d)&&(a=!0)),E&&(w?(o=o.add(w),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Xa:o,nu:r,Cs:a,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,p)=>function(w,b){const x=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Vt:E})}};return x(w)-x(b)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),s=s!=null&&s;const a=n&&!s?this.su():[],u=this.Ya.size===0&&this.current&&!s?1:0,d=u!==this.Ja;return this.Ja=u,o.length!==0||d?{snapshot:new to(this.query,e.Xa,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Iw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=xe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new yC(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new vC(r))}),n}au(e){this.Ha=e.$s,this.Ya=xe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return to.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Sg="SyncEngine";class OM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VM{constructor(e){this.key=e,this.cu=!1}}class MM{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Ys(a=>DS(a),ud),this.Pu=new Map,this.Tu=new Set,this.Iu=new He(ie.comparator),this.Eu=new Map,this.du=new fg,this.Au={},this.Ru=new Map,this.Vu=eo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function LM(t,e,n=!0){const r=SC(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await xC(r,e,n,!0),s}async function FM(t,e){const n=SC(t);await xC(n,e,!0,!1)}async function xC(t,e,n,r){const s=await iM(t.localStore,zn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await zM(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&lC(t.remoteStore,s),a}async function zM(t,e,n,r,s){t.fu=(p,g,w)=>async function(x,E,_,y){let C=E.view.tu(_);C.Cs&&(C=await Tw(x.localStore,E.query,!1).then(({documents:S})=>E.view.tu(S,C)));const k=y&&y.targetChanges.get(E.targetId),O=y&&y.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(C,x.isPrimaryClient,k,O);return jw(x,E.targetId,D.ou),D.snapshot}(t,p,g,w);const i=await Tw(t.localStore,e,!0),o=new DM(e,i.$s),a=o.tu(i.documents),u=hl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,u);jw(t,n,d.ou);const h=new OM(e,n,o);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function UM(t,e,n){const r=he(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!ud(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _p(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&vg(r.remoteStore,s.targetId),Sp(r,s.targetId)}).catch(vo)):(Sp(r,s.targetId),await _p(r.localStore,s.targetId,!0))}async function $M(t,e){const n=he(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vg(n.remoteStore,r.targetId))}async function BM(t,e,n){const r=YM(t);try{const s=await function(o,a){const u=he(o),d=Ke.now(),h=a.reduce((w,b)=>w.add(b.key),xe());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let b=dr(),x=xe();return u.Bs.getEntries(w,h).next(E=>{b=E,b.forEach((_,y)=>{y.isValidDocument()||(x=x.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,b)).next(E=>{p=E;const _=[];for(const y of a){const C=iV(y,p.get(y.key).overlayedDocument);C!=null&&_.push(new us(y.key,C,bS(C.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(w,d,_,a)}).next(E=>{g=E;const _=E.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(w,E.batchId,_)})}).then(()=>({batchId:g.batchId,changes:MS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let d=o.Au[o.currentUser.toKey()];d||(d=new He(ge)),d=d.insert(a,u),o.Au[o.currentUser.toKey()]=d}(r,s.batchId,n),await pl(r,s.changes),await vd(r.remoteStore)}catch(s){const i=Eg(s,"Failed to persist write");n.reject(i)}}async function wC(t,e){const n=he(t);try{const r=await nM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?Ne(o.cu,14607):s.removedDocuments.size>0&&(Ne(o.cu,42227),o.cu=!1))}),await pl(n,r,e)}catch(r){await vo(r)}}function kw(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,o)=>{const a=o.view.Fa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=he(o);u.onlineState=a;let d=!1;u.queries.forEach((h,p)=>{for(const g of p.Sa)g.Fa(a)&&(d=!0)}),d&&Tg(u)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HM(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new He(ie.comparator);o=o.insert(i,Tt.newNoDocument(i,de.min()));const a=xe().add(i),u=new pd(de.min(),new Map,new He(ge),o,a);await wC(r,u),r.Iu=r.Iu.remove(i),r.Eu.delete(e),Cg(r)}else await _p(r.localStore,e,!1).then(()=>Sp(r,e,n)).catch(vo)}async function WM(t,e){const n=he(t),r=e.batch.batchId;try{const s=await tM(n.localStore,e);EC(n,r,null),_C(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pl(n,s)}catch(s){await vo(s)}}async function qM(t,e,n){const r=he(t);try{const s=await function(o,a){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,a).next(p=>(Ne(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(r.localStore,e);EC(r,e,n),_C(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pl(r,s)}catch(s){await vo(s)}}function _C(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function EC(t,e,n){const r=he(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Sp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||TC(t,r)})}function TC(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(vg(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Cg(t))}function jw(t,e,n){for(const r of n)r instanceof vC?(t.du.addReference(r.key,e),KM(t,r)):r instanceof yC?(te(Sg,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||TC(t,r.key)):oe(19791,{pu:r})}function KM(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(te(Sg,"New document in limbo: "+n),t.Tu.add(r),Cg(t))}function Cg(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new ie(Ve.fromString(e)),r=t.Vu.next();t.Eu.set(r,new VM(n)),t.Iu=t.Iu.insert(n,r),lC(t.remoteStore,new kr(zn(ag(n.path)),r,"TargetPurposeLimboResolution",ad.le))}}async function pl(t,e,n){const r=he(t),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{o.push(r.fu(u,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){s.push(d);const p=mg.Rs(u.targetId,d);i.push(p)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(u,d){const h=he(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>W.forEach(d,g=>W.forEach(g.ds,w=>h.persistence.referenceDelegate.addReference(p,g.targetId,w)).next(()=>W.forEach(g.As,w=>h.persistence.referenceDelegate.removeReference(p,g.targetId,w)))))}catch(p){if(!yo(p))throw p;te(gg,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const w=h.xs.get(g),b=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(b);h.xs=h.xs.insert(g,x)}}}(r.localStore,i))}async function GM(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){te(Sg,"User change. New user:",e.toKey());const r=await sC(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(a=>{a.forEach(u=>{u.reject(new re(q.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pl(n,r.ks)}}function QM(t,e){const n=he(t),r=n.Eu.get(e);if(r&&r.cu)return xe().add(r.key);{let s=xe();const i=n.Pu.get(e);if(!i)return s;for(const o of i){const a=n.hu.get(o);s=s.unionWith(a.view.eu)}return s}}function SC(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HM.bind(null,e),e.lu.Y_=kM.bind(null,e.eventManager),e.lu.gu=jM.bind(null,e.eventManager),e}function YM(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qM.bind(null,e),e}class Eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return eM(this.persistence,new XV,e.initialUser,this.serializer)}Su(e){return new rC(pg.fi,this.serializer)}bu(e){return new aM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eu.provider={build:()=>new Eu};class XM extends Eu{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ne(this.persistence.referenceDelegate instanceof wu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VV(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new rC(r=>wu.fi(r,n),this.serializer)}}class Cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GM.bind(null,this.syncEngine),await IM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PM}()}createDatastore(e){const n=md(e.databaseInfo.databaseId),r=function(i){return new hM(i)}(e.databaseInfo);return function(i,o,a,u){return new gM(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new yM(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>kw(this.syncEngine,n,0),function(){return bw.C()?new bw:new lM}())}createSyncEngine(e,n){return function(s,i,o,a,u,d,h){const p=new MM(s,i,o,a,u,d);return h&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);te(Ws,"RemoteStore shutting down."),i.da.add(5),await fl(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cp.provider={build:()=>new Cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class JM{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=_t.UNAUTHENTICATED,this.clientId=gS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te(ts,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(ts,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Eg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uh(t,e){t.asyncQueue.verifyOperationInProgress(),te(ts,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZM(t);te(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Nw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Nw(e.remoteStore,s)),t._onlineComponents=e}async function ZM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(ts,"Using user provided OfflineComponentProvider");try{await Uh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Yi("Error using user provided cache. Falling back to memory cache: "+n),await Uh(t,new Eu)}}else te(ts,"Using default OfflineComponentProvider"),await Uh(t,new XM(void 0));return t._offlineComponents}async function bC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(ts,"Using user provided OnlineComponentProvider"),await Dw(t,t._uninitializedComponentsProvider._online)):(te(ts,"Using default OnlineComponentProvider"),await Dw(t,new Cp))),t._onlineComponents}function eL(t){return bC(t).then(e=>e.syncEngine)}async function RC(t){const e=await bC(t),n=e.eventManager;return n.onListen=LM.bind(null,e.syncEngine),n.onUnlisten=UM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$M.bind(null,e.syncEngine),n}function tL(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,d){const h=new CC({next:g=>{h.xu(),o.enqueueAndForget(()=>mC(i,p));const w=g.docs.has(a);!w&&g.fromCache?d.reject(new re(q.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&u&&u.source==="server"?d.reject(new re(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new gC(ag(a.path),h,{includeMetadataChanges:!0,Qa:!0});return pC(i,p)}(await RC(t),t.asyncQueue,e,n,r)),r.promise}function nL(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,d){const h=new CC({next:g=>{h.xu(),o.enqueueAndForget(()=>mC(i,p)),g.fromCache&&u.source==="server"?d.reject(new re(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new gC(a,h,{includeMetadataChanges:!0,Qa:!0});return pC(i,p)}(await RC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t,e,n){if(!n)throw new re(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rL(t,e,n,r){if(e===!0&&r===!0)throw new re(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vw(t){if(!ie.isDocumentKey(t))throw new re(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mw(t){if(ie.isDocumentKey(t))throw new re(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yd(t);throw new re(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firestore.googleapis.com",Lw=!0;class Fw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AC,this.ssl=Lw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Lw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DV)throw new re(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new re(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new re(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new re(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dO;switch(r.type){case"firstParty":return new mO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ow.get(n);r&&(te("ComponentProvider","Removing Datastore"),Ow.delete(n),r.terminate())}(this),Promise.resolve()}}function sL(t,e,n,r={}){var s;t=hr(t,xd);const i=Zm(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;i&&(MD(`https://${u}`),UD("Firestore",!0)),o.host!==AC&&o.host!==u&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:u,ssl:i,emulatorOptions:r});if(!uu(d,a)&&(t._setSettings(d),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=_t.MOCK_USER;else{h=LD(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new re(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new _t(g)}t._authCredentials=new hO(new pS(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class Wr extends wo{constructor(e,n,r){super(e,n,ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new ie(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function zw(t,e,...n){if(t=lr(t),IC("collection","path",e),t instanceof xd){const r=Ve.fromString(e,...n);return Mw(r),new Wr(t,null,r)}{if(!(t instanceof $t||t instanceof Wr))throw new re(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Mw(r),new Wr(t.firestore,null,r)}}function ea(t,e,...n){if(t=lr(t),arguments.length===1&&(e=gS.newId()),IC("doc","path",e),t instanceof xd){const r=Ve.fromString(e,...n);return Vw(r),new $t(t,null,new ie(r))}{if(!(t instanceof $t||t instanceof Wr))throw new re(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Vw(r),new $t(t.firestore,t instanceof Wr?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="AsyncQueue";class $w{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new oC(this,"async_queue_retry"),this.rc=()=>{const r=zh();r&&te(Uw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=zh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=zh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new tr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!yo(e))throw e;te(Uw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ur("INTERNAL UNHANDLED ERROR: ",Bw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=_g.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&oe(47125,{cc:Bw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Bw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _o extends xd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $w,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $w(e),this._firestoreClient=void 0,await e}}}function iL(t,e){const n=X4(),r=fu,s=q4(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=OD("firestore");i&&sL(s,...i)}return s}function bg(t){if(t._terminated)throw new re(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oL(t),t._firestoreClient}function oL(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,d,h){return new AO(a,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,NC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new JM(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(pt.fromBase64String(e))}catch(n){throw new re(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new no(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=/^__.*__$/;class lL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new dl(e,this.data,n,this.fieldTransforms)}}class PC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ic:t})}}class Ag{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ag(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Tu(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(kC(this.Ic)&&aL.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class cL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||md(e)}bc(e,n,r,s=!1){return new Ag({Ic:e,methodName:n,wc:r,path:dt.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pg(t){const e=t._freezeSettings(),n=md(t._databaseId);return new cL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uL(t,e,n,r,s,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,n,s);kg("Data must be an object, but it was:",o,r);const a=jC(r,o);let u,d;if(i.merge)u=new Xt(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const g=bp(e,p,n);if(!o.contains(g))throw new re(q.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);OC(h,g)||h.push(g)}u=new Xt(h),d=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=o.fieldTransforms;return new lL(new Ot(a),u,d)}class _d extends Rg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _d}}function dL(t,e,n,r){const s=t.bc(1,e,n);kg("Data must be an object, but it was:",s,r);const i=[],o=Ot.empty();cs(r,(u,d)=>{const h=jg(e,u,n);d=lr(d);const p=s.mc(h);if(d instanceof _d)i.push(h);else{const g=ml(d,p);g!=null&&(i.push(h),o.set(h,g))}});const a=new Xt(i);return new PC(o,a,s.fieldTransforms)}function hL(t,e,n,r,s,i){const o=t.bc(1,e,n),a=[bp(e,r,n)],u=[s];if(i.length%2!=0)throw new re(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(bp(e,i[g])),u.push(i[g+1]);const d=[],h=Ot.empty();for(let g=a.length-1;g>=0;--g)if(!OC(d,a[g])){const w=a[g];let b=u[g];b=lr(b);const x=o.mc(w);if(b instanceof _d)d.push(w);else{const E=ml(b,x);E!=null&&(d.push(w),h.set(w,E))}}const p=new Xt(d);return new PC(h,p,o.fieldTransforms)}function fL(t,e,n,r=!1){return ml(n,t.bc(r?4:3,e))}function ml(t,e){if(DC(t=lr(t)))return kg("Unsupported field value:",e,t),jC(t,e);if(t instanceof Rg)return function(r,s){if(!kC(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=ml(a,s.fc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ke.fromDate(r);return{timestampValue:xu(s.serializer,i)}}if(r instanceof Ke){const i=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xu(s.serializer,i)}}if(r instanceof Ng)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof no)return{bytesValue:QS(s.serializer,r._byteString)};if(r instanceof $t){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ig)return function(o,a){return{mapValue:{fields:{[SS]:{stringValue:CS},[pu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.gc("VectorValues must only contain numeric values.");return lg(a.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${yd(r)}`)}(t,e)}function jC(t,e){const n={};return yS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(t,(r,s)=>{const i=ml(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function DC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Ng||t instanceof no||t instanceof $t||t instanceof Rg||t instanceof Ig)}function kg(t,e,n){if(!DC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=yd(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function bp(t,e,n){if((e=lr(e))instanceof wd)return e._internalPath;if(typeof e=="string")return jg(t,e);throw Tu("Field path arguments must be of type string or ",t,!1,void 0,n)}const pL=new RegExp("[~\\*/\\[\\]]");function jg(t,e,n){if(e.search(pL)>=0)throw Tu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wd(...e.split("."))._internalPath}catch{throw Tu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new re(q.INVALID_ARGUMENT,a+t+u)}function OC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mL extends VC{data(){return super.data()}}function Dg(t,e){return typeof e=="string"?jg(t,e):e instanceof wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class vL extends Og{}function Er(t,e,...n){let r=[];e instanceof Og&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Vg).length,a=i.filter(u=>u instanceof Ed).length;if(o>1||o>0&&a>0)throw new re(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ed extends vL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ed(e,n,r)}_apply(e){const n=this._parse(e);return MC(e._query,n),new wo(e.firestore,e.converter,mp(e._query,n))}_parse(e){const n=Pg(e.firestore);return function(i,o,a,u,d,h,p){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new re(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ww(p,h);const b=[];for(const x of p)b.push(Hw(u,i,x));g={arrayValue:{values:b}}}else g=Hw(u,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ww(p,h),g=fL(a,o,p,h==="in"||h==="not-in");return Ze.create(d,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tr(t,e,n){const r=e,s=Dg("where",t);return Ed._create(s,r,n)}class Vg extends Og{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)MC(o,u),o=mp(o,u)}(e._query,n),new wo(e.firestore,e.converter,mp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Hw(t,e,n){if(typeof(n=lr(n))=="string"){if(n==="")throw new re(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jS(e)&&n.indexOf("/")!==-1)throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!ie.isDocumentKey(r))throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sw(t,new ie(r))}if(n instanceof $t)return sw(t,n._key);throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yd(n)}.`)}function Ww(t,e){if(!Array.isArray(t)||t.length===0)throw new re(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yL{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[pu].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ge(o.doubleValue));return new Ig(i)}convertGeoPoint(e){return new Ng(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Ne(tC(r),9688,{name:e});const s=new Ha(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||ur(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LC extends VC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pc extends LC{data(e={}){return super.data(e)}}class wL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ta(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pc(this._firestore,this._userDataWriter,r.key,r,new ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Pc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ta(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Pc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ta(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:_L(a.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _L(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){t=hr(t,$t);const e=hr(t.firestore,_o);return tL(bg(e),t._key).then(n=>EL(e,t,n))}class FC extends yL{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function pn(t){t=hr(t,wo);const e=hr(t.firestore,_o),n=bg(e),r=new FC(e);return gL(t._query),nL(n,t._query).then(s=>new wL(e,r,t,s))}function Kw(t,e,n,...r){t=hr(t,$t);const s=hr(t.firestore,_o),i=Pg(s);let o;return o=typeof(e=lr(e))=="string"||e instanceof wd?hL(i,"updateDoc",t._key,e,n,r):dL(i,"updateDoc",t._key,e),Mg(s,[o.toMutation(t._key,_n.exists(!0))])}function Gw(t){return Mg(hr(t.firestore,_o),[new cg(t._key,_n.none())])}function Qw(t,e){const n=hr(t.firestore,_o),r=ea(t),s=xL(t.converter,e);return Mg(n,[uL(Pg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function Mg(t,e){return function(r,s){const i=new tr;return r.asyncQueue.enqueueAndForget(async()=>BM(await eL(r),s,i)),i.promise}(bg(t),e)}function EL(t,e,n){const r=n.docs.get(e._key),s=new FC(t);return new LC(t,s,e._key,r,new ta(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){go=s})(Y4),du(new Fa("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new _o(new fO(r.getProvider("auth-internal")),new gO(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new re(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Di(qx,Kx,e),Di(qx,Kx,"esm2017")})();class Vi{static setMachineId(e){this.machineId=e%1024}static generateId(){let e=Date.now();if(e<this.lastTimestamp)throw new Error("Clock moved backwards");return e===this.lastTimestamp?(this.sequence=(this.sequence+1)%4096,this.sequence===0&&(e=this.waitNextMillis(this.lastTimestamp))):this.sequence=0,this.lastTimestamp=e,e-16409952e5<<22|this.machineId<<12|this.sequence}static waitNextMillis(e){let n=Date.now();for(;n<=e;)n=Date.now();return n}}sn(Vi,"sequence",0),sn(Vi,"lastTimestamp",0),sn(Vi,"machineId",1);class TL{constructor(){sn(this,"config");sn(this,"currentIndex",0);sn(this,"urlStats",new Map);sn(this,"FAILURE_THRESHOLD",3);sn(this,"RESET_TIMEOUT",3e5);this.config={baseUrls:this.getApiBaseUrls(),timeout:3e4,apiKey:this.getApiKey()},this.initializeUrlStats(),this.validateConfig()}getApiBaseUrls(){return"https://trip-advisor-scraping-api.vercel.app,https://trip-advisor-craping-api-2-git-main-fabiodagostinos-projects.vercel.app,https://trip-advisor-craping-api-3.vercel.app,https://trip-advisor-craping-api-4.vercel.app,https://trip-advisor-craping-api-5.vercel.app,https://trip-advisor-craping-api-6.vercel.app,https://trip-advisor-craping-api-7.vercel.app,https://trip-advisor-craping-api-8.vercel.app,https://trip-advisor-craping-api-9.vercel.app".split(",").map(n=>n.trim())}initializeUrlStats(){this.config.baseUrls.forEach(e=>{this.urlStats.set(e,{failures:0,lastFailure:0,successCount:0,totalRequests:0})})}getApiKey(){return"w7c9i4l9TMv9Q2dzGLFGdjkkV0t3uMOk"||""}validateConfig(){this.config.apiKey||console.error("❌ API Key mancante. Configura VITE_SCRAPING_API_KEY nel tuo .env")}getHeaders(){const e={"Content-Type":"application/json"};return this.config.apiKey&&(e["X-API-Key"]=this.config.apiKey),e}getNextAvailableUrl(){const e=Date.now();let n=0;for(this.urlStats.forEach((r,s)=>{r.failures>0&&e-r.lastFailure>this.RESET_TIMEOUT&&(r.failures=0)});n<this.config.baseUrls.length;){const r=this.config.baseUrls[this.currentIndex%this.config.baseUrls.length];this.currentIndex++;const s=this.urlStats.get(r);if(!s||s.failures<this.FAILURE_THRESHOLD)return r;n++}return this.urlStats.forEach(r=>{r.failures=0}),this.config.baseUrls[0]}markUrlFailed(e,n){const r=this.urlStats.get(e);r&&(r.failures++,r.lastFailure=Date.now(),r.totalRequests++)}markUrlSuccess(e){const n=this.urlStats.get(e);n&&(n.failures=0,n.successCount++,n.totalRequests++)}async healthCheck(){const e=[];for(const n of this.config.baseUrls)try{const r=await fetch(`${n}/api/health`,{method:"GET",headers:this.getHeaders(),signal:AbortSignal.timeout(5e3)});if(!r.ok)throw new Error(`${r.status} ${r.statusText}`);const s=await r.json();e.push(s)}catch(r){console.error(`❌ ${n}: ${r}`),e.push({status:"unhealthy",timestamp:new Date().toISOString(),uptime:0,version:"unknown",services:{scraping:"down",external_apis:"down"}})}return e}async scrapeRestaurant(e){if(!e.url||!e.url.includes("tripadvisor"))throw new Error("URL TripAdvisor richiesto");if(!this.config.apiKey)throw new Error("API Key mancante. Configurare VITE_SCRAPING_API_KEY");let n=null,r=0;const s=this.config.baseUrls.length;for(;r<s;){const i=this.getNextAvailableUrl();if(!i)throw new Error("Nessun endpoint disponibile");try{r++;const o=await fetch(`${i}/api/scrape`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(e),signal:AbortSignal.timeout(this.config.timeout)});if(!o.ok){let u=`HTTP ${o.status}`;try{u=(await o.json()).error||u}catch(d){console.error("❌ Failed to parse error response:",d)}throw new Error(u)}const a=await o.json();if(!a.success||!a.data)throw new Error(a.error||"Errore durante lo scraping");return this.markUrlSuccess(i),a.data}catch(o){const a=o instanceof Error?o.message:"Errore sconosciuto";console.error(`❌ Errore con ${i}:`,a),this.markUrlFailed(i,a),n=o instanceof Error?o:new Error(a),r<s&&await new Promise(u=>setTimeout(u,1e3))}}throw console.error("❌ Tutti gli endpoints hanno fallito"),this.logStats(),n?n.name==="TimeoutError"||n.message.includes("timeout")?new Error("Lo scraping ha impiegato troppo tempo. Riprova o inserisci i dati manualmente."):n.message.includes("401")||n.message.includes("Unauthorized")?new Error("Errore di autenticazione. Verifica la configurazione dell'API key."):n.message.includes("403")||n.message.includes("Forbidden")?new Error("Accesso negato. Verifica le autorizzazioni dell'API."):n:new Error("Tutti gli endpoints di scraping non sono disponibili. Riprova più tardi.")}async testApi(){const e=await this.healthCheck(),n=this.config.baseUrls.map((s,i)=>{var o;return{url:s,status:((o=e[i])==null?void 0:o.status)||"unknown"}});return{working:n.filter(s=>s.status==="healthy").length,total:this.config.baseUrls.length,details:n}}getStats(){return Array.from(this.urlStats.entries()).map(([e,n])=>({url:e,stats:{...n}}))}logStats(){this.urlStats.forEach((e,n)=>{e.totalRequests>0&&(e.successCount/e.totalRequests*100).toFixed(1)})}async testAuthentication(){try{if(!this.config.apiKey)return{success:!1,message:"API Key mancante. Configura VITE_SCRAPING_API_KEY nel file .env",details:null};const e=await this.testApi();return e.working>0?{success:!0,message:`${e.working}/${e.total} endpoints funzionanti`,details:e.details}:{success:!1,message:"Nessun endpoint disponibile",details:e.details}}catch(e){return{success:!1,message:`Errore di connessione: ${e instanceof Error?e.message:"Errore sconosciuto"}`,details:null}}}getApiInfo(){return{baseUrls:this.config.baseUrls,totalEndpoints:this.config.baseUrls.length,timeout:this.config.timeout,environment:"production",hasApiKey:!!this.config.apiKey,configSource:"multiple-urls",stats:this.getStats()}}resetStats(){this.urlStats.forEach(e=>{e.failures=0,e.lastFailure=0,e.successCount=0,e.totalRequests=0})}updateConfig(e){this.config={...this.config,...e},e.baseUrls&&this.initializeUrlStats()}}const SL=new TL,$h={apiKey:"AIzaSyAFbqkAtEvQroMp1zGYvfjIPOYXWTZSBmg",authDomain:"rotiniel-35c5b.firebaseapp.com",projectId:"rotiniel-35c5b",storageBucket:"rotiniel-35c5b.firebasestorage.app",messagingSenderId:"546264380520",appId:"1:546264380520:web:7034e18e1211898418f7dd"};function Wt(t){return t?t instanceof Date?t:t instanceof Ke||typeof t.toDate=="function"?t.toDate():new Date:new Date}function CL(){if(!$h.apiKey||!$h.projectId)throw new Se("Configurazione Firebase incompleta. Verificare le variabili d'ambiente VITE_FIREBASE_*.","FIREBASE_CONFIG_ERROR");if(!J4().length)try{sS($h)}catch(e){throw new Se("Errore nell'inizializzazione di Firebase","FIREBASE_INIT_ERROR",e)}return Vi.setMachineId(100),iL()}class Se extends Error{constructor(e,n,r){super(e),this.code=n,this.originalError=r,this.name="RestaurantServiceError"}getUserFriendlyMessage(){switch(this.code){case"FIREBASE_CONFIG_ERROR":return"Errore di configurazione del database. Contatta il supporto tecnico.";case"DUPLICATE_RESTAURANT":return"Esiste già un ristorante con questo nome. Scegli un nome diverso o verifica se il ristorante è già presente.";case"FIREBASE_INIT_ERROR":return"Impossibile connettersi al database. Riprova tra qualche minuto.";case"FETCH_ERROR":return"Problemi di connessione. Riprova tra qualche minuto.";case"VALIDATION_ERROR":return"I dati inseriti non sono corretti. Controlla i campi evidenziati.";case"INVALID_URL":return"L'URL di TripAdvisor non è valido. Assicurati di copiare il link completo.";case"EXTRACTION_ERROR":return"Impossibile estrarre i dati da TripAdvisor. L'URL potrebbe non essere accessibile.";case"PAST_DATE":return"Non puoi prenotare per una data già passata.";case"INVALID_ID":case"INVALID_RESTAURANT_ID":case"INVALID_BOOKING_ID":return"ID non valido. Ricarica la pagina e riprova.";case"NOT_FOUND":return"Elemento non trovato.";case"DELETE_ERROR":return"Impossibile eliminare l'elemento. Riprova.";default:return this.message}}}class qt{static validateTripAdvisorUrl(e){try{const n=new URL(e);return n.hostname.includes("tripadvisor.com")||n.hostname.includes("tripadvisor.it")||n.hostname.includes("tripadvisor.")}catch{return!1}}static validateRestaurantData(e){const n=[];return(!e.name||e.name.trim().length<2)&&n.push("Il nome del ristorante deve avere almeno 2 caratteri"),e.name&&e.name.length>100&&n.push("Il nome del ristorante non può superare i 100 caratteri"),(!e.tripadvisorUrl||!this.validateTripAdvisorUrl(e.tripadvisorUrl))&&n.push("URL TripAdvisor non valido"),(!e.cuisines||e.cuisines.length===0)&&n.push("Almeno un tipo di cucina è obbligatorio"),e.priceRange||n.push("Fascia di prezzo obbligatoria"),["€","€€","€€€","€€€€"].includes(e.priceRange||"")||n.push("Fascia di prezzo non valida"),(!e.location||e.location.trim().length<2)&&n.push("Posizione obbligatoria"),e.location&&e.location.length>200&&n.push("La posizione non può superare i 200 caratteri"),e.phone&&!/^[\d\s\-\+\(\)]+$/.test(e.phone)&&n.push("Numero di telefono non valido"),e.rating&&!this.validateRating(e.rating)&&n.push("Rating non valido (deve essere tra 1.0 e 5.0)"),n}static validateBookingData(e){const n=[];if(e.restaurantId||n.push("ID ristorante non valido"),!e.date)n.push("Data prenotazione obbligatoria");else{const r=new Date(e.date),s=new Date;s.setHours(0,0,0,0),r<s&&n.push("Non è possibile prenotare per una data passata")}return e.time?this.validateTime(e.time)||n.push("Formato orario non valido (usa HH:MM)"):n.push("Orario prenotazione obbligatorio"),e.notes&&e.notes.length>500&&n.push("Le note non possono superare i 500 caratteri"),n}static validateRating(e){const n=parseFloat(e);return!isNaN(n)&&n>=1&&n<=5}static validateTime(e){return/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e)}static validateId(e){return Number.isInteger(e)}}class bL{constructor(){sn(this,"db");sn(this,"restaurantsRef");sn(this,"bookingsRef");try{this.db=CL(),this.restaurantsRef=zw(this.db,"restaurants"),this.bookingsRef=zw(this.db,"bookings")}catch(e){throw e instanceof Se?e:new Se("Errore nell'inizializzazione del servizio","SERVICE_INIT_ERROR",e)}}async getAllRestaurants(){try{return(await pn(this.restaurantsRef)).docs.map(n=>{const r=n.data();return{id:r.id||parseInt(n.id),...r,createdAt:Wt(r.createdAt)}})}catch(e){throw new Se("Errore nel recupero dei ristoranti","FETCH_ERROR",e)}}async checkDuplicateRestaurant(e){try{const n=e.trim().toLowerCase(),r=Er(this.restaurantsRef,Tr("name","==",e.trim()));return(await pn(r)).empty?(await pn(this.restaurantsRef)).docs.some(a=>{var d;return((d=a.data().name)==null?void 0:d.trim().toLowerCase())===n}):!0}catch(n){return console.warn("⚠️ Errore controllo duplicati:",n),!1}}async getRestaurant(e){if(!qt.validateId(e))throw new Se("ID ristorante non valido","INVALID_RESTAURANT_ID");try{const n=Er(this.restaurantsRef,Tr("id","==",e)),r=await pn(n);if(r.empty)return;const i=r.docs[0].data();return{id:e,...i,createdAt:Wt(i.createdAt)}}catch(n){throw new Se(`Errore nel recupero del ristorante ${e}`,"FETCH_ERROR",n)}}async createRestaurant(e){const n=qt.validateRestaurantData(e);if(n.length>0)throw new Se(`Dati non validi: ${n.join(", ")}`,"VALIDATION_ERROR");if(await this.checkDuplicateRestaurant(e.name))throw new Se(`Un ristorante con il nome "${e.name}" esiste già nel database.`,"DUPLICATE_RESTAURANT");try{const s=Vi.generateId(),i={...e,id:s,isApproved:!0,createdAt:Ke.now()},o=Object.fromEntries(Object.entries(i).filter(([a,u])=>u!==void 0));return await Qw(this.restaurantsRef,o),{...o,createdAt:Wt(o.createdAt)}}catch(s){throw new Se("Errore nella creazione del ristorante","CREATE_ERROR",s)}}async updateRestaurant(e,n){if(!qt.validateId(e))throw new Se("ID ristorante non valido","INVALID_RESTAURANT_ID");try{const r=Er(this.restaurantsRef,Tr("id","==",e)),s=await pn(r);if(s.empty)return;const i=s.docs[0],o=ea(this.db,"restaurants",i.id);await Kw(o,n);const u=(await qw(o)).data();return{id:e,...u,createdAt:Wt(u==null?void 0:u.createdAt)}}catch(r){throw new Se(`Errore nell'aggiornamento del ristorante ${e}`,"UPDATE_ERROR",r)}}async deleteRestaurant(e){if(!qt.validateId(e))throw new Se("ID ristorante non valido","INVALID_RESTAURANT_ID");try{const n=Er(this.restaurantsRef,Tr("id","==",e)),r=await pn(n);if(r.empty)return!1;const s=r.docs[0],i=ea(this.db,"restaurants",s.id);return await Gw(i),!0}catch(n){throw new Se(`Errore nell'eliminazione del ristorante ${e}`,"DELETE_ERROR",n)}}async extractRestaurantData(e){if(!qt.validateTripAdvisorUrl(e))throw new Se("URL TripAdvisor non valido","INVALID_URL");try{var n={url:e},r=await SL.scrapeRestaurant(n),s={extracted:r};return s}catch(i){throw console.error("❌ Errore nell'estrazione:",i),new Se("Impossibile estrarre i dati del ristorante. Verifica l'URL.","EXTRACTION_ERROR",i)}}async getAllBookings(){try{return(await pn(this.bookingsRef)).docs.map(n=>{const r=n.data();return{id:r.id||parseInt(n.id),...r,date:Wt(r.date),createdAt:Wt(r.createdAt)}})}catch(e){throw new Se("Errore nel recupero delle prenotazioni","FETCH_ERROR",e)}}async getBookingsByRestaurant(e){if(!qt.validateId(e))throw new Se("ID ristorante non valido","INVALID_RESTAURANT_ID");try{const n=Er(this.bookingsRef,Tr("restaurantId","==",e));return(await pn(n)).docs.map(s=>{const i=s.data();return{id:i.id||parseInt(s.id),...i,date:Wt(i.date),createdAt:Wt(i.createdAt)}})}catch(n){throw new Se(`Errore nel recupero delle prenotazioni per il ristorante ${e}`,"FETCH_ERROR",n)}}async getBooking(e){if(!qt.validateId(e))throw new Se("ID prenotazione non valido","INVALID_BOOKING_ID");try{const n=Er(this.bookingsRef,Tr("id","==",e)),r=await pn(n);if(r.empty)throw new Se(`Prenotazione ${e} non trovata`,"NOT_FOUND");const i=r.docs[0].data();return{id:e,...i,date:Wt(i.date),createdAt:Wt(i.createdAt)}}catch(n){throw n instanceof Se?n:new Se(`Errore nel recupero della prenotazione ${e}`,"FETCH_ERROR",n)}}async createBooking(e){const n=qt.validateBookingData(e);if(n.length>0)throw new Se(`Dati prenotazione non validi: ${n.join(", ")}`,"VALIDATION_ERROR");try{const r=Vi.generateId(),s={...e,id:r,createdAt:Ke.now()},i=Object.fromEntries(Object.entries(s).filter(([o,a])=>a!==void 0));return await Qw(this.bookingsRef,i),{...i,createdAt:Wt(i.createdAt)}}catch(r){throw new Se("Errore nella creazione della prenotazione","CREATE_ERROR",r)}}async updateBooking(e,n){if(!qt.validateId(e))throw new Se("ID prenotazione non valido","INVALID_BOOKING_ID");try{const r=Er(this.bookingsRef,Tr("id","==",e)),s=await pn(r);if(s.empty)throw new Se(`Prenotazione ${e} non trovata`,"NOT_FOUND");const i=s.docs[0],o=ea(this.db,"bookings",i.id);await Kw(o,n);const u=(await qw(o)).data();return{id:e,...u,date:Wt(u.date),createdAt:Wt(u.createdAt)}}catch(r){throw r instanceof Se?r:new Se(`Errore nell'aggiornamento della prenotazione ${e}`,"UPDATE_ERROR",r)}}async deleteBooking(e){if(!qt.validateId(e))throw new Se("ID prenotazione non valido","INVALID_BOOKING_ID");try{const n=Er(this.bookingsRef,Tr("id","==",e)),r=await pn(n);if(r.empty)return!1;const s=r.docs[0],i=ea(this.db,"bookings",s.id);return await Gw(i),!0}catch(n){throw new Se(`Errore nell'eliminazione della prenotazione ${e}`,"DELETE_ERROR",n)}}}let Bh=null;const RL=()=>(Bh||(Bh=new bL),Bh),Js=()=>{const t=RL();return{getAllRestaurants:()=>t.getAllRestaurants(),getRestaurant:e=>t.getRestaurant(e),createRestaurant:e=>t.createRestaurant(e),updateRestaurant:(e,n)=>t.updateRestaurant(e,n),deleteRestaurant:e=>t.deleteRestaurant(e),extractRestaurantData:e=>t.extractRestaurantData(e),getAllBookings:()=>t.getAllBookings(),getBookingsByRestaurant:e=>t.getBookingsByRestaurant(e),getBooking:e=>t.getBooking(e),createBooking:e=>t.createBooking(e),updateBooking:(e,n)=>t.updateBooking(e,n),deleteBooking:e=>t.deleteBooking(e),validateRestaurantData:qt.validateRestaurantData,validateBookingData:qt.validateBookingData,validateTripAdvisorUrl:qt.validateTripAdvisorUrl,service:t}},Jt=t=>t instanceof Se?t.getUserFriendlyMessage():t instanceof Error?t.message:"Si è verificato un errore imprevisto. Riprova tra qualche minuto.",Vt=(t,e)=>{console.error(`[RestaurantService] ${t}:`,e),e instanceof Se&&(console.error(`- Code: ${e.code}`),console.error("- Original Error:",e.originalError))},Td=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!1),[s,i]=m.useState(null),{getAllRestaurants:o,updateRestaurant:a}=Js();m.useEffect(()=>{(async()=>{try{r(!0),i(null);const x=await o();if(x){const E=x.filter(_=>_.favorite===!0).map(_=>_.id);e(E)}}catch(x){const E=Jt(x);i(E),Vt("Caricamento favoriti",x)}finally{r(!1)}})()},[]);const u=m.useCallback(async(b,x)=>{try{r(!0),i(null),await a(b,{favorite:x}),e(E=>x?E.includes(b)?E:[...E,b]:E.filter(_=>_!==b))}catch(E){const _=Jt(E);throw i(_),Vt("Aggiornamento favorito",E),E}finally{r(!1)}},[a]),d=m.useCallback(async b=>{t.includes(b)||await u(b,!0)},[t,u]),h=m.useCallback(async b=>{t.includes(b)&&await u(b,!1)},[t,u]),p=m.useCallback(async b=>{const x=t.includes(b);await u(b,!x)},[t,u]),g=m.useCallback(b=>t.includes(b),[t]),w=m.useCallback(async()=>{try{r(!0),i(null);const E=(await o()).filter(_=>_.favorite===!0).map(_=>a(_.id,{favorite:!1}));await Promise.all(E),e([])}catch(b){const x=Jt(b);throw i(x),Vt("Cancellazione favoriti",b),b}finally{r(!1)}},[o,a]);return{favorites:t,addFavorite:d,removeFavorite:h,toggleFavorite:p,isFavorite:g,clearFavorites:w,isLoading:n,error:s}},zC=[{value:"italiana",label:"Italiana"},{value:"mediterranea",label:"Mediterranea"},{value:"pesce",label:"Pesce"},{value:"barbecue",label:"Barbecue"},{value:"steakhouse",label:"Steakhouse"},{value:"pugliese",label:"Pugliese"}],UC=t=>{const e=zC.find(n=>n.value===t);return e?e.label:t.charAt(0).toUpperCase()+t.slice(1)},NL=t=>{if(!t)return[];if(Array.isArray(t))return t;if(typeof t=="string")try{const e=JSON.parse(t);return Array.isArray(e)?e:[t]}catch{return[t]}return[]};function IL(t){if(!t)return!1;try{const e=new URL(t),n=["tripadvisor.com","unsplash.com","images.unsplash.com"],r=[".jpg",".jpeg",".png",".webp"],s=n.some(o=>e.hostname.includes(o)),i=r.some(o=>e.pathname.toLowerCase().includes(o));return s&&(i||e.hostname.includes("tripadvisor.com"))}catch{return!1}}function AL(t){const e={pugliese:"https://images.unsplash.com/photo-1551218808-94e220e084d2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=300",italiana:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=300",pesce:"https://images.unsplash.com/photo-1544943151-6e4ed999de46?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=300",mediterranea:"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=300",barbecue:"https://images.unsplash.com/photo-1551218808-94e220e084d2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=300",steakhouse:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=300"};return e[t]||e.italiana}function Su(t){var n={pugliese:"bg-[hsl(var(--forest-green))]/10 text-[hsl(var(--forest-green))]",italiana:"bg-[hsl(var(--olive-drab))]/10 text-[hsl(var(--olive-drab))]",pesce:"bg-blue-100 text-blue-700",barbecue:"bg-red-100 text-red-700",steakhouse:"bg-gray-100 text-gray-700",mediterranea:"bg-[hsl(var(--terracotta))]/10 text-[hsl(var(--terracotta))]"}[t];return n}const $C=({restaurant:t,onViewDetails:e})=>{const{isFavorite:n,toggleFavorite:r}=Td(),s=m.useCallback(async g=>{g.stopPropagation();try{await r(t.id)}catch(w){console.error("Errore nel toggle favorito:",w)}},[t.id,r]),i=n(t.id),[o,a]=m.useState(t.imageUrl&&IL(t.imageUrl)?t.imageUrl:AL(t.cuisines[0])),[u,d]=m.useState(!1),h=g=>{const w=parseFloat(g),b=Math.floor(w),x=w%1>=.5;return c.jsx("div",{className:"flex text-[hsl(var(--goldenrod))]",children:[...Array(5)].map((E,_)=>c.jsx(Qt,{className:`w-4 h-4 ${_<b?"fill-current":_===b&&x?"fill-current opacity-50":""}`},_))})},p=Array.isArray(t.cuisines)?t.cuisines:[t.cuisines];return c.jsxs(ze,{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:t.imageUrl||void 0,alt:t.name,className:"w-full h-48 object-cover"}),c.jsx(ue,{variant:"ghost",size:"icon",className:`absolute top-2 right-2 ${i?"text-[hsl(var(--tomato))] hover:text-red-600":"text-gray-400 hover:text-[hsl(var(--tomato))]"} bg-white/80 hover:bg-white/90`,onClick:s,children:c.jsx(Ur,{className:`w-5 h-5 ${i?"fill-current":""}`})})]}),c.jsxs(Ue,{className:"p-6",children:[c.jsx("div",{className:"flex justify-between items-start mb-2",children:c.jsx("h3",{className:"text-xl font-display font-semibold text-[hsl(var(--dark-slate))]",children:t.name})}),c.jsxs("div",{className:"flex items-center mb-3",children:[h(t.rating),c.jsx("span",{className:"text-[hsl(var(--dark-slate))] font-medium ml-2",children:t.rating}),c.jsx("span",{className:"text-[hsl(var(--dark-slate))]/50 mx-2",children:"•"}),c.jsx("span",{className:"text-[hsl(var(--terracotta))] font-medium",children:t.priceRange})]}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 mb-3 line-clamp-2",children:t.description}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[p.slice(0,3).map((g,w)=>c.jsx(Is,{className:Su(g),children:UC(g)},w)),p.length>3&&c.jsxs(Is,{className:"bg-gray-100 text-gray-700",children:["+",p.length-3]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center text-[hsl(var(--dark-slate))]/60 text-sm",children:[c.jsx(Ms,{className:"w-4 h-4 mr-1"}),c.jsx("span",{children:t.location})]}),c.jsx(ue,{className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))] transition-colors text-sm font-medium",onClick:()=>e(t),children:"Dettagli"})]})]})]})},Cu=Qm,PL=uT,kL=Ym,BC=m.forwardRef(({className:t,...e},n)=>c.jsx(ll,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));BC.displayName=ll.displayName;const Ga=m.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(kL,{children:[c.jsx(BC,{}),c.jsxs(cl,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(dT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(ol,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ga.displayName=cl.displayName;const Qa=({className:t,...e})=>c.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Qa.displayName="DialogHeader";const Ya=m.forwardRef(({className:t,...e},n)=>c.jsx(nd,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",t),...e}));Ya.displayName=nd.displayName;const jL=m.forwardRef(({className:t,...e},n)=>c.jsx(rd,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));jL.displayName=rd.displayName;var DL="Label",HC=m.forwardRef((t,e)=>c.jsx(ce.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HC.displayName=DL;var WC=HC;const OL=lo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xe=m.forwardRef(({className:t,...e},n)=>c.jsx(WC,{ref:n,className:ae(OL(),t),...e}));Xe.displayName=WC.displayName;const Sd=m.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Sd.displayName="Textarea";var Hh;const VL=({restaurant:t,isOpen:e,onClose:n})=>{const[r,s]=m.useState({date:"",time:"",notes:""}),{toast:i}=Bu(),o=()=>{s({date:"",time:"",notes:""})},{createBooking:a}=Js(),u=async p=>{var E;if(Hh=!0,p.preventDefault(),!t||!r.date||!r.time){i({title:"Informazioni Mancanti",description:"Per favore compila tutti i campi obbligatori.",variant:"destructive"});return}const g=new Date(r.date),w=new Date;if(w.setHours(0,0,0,0),g<w){i({title:"Data Non Valida",description:"Non puoi prenotare per una data passata.",variant:"destructive"});return}const b={restaurantId:Number(t.id),date:new Date(r.date+"T00:00:00.000Z"),time:r.time.trim(),notes:((E=r.notes)==null?void 0:E.trim())||void 0};try{var x=await a(b);x&&(i({title:"Prenotazione Aggiunta",description:"La prenotazione è stata aggiunta"}),d())}catch{}finally{Hh=!1}},d=()=>{n(),o()};if(!t)return null;const h=["12:00","12:30","13:00","13:30","14:00","14:30","19:00","19:30","20:00","20:30","21:00","21:30"];return c.jsx(Cu,{open:e,onOpenChange:d,children:c.jsxs(Ga,{className:"max-w-md",children:[c.jsx(Qa,{children:c.jsxs(Ya,{className:"text-xl font-display font-bold text-[hsl(var(--dark-slate))] flex items-center",children:[c.jsx(An,{className:"w-5 h-5 text-[hsl(var(--terracotta))] mr-2"}),"Marca prenotazione per ",t.name]})}),c.jsxs("form",{onSubmit:u,className:"space-y-4",children:[c.jsxs("div",{className:"bg-[hsl(var(--warm-beige))] p-3 rounded-lg",children:[c.jsx("h4",{className:"font-semibold text-[hsl(var(--dark-slate))]",children:t.name}),c.jsx("p",{className:"text-sm text-[hsl(var(--dark-slate))]/70",children:t.location}),c.jsxs("p",{className:"text-sm text-[hsl(var(--terracotta))]",children:[t.priceRange," • ",t.cuisines.join(", ")]})]}),c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"booking-date",className:"text-[hsl(var(--dark-slate))] font-medium",children:"Data della Prenotazione *"}),c.jsx(Nt,{id:"booking-date",type:"date",value:r.date,onChange:p=>s(g=>({...g,date:p.target.value})),min:new Date().toISOString().split("T")[0],required:!0,className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"booking-time",className:"text-[hsl(var(--dark-slate))] font-medium",children:"Orario *"}),c.jsxs("div",{className:"mt-1 space-y-2",children:[c.jsx(Nt,{id:"booking-time",type:"time",value:r.time,onChange:p=>s(g=>({...g,time:p.target.value})),required:!0}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-[hsl(var(--dark-slate))]/60 mb-1",children:"Orari suggeriti:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:h.map(p=>c.jsx(ue,{type:"button",variant:"outline",size:"sm",onClick:()=>s(g=>({...g,time:p})),className:"text-xs h-7 px-2 text-[hsl(var(--terracotta))] hover:bg-[hsl(var(--terracotta))]/10",children:p},p))})]})]})]}),c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"booking-notes",className:"text-[hsl(var(--dark-slate))] font-medium",children:"Note Aggiuntive"}),c.jsx(Sd,{id:"booking-notes",placeholder:"Numero di persone, richieste speciali, allergie, etc...",value:r.notes,onChange:p=>s(g=>({...g,notes:p.target.value})),className:"mt-1 min-h-[80px]"})]}),c.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(il,{className:"w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium",children:"Nota Importante"}),c.jsx("p",{children:"Questa è una prenotazione indicativa. Ti consigliamo di contattare il ristorante per confermare la disponibilità."}),t.phone&&c.jsxs("p",{className:"mt-1",children:["Tel: ",c.jsx("span",{className:"font-medium",children:t.phone})]})]})]})}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx(ue,{type:"button",variant:"outline",onClick:d,className:"flex-1",children:"Annulla"}),c.jsx(ue,{type:"submit",className:"flex-1 bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:Hh?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Prenotando..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Va,{className:"w-4 h-4 mr-2"}),"Marca come Prenotata"]})})]})]})]})})},Lg=({restaurant:t,isOpen:e,onClose:n,onBookVisit:r,onDelete:s,allowDelete:i=!0})=>{var O;const{favorites:o,toggleFavorite:a}=Td(),[u,d]=m.useState(!1),[h,p]=m.useState(!1),g=()=>{d(!0)},w=()=>{d(!1),n()},b=m.useCallback(async()=>{if(t&&window.confirm(`Sei sicuro di voler eliminare "${t.name}"?`)){p(!0);try{s&&s(t.id),n()}catch(D){console.error("Errore nell'eliminazione del ristorante:",D)}finally{p(!1)}}},[t,s,n]);if(!t)return null;const x=o.includes(t.id),E=()=>{a(t.id)},_=()=>{if(t.latitude&&t.longitude){const D=`https://www.google.com/maps/dir/?api=1&destination=${t.latitude},${t.longitude}`;window.open(D,"_blank")}},y=D=>{const S=parseFloat(D),T=Math.floor(S),N=S%1>=.5;return c.jsx("div",{className:"flex text-[hsl(var(--goldenrod))]",children:[...Array(5)].map((I,P)=>c.jsx(Qt,{className:`w-4 h-4 ${P<T?"fill-current":P===T&&N?"fill-current opacity-50":""}`},P))})},C=D=>{if(!D)return null;const S=Math.floor(D),T=D%1>=.5;return c.jsx("div",{className:"flex text-[hsl(var(--terracotta))]",children:[...Array(5)].map((N,I)=>c.jsx(Qt,{className:`w-4 h-4 ${I<S?"fill-current":I===S&&T?"fill-current opacity-50":"text-gray-300"}`},I))})},k=t.locationUser||t.qualitàPrezzoUser||t.mediaPrezzo;return c.jsxs(c.Fragment,{children:[c.jsx(Cu,{open:e,onOpenChange:n,children:c.jsxs(Ga,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(Qa,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Ya,{className:"text-2xl font-display font-bold text-[hsl(var(--dark-slate))] mb-2",children:t.name}),k&&c.jsxs(Is,{className:"bg-[hsl(var(--terracotta))]/10 text-[hsl(var(--terracotta))] border-[hsl(var(--terracotta))]/20",children:[c.jsx(ux,{className:"w-3 h-3 mr-1"}),"Valutato dalla community"]})]}),i&&c.jsx(ue,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-red-600 hover:bg-red-50",onClick:b,disabled:h,title:"Elimina ristorante",children:c.jsx(Am,{className:`w-5 h-5 ${h?"animate-pulse":""}`})})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx("img",{src:t.imageUrl||"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400",alt:t.name,className:"w-full h-64 object-cover rounded-lg"}),c.jsx("img",{src:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400",alt:"Chef preparing food",className:"w-full h-64 object-cover rounded-lg"})]}),k&&c.jsxs("div",{className:"bg-gradient-to-r from-[hsl(var(--terracotta))]/5 to-[hsl(var(--saddle))]/5 rounded-lg p-6 border border-[hsl(var(--terracotta))]/20",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(nu,{className:"w-5 h-5 text-[hsl(var(--terracotta))] mr-2"}),c.jsx("h4",{className:"text-lg font-semibold text-[hsl(var(--dark-slate))]",children:"Valutazioni della Community"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.locationUser&&c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center mb-2",children:[c.jsx(Ms,{className:"w-5 h-5 text-[hsl(var(--terracotta))] mr-2"}),c.jsx("span",{className:"font-medium text-[hsl(var(--dark-slate))]",children:"Posizione"})]}),c.jsx("div",{className:"flex justify-center mb-1",children:C(t.locationUser)}),c.jsx("div",{className:"text-2xl font-bold text-[hsl(var(--terracotta))] mb-1",children:t.locationUser.toFixed(1)}),c.jsx("div",{className:"text-xs text-gray-600",children:"Accessibilità, parcheggio, zona"})]}),t.qualitàPrezzoUser&&c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center mb-2",children:[c.jsx(Qt,{className:"w-5 h-5 text-[hsl(var(--terracotta))] mr-2"}),c.jsx("span",{className:"font-medium text-[hsl(var(--dark-slate))]",children:"Qualità/Prezzo"})]}),c.jsx("div",{className:"flex justify-center mb-1",children:C(t.qualitàPrezzoUser)}),c.jsx("div",{className:"text-2xl font-bold text-[hsl(var(--terracotta))] mb-1",children:t.qualitàPrezzoUser.toFixed(1)}),c.jsx("div",{className:"text-xs text-gray-600",children:"Rapporto qualità vs prezzo"})]}),t.mediaPrezzo&&c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center mb-2",children:[c.jsx(Wf,{className:"w-5 h-5 text-[hsl(var(--terracotta))] mr-2"}),c.jsx("span",{className:"font-medium text-[hsl(var(--dark-slate))]",children:"Prezzo Medio"})]}),c.jsxs("div",{className:"text-2xl font-bold text-[hsl(var(--terracotta))] mb-1",children:["€",t.mediaPrezzo.toFixed(2)]}),c.jsx("div",{className:"text-xs text-gray-600",children:"Per persona (secondo la community)"})]})]}),c.jsx("div",{className:"mt-4 text-center",children:c.jsx("p",{className:"text-xs text-gray-600 italic",children:"Valutazioni basate sull'esperienza della community di utenti"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-[hsl(var(--dark-slate))] mb-4",children:"Dettaglio"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 mb-4",children:t.description||"Experience authentic cuisine in a warm, family-friendly atmosphere. Our restaurant has been serving traditional recipes using only the finest local ingredients."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ms,{className:"w-5 h-5 text-[hsl(var(--terracotta))] mr-3"}),c.jsx("span",{className:"text-[hsl(var(--dark-slate))]",children:t.address||t.location})]}),t.phone&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(gP,{className:"w-5 h-5 text-[hsl(var(--terracotta))] mr-3"}),c.jsx("span",{className:"text-[hsl(var(--dark-slate))]",children:t.phone})]}),t.hours&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(il,{className:"w-5 h-5 text-[hsl(var(--terracotta))] mr-3"}),c.jsx("span",{className:"text-[hsl(var(--dark-slate))]",children:t.hours})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(oP,{className:"w-5 h-5 text-[hsl(var(--terracotta))] mr-3"}),c.jsx("span",{className:"text-[hsl(var(--dark-slate))]",children:t.priceRange}),t.mediaPrezzo&&c.jsxs("span",{className:"text-[hsl(var(--dark-slate))]/60 ml-2",children:["(Media: €",t.mediaPrezzo.toFixed(2),")"]})]}),c.jsxs("div",{className:"flex items-center",children:[y(t.rating),c.jsx("span",{className:"ml-2 text-[hsl(var(--dark-slate))] font-medium",children:t.rating}),c.jsx("span",{className:"text-[hsl(var(--dark-slate))]/50 ml-2",children:"TripAdvisor"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-[hsl(var(--dark-slate))] mb-4",children:"Cucine e Specialità"}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:((O=t.cuisines)==null?void 0:O.map((D,S)=>c.jsx(Is,{className:Su(D),children:D.charAt(0).toUpperCase()+D.slice(1)},`${D}-${S}`)))||c.jsx(Is,{className:"bg-gray-100 text-gray-600",children:"Cucina non specificata"})}),k&&c.jsxs("div",{className:"bg-white border border-[hsl(var(--terracotta))]/20 rounded-lg p-4",children:[c.jsxs("h5",{className:"font-medium text-[hsl(var(--dark-slate))] mb-3 flex items-center",children:[c.jsx(ux,{className:"w-4 h-4 mr-2 text-[hsl(var(--terracotta))]"}),"Highlights Community"]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[t.locationUser&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-[hsl(var(--dark-slate))]/70",children:"Posizione"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium text-[hsl(var(--terracotta))] mr-1",children:t.locationUser.toFixed(1)}),c.jsx(Qt,{className:"w-3 h-3 text-[hsl(var(--terracotta))]"})]})]}),t.qualitàPrezzoUser&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-[hsl(var(--dark-slate))]/70",children:"Qualità/Prezzo"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium text-[hsl(var(--terracotta))] mr-1",children:t.qualitàPrezzoUser.toFixed(1)}),c.jsx(Qt,{className:"w-3 h-3 text-[hsl(var(--terracotta))]"})]})]}),t.mediaPrezzo&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-[hsl(var(--dark-slate))]/70",children:"Prezzo Tipico"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Wf,{className:"w-3 h-3 text-[hsl(var(--terracotta))] mr-1"}),c.jsx("span",{className:"font-medium text-[hsl(var(--terracotta))]",children:t.mediaPrezzo.toFixed(2)})]})]})]})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t",children:[c.jsxs(ue,{className:"flex-1 bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))] transition-colors font-medium",onClick:g,children:[c.jsx(An,{className:"w-4 h-4 mr-2"}),"Prenota"]}),c.jsxs(ue,{variant:"outline",className:"flex-1 border-[hsl(var(--terracotta))] text-[hsl(var(--terracotta))] hover:bg-[hsl(var(--terracotta))]/10 transition-colors font-medium",onClick:_,children:[c.jsx(uP,{className:"w-4 h-4 mr-2"}),"Ottieni Indicazioni"]}),c.jsx(ue,{variant:"outline",className:`border-gray-300 hover:bg-gray-50 transition-colors font-medium ${x?"text-[hsl(var(--tomato))]":"text-[hsl(var(--dark-slate))]"}`,onClick:E,children:c.jsx(Ur,{className:`w-4 h-4 mr-2 ${x?"fill-current":""}`})})]})]})]})}),c.jsx(VL,{restaurant:t,isOpen:u,onClose:w})]})},ML=({restaurants:t,onRestaurantClick:e,className:n=""})=>{const r=m.useRef(null),s=m.useRef(null),i=m.useRef([]);m.useEffect(()=>{if(window.L)o();else{const u=document.createElement("link");u.rel="stylesheet",u.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(u);const d=document.createElement("script");d.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",d.onload=o,document.head.appendChild(d)}return()=>{s.current&&(s.current.remove(),s.current=null)}},[]),m.useEffect(()=>{s.current&&a()},[t]);const o=()=>{!r.current||s.current||(s.current=window.L.map(r.current).setView([40.2,18.2],10),window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(s.current),a())},a=()=>{!s.current||!window.L||(i.current.forEach(u=>{s.current.removeLayer(u)}),i.current=[],t.forEach(u=>{if(u.latitude&&u.longitude){const d=parseFloat(u.latitude),h=parseFloat(u.longitude),p=window.L.marker([d,h]).addTo(s.current),g=`
          <div class="p-2">
            <h3 class="font-semibold text-lg mb-1">${u.name}</h3>
            <p class="text-sm text-gray-600 mb-2">${u.location}</p>
            <div class="flex items-center mb-2">
              <span class="text-yellow-500 mr-1">★</span>
              <span class="mr-2">${u.rating}</span>
              <span class="text-orange-600 font-medium">${u.priceRange}</span>
            </div>
            <button 
              onclick="window.openRestaurantFromMap?.(${u.id})"
              class="bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700 transition-colors"
            >
              Dettagli
            </button>
          </div>
        `;p.bindPopup(g),i.current.push(p),p.on("click",()=>{e==null||e(u)})}}),window.openRestaurantFromMap=u=>{const d=t.find(h=>h.id===u);d&&e&&e(d)})};return c.jsx("div",{ref:r,className:`h-96 rounded-xl ${n}`})};var Cd="Popover",[qC,e3]=os(Cd,[fo]),gl=fo(),[LL,ds]=qC(Cd),KC=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=gl(e),u=m.useRef(null),[d,h]=m.useState(!1),[p,g]=Wi({prop:r,defaultProp:s??!1,onChange:i,caller:Cd});return c.jsx(A1,{...a,children:c.jsx(LL,{scope:e,contentId:Ut(),triggerRef:u,open:p,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(w=>!w),[g]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>h(!0),[]),onCustomAnchorRemove:m.useCallback(()=>h(!1),[]),modal:o,children:n})})};KC.displayName=Cd;var GC="PopoverAnchor",FL=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ds(GC,n),i=gl(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return m.useEffect(()=>(o(),()=>a()),[o,a]),c.jsx(Qu,{...i,...r,ref:e})});FL.displayName=GC;var QC="PopoverTrigger",YC=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ds(QC,n),i=gl(n),o=Ae(e,s.triggerRef),a=c.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tb(s.open),...r,ref:o,onClick:le(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:c.jsx(Qu,{asChild:!0,...i,children:a})});YC.displayName=QC;var Fg="PopoverPortal",[zL,UL]=qC(Fg,{forceMount:void 0}),XC=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=ds(Fg,e);return c.jsx(zL,{scope:e,forceMount:n,children:c.jsx(pr,{present:n||i.open,children:c.jsx(rl,{asChild:!0,container:s,children:r})})})};XC.displayName=Fg;var ro="PopoverContent",JC=m.forwardRef((t,e)=>{const n=UL(ro,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=ds(ro,t.__scopePopover);return c.jsx(pr,{present:r||i.open,children:i.modal?c.jsx(BL,{...s,ref:e}):c.jsx(HL,{...s,ref:e})})});JC.displayName=ro;var $L=Vs("PopoverContent.RemoveScroll"),BL=m.forwardRef((t,e)=>{const n=ds(ro,t.__scopePopover),r=m.useRef(null),s=Ae(e,r),i=m.useRef(!1);return m.useEffect(()=>{const o=r.current;if(o)return Wm(o)},[]),c.jsx(ed,{as:$L,allowPinchZoom:!0,children:c.jsx(ZC,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:le(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0,d=a.button===2||u;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:le(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),HL=m.forwardRef((t,e)=>{const n=ds(ro,t.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return c.jsx(ZC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ZC=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,...p}=t,g=ds(ro,n),w=gl(n);return Hm(),c.jsx(Ju,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(ao,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>g.onOpenChange(!1),children:c.jsx(Um,{"data-state":tb(g.open),role:"dialog",id:g.contentId,...w,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),eb="PopoverClose",WL=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ds(eb,n);return c.jsx(ce.button,{type:"button",...r,ref:e,onClick:le(t.onClick,()=>s.onOpenChange(!1))})});WL.displayName=eb;var qL="PopoverArrow",KL=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=gl(n);return c.jsx($m,{...s,...r,ref:e})});KL.displayName=qL;function tb(t){return t?"open":"closed"}var GL=KC,QL=YC,YL=XC,nb=JC;const XL=GL,JL=QL,rb=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>c.jsx(YL,{children:c.jsx(nb,{ref:s,align:e,sideOffset:n,className:ae("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));rb.displayName=nb.displayName;var Yw=1,ZL=.9,e6=.8,t6=.17,Wh=.1,qh=.999,n6=.9999,r6=.99,s6=/[\\\/_+.#"@\[\(\{&]/,i6=/[\\\/_+.#"@\[\(\{&]/g,o6=/[\s-]/,sb=/[\s-]/g;function Rp(t,e,n,r,s,i,o){if(i===e.length)return s===t.length?Yw:r6;var a=`${s},${i}`;if(o[a]!==void 0)return o[a];for(var u=r.charAt(i),d=n.indexOf(u,s),h=0,p,g,w,b;d>=0;)p=Rp(t,e,n,r,d+1,i+1,o),p>h&&(d===s?p*=Yw:s6.test(t.charAt(d-1))?(p*=e6,w=t.slice(s,d-1).match(i6),w&&s>0&&(p*=Math.pow(qh,w.length))):o6.test(t.charAt(d-1))?(p*=ZL,b=t.slice(s,d-1).match(sb),b&&s>0&&(p*=Math.pow(qh,b.length))):(p*=t6,s>0&&(p*=Math.pow(qh,d-s))),t.charAt(d)!==e.charAt(i)&&(p*=n6)),(p<Wh&&n.charAt(d-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(d-1)!==r.charAt(i))&&(g=Rp(t,e,n,r,d+1,i+2,o),g*Wh>p&&(p=g*Wh)),p>h&&(h=p),d=n.indexOf(u,d+1);return o[a]=h,h}function Xw(t){return t.toLowerCase().replace(sb," ")}function a6(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Rp(t,e,Xw(t),Xw(e),0,0,{})}var Wo='[cmdk-group=""]',Kh='[cmdk-group-items=""]',l6='[cmdk-group-heading=""]',ib='[cmdk-item=""]',Jw=`${ib}:not([aria-disabled="true"])`,Np="cmdk-item-select",di="data-value",c6=(t,e,n)=>a6(t,e,n),ob=m.createContext(void 0),vl=()=>m.useContext(ob),ab=m.createContext(void 0),zg=()=>m.useContext(ab),lb=m.createContext(void 0),cb=m.forwardRef((t,e)=>{let n=hi(()=>{var U,J;return{search:"",value:(J=(U=t.value)!=null?U:t.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=hi(()=>new Set),s=hi(()=>new Map),i=hi(()=>new Map),o=hi(()=>new Set),a=ub(t),{label:u,children:d,value:h,onValueChange:p,filter:g,shouldFilter:w,loop:b,disablePointerSelection:x=!1,vimBindings:E=!0,..._}=t,y=Ut(),C=Ut(),k=Ut(),O=m.useRef(null),D=w6();qs(()=>{if(h!==void 0){let U=h.trim();n.current.value=U,S.emit()}},[h]),qs(()=>{D(6,A)},[]);let S=m.useMemo(()=>({subscribe:U=>(o.current.add(U),()=>o.current.delete(U)),snapshot:()=>n.current,setState:(U,J,H)=>{var B,ee,Y,fe;if(!Object.is(n.current[U],J)){if(n.current[U]=J,U==="search")j(),I(),D(1,P);else if(U==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let we=document.getElementById(k);we?we.focus():(B=document.getElementById(y))==null||B.focus()}if(D(7,()=>{var we;n.current.selectedItemId=(we=L())==null?void 0:we.id,S.emit()}),H||D(5,A),((ee=a.current)==null?void 0:ee.value)!==void 0){let we=J??"";(fe=(Y=a.current).onValueChange)==null||fe.call(Y,we);return}}S.emit()}},emit:()=>{o.current.forEach(U=>U())}}),[]),T=m.useMemo(()=>({value:(U,J,H)=>{var B;J!==((B=i.current.get(U))==null?void 0:B.value)&&(i.current.set(U,{value:J,keywords:H}),n.current.filtered.items.set(U,N(J,H)),D(2,()=>{I(),S.emit()}))},item:(U,J)=>(r.current.add(U),J&&(s.current.has(J)?s.current.get(J).add(U):s.current.set(J,new Set([U]))),D(3,()=>{j(),I(),n.current.value||P(),S.emit()}),()=>{i.current.delete(U),r.current.delete(U),n.current.filtered.items.delete(U);let H=L();D(4,()=>{j(),(H==null?void 0:H.getAttribute("id"))===U&&P(),S.emit()})}),group:U=>(s.current.has(U)||s.current.set(U,new Set),()=>{i.current.delete(U),s.current.delete(U)}),filter:()=>a.current.shouldFilter,label:u||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:y,inputId:k,labelId:C,listInnerRef:O}),[]);function N(U,J){var H,B;let ee=(B=(H=a.current)==null?void 0:H.filter)!=null?B:c6;return U?ee(U,n.current.search,J):0}function I(){if(!n.current.search||a.current.shouldFilter===!1)return;let U=n.current.filtered.items,J=[];n.current.filtered.groups.forEach(B=>{let ee=s.current.get(B),Y=0;ee.forEach(fe=>{let we=U.get(fe);Y=Math.max(we,Y)}),J.push([B,Y])});let H=O.current;G().sort((B,ee)=>{var Y,fe;let we=B.getAttribute("id"),ye=ee.getAttribute("id");return((Y=U.get(ye))!=null?Y:0)-((fe=U.get(we))!=null?fe:0)}).forEach(B=>{let ee=B.closest(Kh);ee?ee.appendChild(B.parentElement===ee?B:B.closest(`${Kh} > *`)):H.appendChild(B.parentElement===H?B:B.closest(`${Kh} > *`))}),J.sort((B,ee)=>ee[1]-B[1]).forEach(B=>{var ee;let Y=(ee=O.current)==null?void 0:ee.querySelector(`${Wo}[${di}="${encodeURIComponent(B[0])}"]`);Y==null||Y.parentElement.appendChild(Y)})}function P(){let U=G().find(H=>H.getAttribute("aria-disabled")!=="true"),J=U==null?void 0:U.getAttribute(di);S.setState("value",J||void 0)}function j(){var U,J,H,B;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ee=0;for(let Y of r.current){let fe=(J=(U=i.current.get(Y))==null?void 0:U.value)!=null?J:"",we=(B=(H=i.current.get(Y))==null?void 0:H.keywords)!=null?B:[],ye=N(fe,we);n.current.filtered.items.set(Y,ye),ye>0&&ee++}for(let[Y,fe]of s.current)for(let we of fe)if(n.current.filtered.items.get(we)>0){n.current.filtered.groups.add(Y);break}n.current.filtered.count=ee}function A(){var U,J,H;let B=L();B&&(((U=B.parentElement)==null?void 0:U.firstChild)===B&&((H=(J=B.closest(Wo))==null?void 0:J.querySelector(l6))==null||H.scrollIntoView({block:"nearest"})),B.scrollIntoView({block:"nearest"}))}function L(){var U;return(U=O.current)==null?void 0:U.querySelector(`${ib}[aria-selected="true"]`)}function G(){var U;return Array.from(((U=O.current)==null?void 0:U.querySelectorAll(Jw))||[])}function Q(U){let J=G()[U];J&&S.setState("value",J.getAttribute(di))}function z(U){var J;let H=L(),B=G(),ee=B.findIndex(fe=>fe===H),Y=B[ee+U];(J=a.current)!=null&&J.loop&&(Y=ee+U<0?B[B.length-1]:ee+U===B.length?B[0]:B[ee+U]),Y&&S.setState("value",Y.getAttribute(di))}function V(U){let J=L(),H=J==null?void 0:J.closest(Wo),B;for(;H&&!B;)H=U>0?y6(H,Wo):x6(H,Wo),B=H==null?void 0:H.querySelector(Jw);B?S.setState("value",B.getAttribute(di)):z(U)}let $=()=>Q(G().length-1),Z=U=>{U.preventDefault(),U.metaKey?$():U.altKey?V(1):z(1)},se=U=>{U.preventDefault(),U.metaKey?Q(0):U.altKey?V(-1):z(-1)};return m.createElement(ce.div,{ref:e,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:U=>{var J;(J=_.onKeyDown)==null||J.call(_,U);let H=U.nativeEvent.isComposing||U.keyCode===229;if(!(U.defaultPrevented||H))switch(U.key){case"n":case"j":{E&&U.ctrlKey&&Z(U);break}case"ArrowDown":{Z(U);break}case"p":case"k":{E&&U.ctrlKey&&se(U);break}case"ArrowUp":{se(U);break}case"Home":{U.preventDefault(),Q(0);break}case"End":{U.preventDefault(),$();break}case"Enter":{U.preventDefault();let B=L();if(B){let ee=new Event(Np);B.dispatchEvent(ee)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:E6},u),bd(t,U=>m.createElement(ab.Provider,{value:S},m.createElement(ob.Provider,{value:T},U))))}),u6=m.forwardRef((t,e)=>{var n,r;let s=Ut(),i=m.useRef(null),o=m.useContext(lb),a=vl(),u=ub(t),d=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;qs(()=>{if(!d)return a.item(s,o==null?void 0:o.id)},[d]);let h=db(s,i,[t.value,t.children,i],t.keywords),p=zg(),g=ns(D=>D.value&&D.value===h.current),w=ns(D=>d||a.filter()===!1?!0:D.search?D.filtered.items.get(s)>0:!0);m.useEffect(()=>{let D=i.current;if(!(!D||t.disabled))return D.addEventListener(Np,b),()=>D.removeEventListener(Np,b)},[w,t.onSelect,t.disabled]);function b(){var D,S;x(),(S=(D=u.current).onSelect)==null||S.call(D,h.current)}function x(){p.setState("value",h.current,!0)}if(!w)return null;let{disabled:E,value:_,onSelect:y,forceMount:C,keywords:k,...O}=t;return m.createElement(ce.div,{ref:Os(i,e),...O,id:s,"cmdk-item":"",role:"option","aria-disabled":!!E,"aria-selected":!!g,"data-disabled":!!E,"data-selected":!!g,onPointerMove:E||a.getDisablePointerSelection()?void 0:x,onClick:E?void 0:b},t.children)}),d6=m.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:s,...i}=t,o=Ut(),a=m.useRef(null),u=m.useRef(null),d=Ut(),h=vl(),p=ns(w=>s||h.filter()===!1?!0:w.search?w.filtered.groups.has(o):!0);qs(()=>h.group(o),[]),db(o,a,[t.value,t.heading,u]);let g=m.useMemo(()=>({id:o,forceMount:s}),[s]);return m.createElement(ce.div,{ref:Os(a,e),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&m.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),bd(t,w=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},m.createElement(lb.Provider,{value:g},w))))}),h6=m.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,s=m.useRef(null),i=ns(o=>!o.search);return!n&&!i?null:m.createElement(ce.div,{ref:Os(s,e),...r,"cmdk-separator":"",role:"separator"})}),f6=m.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,s=t.value!=null,i=zg(),o=ns(d=>d.search),a=ns(d=>d.selectedItemId),u=vl();return m.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),m.createElement(ce.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":a,id:u.inputId,type:"text",value:s?t.value:o,onChange:d=>{s||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),p6=m.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...s}=t,i=m.useRef(null),o=m.useRef(null),a=ns(d=>d.selectedItemId),u=vl();return m.useEffect(()=>{if(o.current&&i.current){let d=o.current,h=i.current,p,g=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let w=d.offsetHeight;h.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return g.observe(d),()=>{cancelAnimationFrame(p),g.unobserve(d)}}},[]),m.createElement(ce.div,{ref:Os(i,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:u.listId},bd(t,d=>m.createElement("div",{ref:Os(o,u.listInnerRef),"cmdk-list-sizer":""},d)))}),m6=m.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:o,...a}=t;return m.createElement(Qm,{open:n,onOpenChange:r},m.createElement(Ym,{container:o},m.createElement(ll,{"cmdk-overlay":"",className:s}),m.createElement(cl,{"aria-label":t.label,"cmdk-dialog":"",className:i},m.createElement(cb,{ref:e,...a}))))}),g6=m.forwardRef((t,e)=>ns(n=>n.filtered.count===0)?m.createElement(ce.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),v6=m.forwardRef((t,e)=>{let{progress:n,children:r,label:s="Loading...",...i}=t;return m.createElement(ce.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},bd(t,o=>m.createElement("div",{"aria-hidden":!0},o)))}),Bt=Object.assign(cb,{List:p6,Item:u6,Input:f6,Group:d6,Separator:h6,Dialog:m6,Empty:g6,Loading:v6});function y6(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function x6(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function ub(t){let e=m.useRef(t);return qs(()=>{e.current=t}),e}var qs=typeof window>"u"?m.useEffect:m.useLayoutEffect;function hi(t){let e=m.useRef();return e.current===void 0&&(e.current=t()),e}function ns(t){let e=zg(),n=()=>t(e.snapshot());return m.useSyncExternalStore(e.subscribe,n,n)}function db(t,e,n,r=[]){let s=m.useRef(),i=vl();return qs(()=>{var o;let a=(()=>{var d;for(let h of n){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(d=h.current.textContent)==null?void 0:d.trim():s.current}})(),u=r.map(d=>d.trim());i.value(t,a,u),(o=e.current)==null||o.setAttribute(di,a),s.current=a}),s}var w6=()=>{let[t,e]=m.useState(),n=hi(()=>new Map);return qs(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,s)=>{n.current.set(r,s),e({})}};function _6(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function bd({asChild:t,children:e},n){return t&&m.isValidElement(e)?m.cloneElement(_6(e),{ref:e.ref},n(e.props.children)):n(e)}var E6={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const hb=m.forwardRef(({className:t,...e},n)=>c.jsx(Bt,{ref:n,className:ae("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));hb.displayName=Bt.displayName;const fb=m.forwardRef(({className:t,...e},n)=>c.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[c.jsx(fa,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),c.jsx(Bt.Input,{ref:n,className:ae("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));fb.displayName=Bt.Input.displayName;const T6=m.forwardRef(({className:t,...e},n)=>c.jsx(Bt.List,{ref:n,className:ae("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));T6.displayName=Bt.List.displayName;const pb=m.forwardRef((t,e)=>c.jsx(Bt.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));pb.displayName=Bt.Empty.displayName;const mb=m.forwardRef(({className:t,...e},n)=>c.jsx(Bt.Group,{ref:n,className:ae("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));mb.displayName=Bt.Group.displayName;const S6=m.forwardRef(({className:t,...e},n)=>c.jsx(Bt.Separator,{ref:n,className:ae("-mx-1 h-px bg-border",t),...e}));S6.displayName=Bt.Separator.displayName;const gb=m.forwardRef(({className:t,...e},n)=>c.jsx(Bt.Item,{ref:n,className:ae("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));gb.displayName=Bt.Item.displayName;const vb=({selectedCuisines:t,onCuisinesChange:e,placeholder:n="Seleziona tipi di cucina...",className:r})=>{const[s,i]=m.useState(!1),o=d=>{t.includes(d)||e([...t,d]),i(!1)},a=d=>{e(t.filter(h=>h!==d))},u=zC.filter(d=>!t.includes(d.value));return c.jsxs("div",{className:ae("space-y-2",r),children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(d=>c.jsxs(Is,{variant:"outline",className:ae("px-3 py-1 text-sm font-medium border cursor-pointer hover:opacity-80 transition-opacity",Su(d)),onClick:()=>a(d),children:[UC(d),c.jsx(ol,{className:"w-3 h-3 ml-2"})]},d))}),c.jsxs(XL,{open:s,onOpenChange:i,children:[c.jsx(JL,{asChild:!0,children:c.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":s,className:"justify-start text-left font-normal",disabled:u.length===0,children:[c.jsx(Ns,{className:"w-4 h-4 mr-2"}),u.length===0?"Tutti i tipi di cucina selezionati":n]})}),c.jsx(rb,{className:"w-full p-0",align:"start",children:c.jsxs(hb,{children:[c.jsx(fb,{placeholder:"Cerca tipo di cucina..."}),c.jsx(pb,{children:"Nessun tipo di cucina trovato."}),c.jsx(mb,{children:u.map(d=>c.jsxs(gb,{value:d.value,onSelect:()=>o(d.value),className:"cursor-pointer",children:[c.jsx(Va,{className:"w-4 h-4 mr-2 opacity-0"}),c.jsx("span",{className:ae("px-2 py-1 rounded text-xs font-medium",Su(d.value)),children:d.label})]},d.value))})]})})]}),t.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Seleziona almeno un tipo di cucina"})]})},C6=()=>{const[t,e]=m.useState(""),[n,r]=m.useState([]),[s,i]=m.useState("all"),[o,a]=m.useState("all"),[u,d]=m.useState("grid"),[h,p]=m.useState(null),[g,w]=m.useState(!1),[b,x]=m.useState([]),[E,_]=m.useState(!0),[y,C]=m.useState(null),{getAllRestaurants:k,deleteRestaurant:O}=Js();m.useEffect(()=>{(async()=>{try{_(!0),C(null);const j=await k();x(j)}catch(j){const A=Jt(j);C(A),Vt("Caricamento ristoranti in Home",j)}finally{_(!1)}})()},[]);const D=m.useMemo(()=>b.filter(P=>{var z;const j=P.name.toLowerCase().includes(t.toLowerCase())||((z=P.description)==null?void 0:z.toLowerCase().includes(t.toLowerCase())),A=NL(P.cuisines),L=n.length===0||n.some(V=>A.includes(V)),G=s==="all"||P.priceRange===s,Q=o==="all"||parseFloat(P.rating)>=parseFloat(o);return j&&L&&G&&Q}),[b,t,n,s,o]),S=P=>{p(P),w(!0)},T=()=>{e(""),r([]),i("all"),a("all")},N=[{value:"€",label:"€ - Budget"},{value:"€€",label:"€€ - Moderate"},{value:"€€€",label:"€€€ - Expensive"},{value:"€€€€",label:"€€€€ - Fine Dining"}],I=[{value:"4.5",label:"4.5+ Stars"},{value:"4.0",label:"4.0+ Stars"},{value:"3.5",label:"3.5+ Stars"},{value:"3.0",label:"3.0+ Stars"}];return E?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[hsl(var(--terracotta))] mx-auto mb-4"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70",children:"Caricamento ristoranti..."})]})}):y?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-center max-w-md mx-auto px-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[c.jsx("div",{className:"text-red-500 mb-4",children:c.jsx(fa,{className:"w-16 h-16 mx-auto mb-4 opacity-50"})}),c.jsx("h3",{className:"text-2xl font-display font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Errore nel caricamento"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 mb-6",children:y}),c.jsx(ue,{onClick:()=>window.location.reload(),className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:"Riprova"})]})})}):c.jsx("main",{className:"min-h-screen",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"Lu mare, lu sole, lu spinning"}),c.jsx("p",{className:"text-lg text-[hsl(var(--dark-slate))]/70 max-w-2xl mx-auto",children:"Esplora i ristoranti autentici nel cuore della Puglia, dalle trattorie tradizionali alle esperienze culinarie moderne."})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[hsl(var(--dark-slate))]/50 w-5 h-5"}),c.jsx(Nt,{type:"text",placeholder:"Search restaurants...",value:t,onChange:P=>e(P.target.value),className:"pl-10 py-3 border-gray-200 focus:ring-2 focus:ring-[hsl(var(--terracotta))] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[hsl(var(--dark-slate))] mb-2",children:"Tipi di Cucina"}),c.jsx(vb,{selectedCuisines:n,onCuisinesChange:r,placeholder:"Filtra per tipo di cucina..."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[hsl(var(--dark-slate))] mb-2",children:"Fascia di Prezzo"}),c.jsxs(Gi,{value:s,onValueChange:i,children:[c.jsx($s,{className:"py-3 border-gray-200 focus:ring-2 focus:ring-[hsl(var(--terracotta))]",children:c.jsx(Qi,{placeholder:"Tutte le fasce"})}),c.jsxs(Bs,{children:[c.jsx(Zn,{value:"all",children:"Tutte le fasce"}),N.map(P=>c.jsx(Zn,{value:P.value,children:P.label},P.value))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[hsl(var(--dark-slate))] mb-2",children:"Rating Minimo"}),c.jsxs(Gi,{value:o,onValueChange:a,children:[c.jsx($s,{className:"py-3 border-gray-200 focus:ring-2 focus:ring-[hsl(var(--terracotta))]",children:c.jsx(Qi,{placeholder:"Tutti i rating"})}),c.jsxs(Bs,{children:[c.jsx(Zn,{value:"all",children:"Tutti i rating"}),I.map(P=>c.jsx(Zn,{value:P.value,children:P.label},P.value))]})]})]})]})]}),c.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(ue,{variant:u==="grid"?"default":"outline",onClick:()=>d("grid"),className:u==="grid"?"bg-[hsl(var(--terracotta))] text-white":"",children:[c.jsx(dP,{className:"w-4 h-4 mr-2"}),"Grid"]}),c.jsxs(ue,{variant:u==="map"?"default":"outline",onClick:()=>d("map"),className:u==="map"?"bg-[hsl(var(--terracotta))] text-white":"",children:[c.jsx(pP,{className:"w-4 h-4 mr-2"}),"Map"]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"text-[hsl(var(--dark-slate))]/70",children:[D.length," ristorante",D.length!==1?"i":""," trovato",D.length!==1?"i":""]}),(t||n.length>0||s!=="all"||o!=="all")&&c.jsx(ue,{variant:"outline",onClick:T,className:"text-[hsl(var(--terracotta))] border-[hsl(var(--terracotta))] hover:bg-[hsl(var(--terracotta))] hover:text-white",children:"Cancella Filtri"})]})]})]}),u==="map"&&c.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6 overflow-hidden",children:c.jsx(ML,{restaurants:D,onRestaurantClick:S})}),u==="grid"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(P=>c.jsx($C,{restaurant:P,onViewDetails:S},P.id))}),c.jsx(Lg,{restaurant:h,isOpen:g,onClose:()=>{w(!1),p(null)},allowDelete:!0,onDelete:async P=>{try{await O(P),x(j=>j.filter(A=>A.id!==P))}catch{}}}),D.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12",children:[c.jsx(fa,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-2xl font-display font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Nessun ristorante trovato"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 mb-6",children:"Prova a modificare i criteri di ricerca o i filtri"}),c.jsx(ue,{onClick:T,className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:"Cancella Filtri"})]})}),(t||n.length>0||s!=="all"||o!=="all")&&c.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Filtri Attivi:"}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[t&&c.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:['Ricerca: "',t,'"']}),n.length>0&&c.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Cucine: ",n.join(", ")]}),s!=="all"&&c.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Prezzo: ",s]}),o!=="all"&&c.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Rating: ",o,"+ stelle"]})]})]})]})})},b6=()=>{const[t,e]=m.useState(null),[n,r]=m.useState(!1),[s,i]=m.useState(null),o=m.useCallback(()=>{i(null)},[]),a=m.useCallback(()=>{if(!navigator.geolocation){i({code:0,message:"Geolocation is not supported by this browser"});return}r(!0),i(null);const u={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};navigator.geolocation.getCurrentPosition(d=>{e({latitude:d.coords.latitude,longitude:d.coords.longitude}),r(!1)},d=>{let h;switch(d.code){case d.PERMISSION_DENIED:h="Location access denied by user";break;case d.POSITION_UNAVAILABLE:h="Location information is unavailable";break;case d.TIMEOUT:h="Location request timed out";break;default:h="An unknown error occurred while retrieving location";break}i({code:d.code,message:h}),r(!1)},u)},[]);return{location:t,isLoading:n,error:s,getCurrentLocation:a,clearError:o}},R6=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[s,i]=m.useState(null),[o,a]=m.useState("pugliese"),[u,d]=m.useState("€€"),[h,p]=m.useState(null),[g,w]=m.useState(!1),{location:b,isLoading:x,error:E,getCurrentLocation:_}=b6(),{favorites:y}=Td(),{getAllRestaurants:C,deleteRestaurant:k}=Js(),O=(L,G,Q,z)=>{const $=(Q-L)*Math.PI/180,Z=(z-G)*Math.PI/180,se=Math.sin($/2)*Math.sin($/2)+Math.cos(L*Math.PI/180)*Math.cos(Q*Math.PI/180)*Math.sin(Z/2)*Math.sin(Z/2);return 6371*(2*Math.atan2(Math.sqrt(se),Math.sqrt(1-se)))};m.useEffect(()=>{(async()=>{try{r(!0),i(null);const G=await C();e(G)}catch(G){const Q=Jt(G);i(Q),Vt("Caricamento ristoranti in Recommended",G)}finally{r(!1)}})()},[]);const S=t.length?t.map(G=>{let Q=0;G.cuisines.find($=>$===o)&&(Q+=35),G.priceRange===u&&(Q+=20);const z=parseFloat(G.rating)/5*25;Q+=z,y.includes(G.id)&&(Q+=10);let V=null;if(b&&G.latitude&&G.longitude){V=O(b.latitude,b.longitude,parseFloat(G.latitude),parseFloat(G.longitude));const $=Math.max(0,10-V/2);Q+=$}return{...G,score:Q,distance:V}}).sort((G,Q)=>Q.score-G.score):[],T=S[0],N=S.slice(1,4),I=L=>L?L<1?`${Math.round(L*1e3)}m`:`${L.toFixed(1)}km`:null,P=L=>L?`${Math.round(L/5*60)} min a piedi`:null,j=[{value:"pugliese",label:"Pugliese"},{value:"italiana",label:"Italiana"},{value:"mediterranea",label:"Mediterranea"},{value:"pesce",label:"Pesce"},{value:"barbecue",label:"Barbecue"},{value:"steakhouse",label:"Steakhouse"}],A=[{value:"€",label:"€ - Economico"},{value:"€€",label:"€€ - Moderato"},{value:"€€€",label:"€€€ - Costoso"},{value:"€€€€",label:"€€€€ - Fine Dining"}];return n?c.jsx("main",{className:"min-h-screen",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"Consigliati per te"}),c.jsx("p",{className:"text-lg text-[hsl(var(--dark-slate))]/70",children:"Basato sulla tua posizione e preferenze"})]}),c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[hsl(var(--terracotta))] mx-auto mb-4"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70",children:"Caricamento dei consigli personalizzati..."})]})})]})}):s?c.jsx("main",{className:"min-h-screen",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx("h2",{className:"text-3xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"Consigliati per te"})}),c.jsx(ze,{children:c.jsxs(Ue,{className:"p-12 text-center",children:[c.jsx("div",{className:"text-red-500 mb-4",children:c.jsx(nu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"})}),c.jsx("h3",{className:"text-2xl font-display font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Errore nel caricamento"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 mb-6",children:s}),c.jsx(ue,{onClick:()=>window.location.reload(),className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:"Riprova"})]})})]})}):c.jsxs("main",{className:"min-h-screen",children:[c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"Consigliati per te"}),c.jsx("p",{className:"text-lg text-[hsl(var(--dark-slate))]/70",children:"Basato sulla tua posizione e preferenze"})]}),c.jsx(ze,{className:"mb-6",children:c.jsx(Ue,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ms,{className:"w-6 h-6 text-[hsl(var(--terracotta))] mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-[hsl(var(--dark-slate))]",children:"La tua posizione"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70",children:x?"Rilevamento posizione...":b?`Lat: ${b.latitude.toFixed(4)}, Lng: ${b.longitude.toFixed(4)}`:E?"Impossibile rilevare la posizione":"Clicca per rilevare la tua posizione"})]})]}),c.jsxs(ue,{onClick:_,disabled:x,className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:[c.jsx(xP,{className:"w-4 h-4 mr-2"}),x?"Rilevamento...":"Rileva posizione"]})]})})}),c.jsxs(ze,{className:"mb-6",children:[c.jsx(Dn,{children:c.jsx(On,{className:"text-xl font-display font-semibold text-[hsl(var(--dark-slate))]",children:"Le tue preferenze"})}),c.jsxs(Ue,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[hsl(var(--dark-slate))] mb-2",children:"Cucina preferita"}),c.jsxs(Gi,{value:o,onValueChange:a,children:[c.jsx($s,{children:c.jsx(Qi,{})}),c.jsx(Bs,{children:j.map(L=>c.jsx(Zn,{value:L.value,children:L.label},L.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[hsl(var(--dark-slate))] mb-2",children:"Fascia di prezzo"}),c.jsxs(Gi,{value:u,onValueChange:d,children:[c.jsx($s,{children:c.jsx(Qi,{})}),c.jsx(Bs,{children:A.map(L=>c.jsx(Zn,{value:L.value,children:L.label},L.value))})]})]})]}),c.jsx("div",{className:"mt-4 p-3 bg-[hsl(var(--terracotta))]/5 rounded-lg",children:c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx(nu,{className:"w-4 h-4 text-[hsl(var(--terracotta))] mr-2"}),c.jsxs("span",{className:"text-[hsl(var(--dark-slate))]/70",children:["Consigli basati su: cucina ",o,", fascia ",u,b&&", distanza dalla tua posizione",y.length>0&&`, ${y.length} preferiti`]})]})})]})]}),c.jsxs("div",{className:"space-y-6",children:[T&&c.jsxs("div",{className:"bg-gradient-to-r from-[hsl(var(--terracotta))] to-[hsl(var(--saddle))] rounded-xl text-white p-6 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 bg-[hsl(var(--goldenrod))] text-[hsl(var(--dark-slate))] px-3 py-1 rounded-bl-lg font-bold text-sm",children:"#1 SCELTA"}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[c.jsx("img",{src:T.imageUrl||"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=150",alt:T.name,className:"w-full md:w-48 h-32 object-cover rounded-lg mb-4 md:mb-0 md:mr-6"}),c.jsxs("div",{className:"flex-1 text-center md:text-left",children:[c.jsx("h3",{className:"text-2xl font-display font-bold mb-2",children:T.name}),c.jsxs("p",{className:"mb-3 opacity-90",children:["Perfetta corrispondenza per gli amanti della cucina ",o,T.distance&&` • Solo ${I(T.distance)} di distanza`,y.includes(T.id)&&" • ❤️ Nei tuoi preferiti"]}),c.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-4 mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qt,{className:"w-4 h-4 text-[hsl(var(--goldenrod))] mr-1 fill-current"}),c.jsx("span",{children:T.rating})]}),c.jsx("span",{children:T.priceRange}),T.distance&&c.jsxs("span",{className:"flex items-center",children:[c.jsx(il,{className:"w-4 h-4 mr-1"}),P(T.distance)]})]}),c.jsx(ue,{onClick:()=>{p(T),w(!0)},className:"bg-white text-[hsl(var(--terracotta))] hover:bg-[hsl(var(--warm-beige))] font-semibold",children:"Visualizza ristorante"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:N.map((L,G)=>c.jsx(ze,{className:"bg-white shadow-lg",children:c.jsxs(Ue,{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("span",{className:"bg-[hsl(var(--terracotta))]/10 text-[hsl(var(--terracotta))] px-2 py-1 rounded-full text-sm font-medium",children:["#",G+2]}),c.jsxs("div",{className:"text-right text-sm text-[hsl(var(--dark-slate))]/60",children:[L.distance&&c.jsxs("div",{children:[I(L.distance)," di distanza"]}),y.includes(L.id)&&c.jsx("div",{className:"text-[hsl(var(--tomato))]",children:"❤️ Preferito"})]})]}),c.jsx("img",{src:L.imageUrl||"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200",alt:L.name,className:"w-full h-32 object-cover rounded-lg mb-4"}),c.jsx("h4",{className:"text-xl font-display font-semibold text-[hsl(var(--dark-slate))] mb-2",children:L.name}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"flex items-center text-[hsl(var(--goldenrod))]",children:[c.jsx(Qt,{className:"w-4 h-4 mr-1 fill-current"}),c.jsx("span",{children:L.rating})]}),c.jsx("span",{className:"text-[hsl(var(--terracotta))]",children:L.priceRange})]}),c.jsx(ue,{variant:"outline",onClick:()=>{p(L),w(!0)},className:"text-[hsl(var(--terracotta))] hover:text-[hsl(var(--saddle))]",children:"Dettagli"})]}),c.jsx("div",{className:"mt-3 text-xs text-[hsl(var(--dark-slate))]/50",children:L.cuisines.find(Q=>Q===o)&&L.priceRange===u?"✨ Corrisponde perfettamente alle tue preferenze":L.cuisines.find(Q=>Q===o)?"🍽️ Cucina preferita":L.priceRange===u?"💰 Fascia di prezzo preferita":"⭐ Alto rating"})]})},L.id))})]}),S.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsx(ze,{children:c.jsxs(Ue,{className:"p-12",children:[c.jsx(Qt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-2xl font-display font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Nessun consiglio disponibile"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70",children:"Prova ad aggiustare le tue preferenze o controlla più tardi"})]})})})]}),c.jsx(Lg,{restaurant:h,isOpen:g,onClose:()=>{w(!1),p(null)},allowDelete:!0,onDelete:async L=>{try{await k(L),e(G=>G.filter(Q=>Q.id!==L))}catch{}}})]})},N6=({events:t=[],onDateClick:e,onEventClick:n,onDayClick:r})=>{const[s,i]=m.useState(new Date),o=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=new Date(s.getFullYear(),s.getMonth(),1),d=new Date(s.getFullYear(),s.getMonth()+1,0),h=u.getDay(),p=d.getDate(),g=()=>{i(new Date(s.getFullYear(),s.getMonth()-1))},w=()=>{i(new Date(s.getFullYear(),s.getMonth()+1))},b=_=>{const y=new Date(s.getFullYear(),s.getMonth(),_);return t.filter(C=>C.date.toDateString()===y.toDateString())},x=_=>{const y=new Date(s.getFullYear(),s.getMonth(),_);e==null||e(y),r==null||r(y)},E=()=>{const _=[];for(let k=0;k<h;k++){const O=new Date(s.getFullYear(),s.getMonth(),-(h-1-k));_.push(c.jsx("div",{className:"h-24 p-2 text-gray-400 cursor-pointer hover:bg-gray-50",onClick:()=>{r==null||r(O)},children:c.jsx("span",{children:O.getDate()})},`prev-${k}`))}for(let k=1;k<=p;k++){const O=b(k),D=new Date().toDateString()===new Date(s.getFullYear(),s.getMonth(),k).toDateString();_.push(c.jsxs("div",{className:`h-24 p-2 hover:bg-gray-50 cursor-pointer relative border-r border-b border-gray-200 transition-colors ${D?"bg-[hsl(var(--terracotta))]/10 font-semibold":""}`,onClick:()=>x(k),children:[c.jsx("span",{className:`text-[hsl(var(--dark-slate))] ${D?"text-[hsl(var(--terracotta))]":""}`,children:k}),O.length>0&&c.jsxs("div",{className:"mt-1 space-y-1",children:[O.slice(0,2).map((S,T)=>c.jsx("div",{className:`text-xs px-1 py-0.5 rounded truncate cursor-pointer ${S.color} hover:opacity-80`,onClick:N=>{N.stopPropagation(),n==null||n(S)},children:S.title},S.id)),O.length>2&&c.jsxs("div",{className:"text-xs text-gray-500 cursor-pointer hover:text-[hsl(var(--terracotta))]",children:["+",O.length-2," more"]})]}),c.jsx("div",{className:"absolute bottom-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--terracotta))]/30"})})]},k))}const C=Math.ceil((h+p)/7)*7-(h+p);for(let k=1;k<=C;k++){const O=new Date(s.getFullYear(),s.getMonth()+1,k);_.push(c.jsx("div",{className:"h-24 p-2 text-gray-400 cursor-pointer hover:bg-gray-50",onClick:()=>{r==null||r(O)},children:c.jsx("span",{children:k})},`next-${k}`))}return _};return c.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden group",children:[c.jsx("div",{className:"bg-[hsl(var(--terracotta))] text-white p-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(ue,{variant:"ghost",size:"icon",onClick:g,className:"text-white hover:bg-white/20 transition-colors",children:c.jsx(ZA,{className:"w-5 h-5"})}),c.jsxs("h3",{className:"text-xl font-display font-semibold",children:[o[s.getMonth()]," ",s.getFullYear()]}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:w,className:"text-white hover:bg-white/20 transition-colors",children:c.jsx(eP,{className:"w-5 h-5"})})]})}),c.jsx("div",{className:"grid grid-cols-7 bg-[hsl(var(--terracotta))] text-white",children:a.map(_=>c.jsx("div",{className:"p-4 text-center font-medium border-r border-white/20 last:border-r-0",children:_},_))}),c.jsx("div",{className:"grid grid-cols-7",children:E()}),c.jsx("div",{className:"bg-gray-50 px-4 py-2 text-center",children:c.jsx("p",{className:"text-xs text-gray-600",children:"Clicca su un giorno per vedere i dettagli delle prenotazioni"})})]})},I6=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[s,i]=m.useState(null),[o,a]=m.useState([]),[u,d]=m.useState(!0),[h,p]=m.useState(null),[g,w]=m.useState(!1),[b,x]=m.useState(null),[E,_]=m.useState(null),[y,C]=m.useState(!1),[k,O]=m.useState(null),[D,S]=m.useState({restaurantId:"",date:"",time:"",notes:""}),{toast:T}=Bu(),{getAllRestaurants:N,getAllBookings:I,createBooking:P,deleteBooking:j}=Js();m.useEffect(()=>{(async()=>{try{r(!0),i(null);const B=await N();e(B)}catch(B){const ee=Jt(B);i(ee),Vt("Caricamento ristoranti in Calendar",B)}finally{r(!1)}})()},[]),m.useEffect(()=>{(async()=>{try{d(!0),p(null);const B=await I();a(B)}catch(B){const ee=Jt(B);p(ee),Vt("Caricamento prenotazioni in Calendar",B)}finally{d(!1)}})()},[]);const A=()=>{S({restaurantId:"",date:"",time:"",notes:""}),x(null)},L=async()=>{try{const H=await I();a(H)}catch(H){Vt("Ricaricamento prenotazioni",H)}},G=H=>{_(H),C(!0)},Q=H=>o.filter(B=>new Date(B.date).toDateString()===H.toDateString()).sort((B,ee)=>B.time.localeCompare(ee.time)),z=async H=>{if(H.preventDefault(),!D.restaurantId||!D.date||!D.time){T({title:"Informazioni mancanti",description:"Compila tutti i campi obbligatori.",variant:"destructive"});return}try{await P({restaurantId:parseInt(D.restaurantId),date:new Date(D.date+"T00:00:00"),time:D.time,notes:D.notes}),w(!1),A(),await L(),T({title:"Prenotazione creata",description:"La tua prenotazione al ristorante è stata creata con successo."})}catch(B){const ee=Jt(B);Vt("Creazione prenotazione",B),T({title:"Errore",description:ee,variant:"destructive"})}},V=async H=>{O(H);try{await j(H),await L(),T({title:"Prenotazione eliminata",description:"La prenotazione è stata eliminata con successo.",variant:"default"})}catch(B){const ee=Jt(B);Vt("Eliminazione prenotazione",B),T({title:"Errore",description:ee,variant:"destructive"})}finally{O(null)}},$=o.map(H=>{const B=t.find(ee=>ee.id===H.restaurantId);return{id:H.id,title:`${(B==null?void 0:B.name)||"Ristorante"} ${H.time}`,date:new Date(H.date),color:"bg-[hsl(var(--terracotta))] text-white",onClick:()=>G(new Date(H.date))}}),Z=o.filter(H=>new Date(H.date)>=new Date).sort((H,B)=>new Date(H.date).getTime()-new Date(B.date).getTime()).slice(0,5),se=E?Q(E):[],U=H=>H.toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),J=()=>{if(E){const H=E.toISOString().split("T")[0];S(B=>({...B,date:H}))}C(!1),w(!0)};return u||n?c.jsx("main",{className:"min-h-screen",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"Calendario Ristoranti"}),c.jsx("p",{className:"text-lg text-[hsl(var(--dark-slate))]/70",children:"Pianifica le tue avventure culinarie"})]}),c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[hsl(var(--terracotta))] mx-auto mb-4"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70",children:"Caricamento calendario e prenotazioni..."})]})})]})}):h||s?c.jsx("main",{className:"min-h-screen",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx("h2",{className:"text-3xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"Calendario Ristoranti"})}),c.jsx(ze,{children:c.jsxs(Ue,{className:"p-12 text-center",children:[c.jsx("div",{className:"text-red-500 mb-4",children:c.jsx(An,{className:"w-16 h-16 mx-auto mb-4 opacity-50"})}),c.jsx("h3",{className:"text-2xl font-display font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Errore nel caricamento"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 mb-6",children:h||s}),c.jsx(ue,{onClick:()=>window.location.reload(),className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:"Riprova"})]})})]})}):c.jsx("main",{className:"min-h-screen",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"Calendario Ristoranti"}),c.jsx("p",{className:"text-lg text-[hsl(var(--dark-slate))]/70",children:"Pianifica le tue avventure culinarie"})]}),c.jsx(ze,{className:"mb-6",children:c.jsx(Ue,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[c.jsx(An,{className:"w-6 h-6 text-[hsl(var(--terracotta))]"}),c.jsx("h3",{className:"text-xl font-display font-semibold text-[hsl(var(--dark-slate))]",children:"Le tue prenotazioni"})]}),c.jsxs(Cu,{open:g,onOpenChange:w,children:[c.jsx(PL,{asChild:!0,children:c.jsxs(ue,{className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:[c.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Aggiungi prenotazione"]})}),c.jsxs(Ga,{children:[c.jsx(Qa,{children:c.jsx(Ya,{children:"Nuova prenotazione"})}),c.jsxs("form",{onSubmit:z,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"restaurant",children:"Ristorante *"}),c.jsxs(Gi,{value:D.restaurantId,onValueChange:H=>S(B=>({...B,restaurantId:H})),required:!0,children:[c.jsx($s,{children:c.jsx(Qi,{placeholder:"Seleziona un ristorante"})}),c.jsx(Bs,{children:t.map(H=>c.jsxs(Zn,{value:H.id.toString(),children:[H.name," - ",H.location]},H.id))})]})]}),c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"date",children:"Data *"}),c.jsx(Nt,{id:"date",type:"date",value:D.date,onChange:H=>S(B=>({...B,date:H.target.value})),min:new Date().toISOString().split("T")[0],required:!0})]}),c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"time",children:"Orario *"}),c.jsx(Nt,{id:"time",type:"time",value:D.time,onChange:H=>S(B=>({...B,time:H.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"notes",children:"Note"}),c.jsx(Sd,{id:"notes",placeholder:"Richieste speciali, numero di ospiti, ecc.",value:D.notes,onChange:H=>S(B=>({...B,notes:H.target.value}))})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(ue,{type:"button",variant:"outline",onClick:()=>{w(!1),A()},children:"Annulla"}),c.jsx(ue,{type:"submit",className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:"Crea prenotazione"})]})]})]})]})]})})}),c.jsx("div",{className:"mb-8",children:c.jsx(N6,{events:$,onDayClick:G})}),c.jsx(Cu,{open:y,onOpenChange:C,children:c.jsxs(Ga,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[c.jsx(Qa,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(Ya,{className:"text-2xl font-display font-bold text-[hsl(var(--dark-slate))] mb-2",children:E?U(E):""}),c.jsxs("p",{className:"text-[hsl(var(--dark-slate))]/60",children:[se.length," prenotazion",se.length!==1?"i":"e"," in programma"]})]}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(ol,{className:"w-5 h-5"})})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[c.jsxs("div",{className:"flex items-center text-[hsl(var(--terracotta))]",children:[c.jsx(An,{className:"w-5 h-5 mr-2"}),c.jsx("span",{className:"font-medium",children:"Prenotazioni del giorno"})]}),c.jsxs(ue,{onClick:J,size:"sm",className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:[c.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Nuova prenotazione"]})]}),se.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"bg-gray-50 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:c.jsx(An,{className:"w-8 h-8 text-gray-300"})}),c.jsx("h3",{className:"text-lg font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Nessuna prenotazione"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/60 mb-6",children:"Non hai ancora prenotazioni per questo giorno."}),c.jsxs(ue,{onClick:J,className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:[c.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Aggiungi prenotazione"]})]}):c.jsx("div",{className:"space-y-4",children:se.map((H,B)=>{const ee=t.find(fe=>fe.id===H.restaurantId),Y=k===H.id;return c.jsxs("div",{className:"group relative bg-gradient-to-r from-white to-gray-50 border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[c.jsx("div",{className:"absolute -top-2 left-6",children:c.jsxs("div",{className:"bg-[hsl(var(--terracotta))] text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[c.jsx(il,{className:"w-3 h-3 mr-1"}),H.time]})}),c.jsx("div",{className:"pt-3",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-xl font-display font-semibold text-[hsl(var(--dark-slate))] mb-2",children:(ee==null?void 0:ee.name)||"Ristorante sconosciuto"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center text-[hsl(var(--dark-slate))]/70",children:[c.jsx(Ms,{className:"w-4 h-4 mr-2 text-[hsl(var(--terracotta))]"}),c.jsx("span",{className:"text-sm",children:ee==null?void 0:ee.location}),(ee==null?void 0:ee.priceRange)&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mx-2",children:"•"}),c.jsx("span",{className:"text-sm font-medium",children:ee.priceRange})]})]}),H.notes&&c.jsxs("div",{className:"flex items-start text-[hsl(var(--dark-slate))]/60",children:[c.jsx(_P,{className:"w-4 h-4 mr-2 mt-0.5 text-[hsl(var(--terracotta))] flex-shrink-0"}),c.jsx("span",{className:"text-sm italic",children:H.notes})]})]})]}),c.jsxs("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx(ue,{variant:"outline",size:"icon",className:"text-[hsl(var(--terracotta))] hover:text-[hsl(var(--saddle))] hover:bg-[hsl(var(--terracotta))]/10",onClick:()=>{T({title:"Funzionalità in arrivo",description:"La modifica delle prenotazioni sarà disponibile presto."})},children:c.jsx(yP,{className:"w-4 h-4"})}),c.jsx(ue,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",disabled:Y,onClick:()=>{window.confirm(`Sei sicuro di voler eliminare la prenotazione da ${(ee==null?void 0:ee.name)||"questo ristorante"}?`)&&V(H.id)},children:Y?c.jsx("div",{className:"w-4 h-4 border-2 border-red-500 border-t-transparent rounded-full animate-spin"}):c.jsx(Am,{className:"w-4 h-4"})})]})]})}),c.jsx("div",{className:"absolute right-4 bottom-4 opacity-5",children:c.jsx(An,{className:"w-8 h-8"})})]},H.id)})}),se.length>0&&c.jsx("div",{className:"pt-4 border-t bg-gray-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between text-sm text-[hsl(var(--dark-slate))]/60",children:[c.jsx("span",{children:"Giornata culinaria completa!"}),c.jsxs("span",{children:[se.length," ristorante",se.length!==1?"i":""," da visitare"]})]})})]})]})}),c.jsxs(ze,{children:[c.jsx(Dn,{children:c.jsx(On,{className:"text-2xl font-display font-semibold text-[hsl(var(--dark-slate))]",children:"Prossime prenotazioni"})}),c.jsx(Ue,{children:Z.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(An,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Nessuna prenotazione futura"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 mb-4",children:"Inizia a pianificare la tua prossima avventura culinaria!"}),c.jsx(ue,{onClick:()=>w(!0),className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:"Aggiungi la tua prima prenotazione"})]}):c.jsx("div",{className:"space-y-4",children:Z.map(H=>{const B=t.find(Y=>Y.id===H.restaurantId),ee=new Date(H.date);return c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>G(ee),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-[hsl(var(--terracotta))] text-white rounded-lg p-3 mr-4",children:c.jsx(An,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-[hsl(var(--dark-slate))]",children:(B==null?void 0:B.name)||"Ristorante sconosciuto"}),c.jsxs("p",{className:"text-[hsl(var(--dark-slate))]/70",children:[ee.toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," alle ",H.time]}),c.jsxs("p",{className:"text-[hsl(var(--dark-slate))]/60 text-sm",children:[B==null?void 0:B.location," • ",B==null?void 0:B.priceRange]}),H.notes&&c.jsxs("p",{className:"text-[hsl(var(--dark-slate))]/60 text-sm mt-1",children:["Note: ",H.notes]})]})]}),c.jsx("div",{className:"text-[hsl(var(--dark-slate))]/40",children:c.jsx("span",{className:"text-sm",children:"Clicca per dettagli"})})]},H.id)})})})]})]})})},A6=()=>{const{favorites:t}=Td(),[e,n]=m.useState(null),[r,s]=m.useState(!1),[i,o]=m.useState([]),[a,u]=m.useState(!0),[d,h]=m.useState(null),{getAllRestaurants:p,deleteRestaurant:g}=Js();m.useEffect(()=>{(async()=>{try{u(!0),h(null);const E=await p();o(E)}catch(E){const _=Jt(E);h(_),Vt("Caricamento ristoranti in Favorites",E)}finally{u(!1)}})()},[]);const w=i.filter(x=>t.includes(x.id)),b=x=>{n(x),s(!0)};return a?c.jsx("main",{className:"min-h-screen",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"I tuoi ristoranti preferiti"}),c.jsx("p",{className:"text-lg text-[hsl(var(--dark-slate))]/70",children:"La tua lista curata di luoghi imperdibili"})]}),c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[hsl(var(--terracotta))] mx-auto mb-4"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70",children:"Caricamento dei tuoi ristoranti preferiti..."})]})})]})}):d?c.jsx("main",{className:"min-h-screen",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx("h2",{className:"text-3xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"I tuoi ristoranti preferiti"})}),c.jsx(ze,{children:c.jsxs(Ue,{className:"p-12 text-center",children:[c.jsx("div",{className:"text-red-500 mb-4",children:c.jsx(Ur,{className:"w-16 h-16 mx-auto mb-4 opacity-50"})}),c.jsx("h3",{className:"text-2xl font-display font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Errore nel caricamento"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 mb-6",children:d}),c.jsx(ue,{onClick:()=>window.location.reload(),className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:"Riprova"})]})})]})}):c.jsxs("main",{className:"min-h-screen",children:[c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"I tuoi ristoranti preferiti"}),c.jsx("p",{className:"text-lg text-[hsl(var(--dark-slate))]/70",children:"La tua lista curata di luoghi imperdibili"})]}),w.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx(ze,{children:c.jsxs(Ue,{className:"p-12",children:[c.jsx(Ur,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-2xl font-display font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Nessun preferito ancora"}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 mb-6",children:"Inizia a esplorare i ristoranti e aggiungili ai tuoi preferiti!"}),c.jsx(da,{href:"/",children:c.jsx(ue,{className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:"Esplora ristoranti"})})]})})}):c.jsxs("div",{children:[c.jsx("div",{className:"mb-6",children:c.jsxs("p",{className:"text-[hsl(var(--dark-slate))]/70",children:[w.length," ristorante",w.length!==1?"s":""," preferit",w.length!==1?"i":"o"]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(x=>c.jsx($C,{restaurant:x,onViewDetails:b},x.id))}),c.jsx(ze,{className:"mt-8 bg-[hsl(var(--terracotta))]/5 border-[hsl(var(--terracotta))]/20",children:c.jsx(Ue,{className:"p-6",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Ur,{className:"w-6 h-6 text-[hsl(var(--terracotta))] mr-3 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Consigli per i tuoi preferiti"}),c.jsxs("ul",{className:"text-[hsl(var(--dark-slate))]/70 space-y-1 text-sm",children:[c.jsx("li",{children:"• Clicca sull'icona del cuore su qualsiasi scheda ristorante per aggiungerlo ai preferiti"}),c.jsx("li",{children:"• I tuoi preferiti vengono salvati localmente e rimarranno tra le visite"}),c.jsx("li",{children:"• Usa il calendario per pianificare visite ai tuoi ristoranti preferiti"}),c.jsx("li",{children:"• Condividi i tuoi ristoranti preferiti con amici e famiglia"}),c.jsx("li",{children:"• Controlla regolarmente i consigli personalizzati basati sui tuoi preferiti"})]})]})]})})}),w.length>0&&c.jsx(ze,{className:"mt-6 bg-[hsl(var(--forest-green))]/5 border-[hsl(var(--forest-green))]/20",children:c.jsxs(Ue,{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-[hsl(var(--dark-slate))] mb-4",children:"Le tue preferenze culinarie"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-[hsl(var(--dark-slate))] mb-2",children:"Cucine preferite"}),c.jsx("div",{className:"space-y-1",children:(()=>{const E=w.flatMap(_=>_.cuisines||[]).reduce((_,y)=>(_[y]=(_[y]||0)+1,_),{});return Object.entries(E).sort(([,_],[,y])=>y-_).slice(0,3).map(([_,y])=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"capitalize",children:_}),c.jsx("span",{className:"text-[hsl(var(--forest-green))] font-medium",children:y})]},_))})()})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-[hsl(var(--dark-slate))] mb-2",children:"Fasce di prezzo"}),c.jsx("div",{className:"space-y-1",children:Array.from(new Set(w.map(x=>x.priceRange))).slice(0,3).map(x=>{const E=w.filter(_=>_.priceRange===x).length;return c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:x}),c.jsx("span",{className:"text-[hsl(var(--forest-green))] font-medium",children:E})]},x)})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-[hsl(var(--dark-slate))] mb-2",children:"Rating medio"}),c.jsxs("div",{className:"text-2xl font-bold text-[hsl(var(--forest-green))]",children:[(w.reduce((x,E)=>x+parseFloat(E.rating),0)/w.length).toFixed(1),c.jsx("span",{className:"text-sm font-normal text-[hsl(var(--dark-slate))]/70 ml-1",children:"/ 5.0"})]}),c.jsx("p",{className:"text-xs text-[hsl(var(--dark-slate))]/60 mt-1",children:"Hai ottimi gusti!"})]})]})]})}),w.length>0&&c.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[c.jsx(da,{href:"/recommended",className:"flex-1",children:c.jsx(ue,{variant:"outline",className:"w-full border-[hsl(var(--terracotta))] text-[hsl(var(--terracotta))] hover:bg-[hsl(var(--terracotta))]/10",children:"Scopri ristoranti simili"})}),c.jsx(da,{href:"/calendar",className:"flex-1",children:c.jsx(ue,{className:"w-full bg-[hsl(var(--forest-green))] text-white hover:bg-[hsl(var(--forest-green))]/90",children:"Pianifica una visita"})})]})]})]}),c.jsx(Lg,{restaurant:e,isOpen:r,onClose:()=>{s(!1),n(null)},allowDelete:!0,onDelete:async x=>{try{await g(x),o(E=>E.filter(_=>_.id!==x))}catch{}}})]})},P6=lo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ug=m.forwardRef(({className:t,variant:e,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:ae(P6({variant:e}),t),...n}));Ug.displayName="Alert";const k6=m.forwardRef(({className:t,...e},n)=>c.jsx("h5",{ref:n,className:ae("mb-1 font-medium leading-none tracking-tight",t),...e}));k6.displayName="AlertTitle";const $g=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("text-sm [&_p]:leading-relaxed",t),...e}));$g.displayName="AlertDescription";var Rd="Collapsible",[j6,t3]=os(Rd),[D6,Bg]=j6(Rd),yb=m.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[u,d]=Wi({prop:r,defaultProp:s??!1,onChange:o,caller:Rd});return c.jsx(D6,{scope:n,disabled:i,contentId:Ut(),open:u,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),children:c.jsx(ce.div,{"data-state":Wg(u),"data-disabled":i?"":void 0,...a,ref:e})})});yb.displayName=Rd;var xb="CollapsibleTrigger",wb=m.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Bg(xb,n);return c.jsx(ce.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Wg(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:le(t.onClick,s.onOpenToggle)})});wb.displayName=xb;var Hg="CollapsibleContent",_b=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Bg(Hg,t.__scopeCollapsible);return c.jsx(pr,{present:n||s.open,children:({present:i})=>c.jsx(O6,{...r,ref:e,present:i})})});_b.displayName=Hg;var O6=m.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=Bg(Hg,n),[a,u]=m.useState(r),d=m.useRef(null),h=Ae(e,d),p=m.useRef(0),g=p.current,w=m.useRef(0),b=w.current,x=o.open||a,E=m.useRef(x),_=m.useRef(void 0);return m.useEffect(()=>{const y=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(y)},[]),ot(()=>{const y=d.current;if(y){_.current=_.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const C=y.getBoundingClientRect();p.current=C.height,w.current=C.width,E.current||(y.style.transitionDuration=_.current.transitionDuration,y.style.animationName=_.current.animationName),u(r)}},[o.open,r]),c.jsx(ce.div,{"data-state":Wg(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:h,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:x&&s})});function Wg(t){return t?"open":"closed"}var V6=yb;const M6=V6,L6=wb,F6=_b,z6=()=>{var Q;const[t,e]=m.useState([""]),[n,r]=m.useState({name:"",cuisines:[],priceRange:"",location:"",description:"",phone:"",address:"",rating:"",locationUser:"",qualitàPrezzoUser:"",mediaPrezzo:""}),[s,i]=m.useState(null),[o,a]=m.useState(!1),[u,d]=m.useState(!1),[h,p]=m.useState(!1),[g,w]=m.useState(!1),[b,x]=m.useState([]),[E,_]=m.useState(!0),[y,C]=m.useState(null),{extractRestaurantData:k,createRestaurant:O,getAllRestaurants:D}=Js(),{toast:S}=Bu();m.useEffect(()=>{(async()=>{try{_(!0),C(null);const $=(await D()).sort((Z,se)=>se.id-Z.id).slice(0,5);x($)}catch(V){const $=Jt(V);C($),Vt("Caricamento ristoranti recenti",V)}finally{_(!1)}})()},[u]);const T=async()=>{const z=t[0];if(!z||!z.toLowerCase().includes("tripadvisor")){S({title:"URL Non Valido",description:"Inserisci un URL valido di TripAdvisor.",variant:"destructive"});return}try{a(!0),i(null);const V=await k(z);i(V.extracted),S({title:"Estrazione Completata",description:"I dati del ristorante sono stati estratti con successo."})}catch(V){const $=Jt(V);Vt("Estrazione dati ristorante",V),S({title:"Estrazione Fallita",description:$,variant:"destructive"})}finally{a(!1)}},N=()=>{const z=[];return n.locationUser&&(parseFloat(n.locationUser)<0||parseFloat(n.locationUser)>5)&&z.push("Il rating location deve essere tra 0 e 5"),n.qualitàPrezzoUser&&(parseFloat(n.qualitàPrezzoUser)<0||parseFloat(n.qualitàPrezzoUser)>5)&&z.push("Il rating qualità/prezzo deve essere tra 0 e 5"),n.mediaPrezzo&&(parseFloat(n.mediaPrezzo)<0||parseFloat(n.mediaPrezzo)>1e3)&&z.push("Il prezzo medio deve essere tra 0 e 1000 euro"),z},I=async z=>{z.preventDefault();const V=t[0];if(!V){S({title:"URL Mancante",description:"Inserisci almeno un URL di TripAdvisor.",variant:"destructive"});return}const $=s||n;if(!$.cuisines||$.cuisines.length===0){S({title:"Tipi di Cucina Mancanti",description:"Seleziona almeno un tipo di cucina.",variant:"destructive"});return}if(!$.name||!$.priceRange){S({title:"Campi Obbligatori",description:"Compila tutti i campi obbligatori (Nome, Tipi di Cucina, Fascia di Prezzo).",variant:"destructive"});return}const Z=N();if(Z.length>0){S({title:"Valutazioni Non Valide",description:Z.join(". "),variant:"destructive"});return}const se={id:void 0,tripadvisorUrl:V,name:$.name,cuisines:$.cuisines,priceRange:$.priceRange,rating:$.rating||"4.0",location:$.location||"Salento",description:$.description||"Delizioso ristorante con cucina locale",phone:$.phone||void 0,address:$.address||void 0,latitude:$.latitude||"40.3515",longitude:$.longitude||"18.1750",imageUrl:$.imageUrl||void 0,locationUser:n.locationUser?parseFloat(n.locationUser):void 0,qualitàPrezzoUser:n.qualitàPrezzoUser?parseFloat(n.qualitàPrezzoUser):void 0,mediaPrezzo:n.mediaPrezzo?parseFloat(n.mediaPrezzo):void 0};try{p(!0),await O(se),d(!0),P(),setTimeout(()=>d(!1),5e3),S({title:"Ristorante Aggiunto",description:"Il ristorante è stato aggiunto con successo ed è in attesa di approvazione."})}catch(U){const J=Jt(U);Vt("Creazione ristorante",U),S({title:"Errore",description:J,variant:"destructive"})}finally{p(!1)}},P=()=>{e([""]),r({name:"",cuisines:[],priceRange:"",location:"",description:"",phone:"",address:"",rating:"",locationUser:"",qualitàPrezzoUser:"",mediaPrezzo:""}),i(null),w(!1)},j=()=>{e([...t,""])},A=z=>{e(t.filter((V,$)=>$!==z))},L=(z,V)=>{const $=[...t];$[z]=V,e($)},G=[{value:"€",label:"€ - Budget"},{value:"€€",label:"€€ - Moderato"},{value:"€€€",label:"€€€ - Costoso"},{value:"€€€€",label:"€€€€ - Fine Dining"}];return c.jsx("main",{className:"min-h-screen",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-display font-bold text-[hsl(var(--dark-slate))] mb-4",children:"Aggiungi Nuovo Ristorante"}),c.jsx("p",{className:"text-lg text-[hsl(var(--dark-slate))]/70",children:"Aiuta ad espandere il nostro database con le tue scoperte preferite"})]}),u&&c.jsxs(Ug,{className:"mb-6 bg-[hsl(var(--forest-green))]/10 border-[hsl(var(--forest-green))]/20",children:[c.jsx(Va,{className:"w-4 h-4 text-[hsl(var(--forest-green))]"}),c.jsx($g,{className:"text-[hsl(var(--forest-green))]",children:"Ristorante aggiunto con successo! Apparirà nei risultati di ricerca dopo l'approvazione."})]}),c.jsxs(ze,{className:"mb-8",children:[c.jsx(Dn,{children:c.jsx(On,{className:"text-xl font-display font-semibold text-[hsl(var(--dark-slate))]",children:"Informazioni Ristorante"})}),c.jsx(Ue,{children:c.jsxs("form",{onSubmit:I,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs(Xe,{className:"text-base font-medium text-[hsl(var(--dark-slate))] mb-3 block",children:[c.jsx(qf,{className:"w-4 h-4 inline mr-2 text-[hsl(var(--terracotta))]"}),"URL TripAdvisor *"]}),t.map((z,V)=>c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx(Nt,{type:"url",placeholder:"https://www.tripadvisor.com/Restaurant_Review-...",value:z,onChange:$=>L(V,$.target.value),className:"flex-1",required:V===0}),V>0&&c.jsx(ue,{type:"button",variant:"outline",size:"icon",onClick:()=>A(V),className:"text-red-500 hover:text-red-700",children:c.jsx(Am,{className:"w-4 h-4"})})]},V)),c.jsxs(ue,{type:"button",variant:"outline",onClick:j,className:"text-[hsl(var(--terracotta))] hover:text-[hsl(var(--saddle))]",disabled:t.length>=3,children:[c.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Aggiungi Altro URL"]}),c.jsx("p",{className:"text-sm text-[hsl(var(--dark-slate))]/60 mt-2",children:"Copia e incolla l'URL di TripAdvisor del ristorante che vuoi aggiungere"})]}),c.jsx("div",{className:"flex justify-center",children:c.jsxs(ue,{type:"button",onClick:T,disabled:o||!t[0],className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:[c.jsx(lP,{className:"w-4 h-4 mr-2"}),o?"Estraendo...":"Estrai Dati"]})}),o&&c.jsxs("div",{className:"flex items-center justify-center p-4 bg-blue-50 rounded-lg",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[hsl(var(--terracotta))] mr-3"}),c.jsx("span",{className:"text-[hsl(var(--dark-slate))]",children:"Estrazione dati in corso da TripAdvisor..."})]}),s&&c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-green-800 mb-3",children:"Informazioni Estratte:"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Nome:"})," ",s.name]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Cucine:"})," ",(Q=s.cuisines)==null?void 0:Q.join(", ")]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Prezzo:"})," ",s.priceRange]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Rating:"})," ",s.rating]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Località:"})," ",s.location]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Telefono:"})," ",s.phone||"Non disponibile"]})]}),s.description&&c.jsxs("div",{className:"mt-3",children:[c.jsx("strong",{children:"Descrizione:"})," ",s.description]})]}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsxs("h3",{className:"text-lg font-display font-semibold text-[hsl(var(--dark-slate))] mb-4",children:["Dettagli Ristorante",s&&c.jsx("span",{className:"text-sm font-normal text-green-600 ml-2",children:"(Modifica i dati estratti se necessario)"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"restaurant-name",children:"Nome Ristorante *"}),c.jsx(Nt,{id:"restaurant-name",placeholder:"Nome del ristorante",value:s?s.name:n.name,onChange:z=>{s?i({...s,name:z.target.value}):r(V=>({...V,name:z.target.value}))},required:!0})]}),c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"rating",children:"Rating *"}),c.jsx(Nt,{id:"rating",type:"number",min:"1",max:"5",step:"0.1",placeholder:"4.5",value:s?s.rating:n.rating,onChange:z=>{s?i({...s,rating:z.target.value}):r(V=>({...V,rating:z.target.value}))},required:!0})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(Xe,{htmlFor:"cuisine-types",children:"Tipi di Cucina *"}),c.jsx(vb,{selectedCuisines:s?s.cuisines||[]:n.cuisines,onCuisinesChange:z=>{s?i({...s,cuisines:z}):r(V=>({...V,cuisines:z}))},placeholder:"Aggiungi tipo di cucina...",className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"price-range",children:"Fascia di Prezzo *"}),c.jsxs(Gi,{value:s?s.priceRange:n.priceRange,onValueChange:z=>{s?i({...s,priceRange:z}):r(V=>({...V,priceRange:z}))},required:!0,children:[c.jsx($s,{children:c.jsx(Qi,{placeholder:"Seleziona fascia di prezzo"})}),c.jsx(Bs,{children:G.map(z=>c.jsx(Zn,{value:z.value,children:z.label},z.value))})]})]}),c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"location",children:"Località *"}),c.jsx(Nt,{id:"location",placeholder:"es. Lecce Centro, Gallipoli",value:s?s.location:n.location,onChange:z=>{s?i({...s,location:z.target.value}):r(V=>({...V,location:z.target.value}))},required:!0})]}),c.jsxs("div",{children:[c.jsx(Xe,{htmlFor:"phone",children:"Telefono"}),c.jsx(Nt,{id:"phone",placeholder:"+39 0832 123456",value:s?s.phone||"":n.phone,onChange:z=>{s?i({...s,phone:z.target.value}):r(V=>({...V,phone:z.target.value}))}})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(Xe,{htmlFor:"address",children:"Indirizzo"}),c.jsx(Nt,{id:"address",placeholder:"Via Roma 123, Lecce",value:s?s.address||"":n.address,onChange:z=>{s?i({...s,address:z.target.value}):r(V=>({...V,address:z.target.value}))}})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(Xe,{htmlFor:"description",children:"Descrizione"}),c.jsx(Sd,{id:"description",placeholder:"Breve descrizione del ristorante",value:s?s.description||"":n.description,onChange:z=>{s?i({...s,description:z.target.value}):r(V=>({...V,description:z.target.value}))},rows:3})]})]})]}),c.jsx("div",{className:"border-t pt-6",children:c.jsxs(M6,{open:g,onOpenChange:w,children:[c.jsx(L6,{asChild:!0,children:c.jsxs(ue,{type:"button",variant:"outline",className:"w-full justify-between text-[hsl(var(--dark-slate))] hover:bg-[hsl(var(--terracotta))]/5",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qt,{className:"w-4 h-4 mr-2 text-[hsl(var(--terracotta))]"}),c.jsx("span",{className:"text-lg font-display font-semibold",children:"Valutazioni Utente (Opzionale)"})]}),c.jsx(Im,{className:`w-5 h-5 transition-transform ${g?"rotate-180":""}`})]})}),c.jsxs(F6,{className:"mt-4 space-y-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-sm text-[hsl(var(--dark-slate))]/70 mb-4",children:"Aggiungi le tue valutazioni personali per aiutare altri utenti nella scelta"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs(Xe,{htmlFor:"location-rating",className:"flex items-center",children:[c.jsx(Ms,{className:"w-4 h-4 mr-2 text-[hsl(var(--terracotta))]"}),"Rating Location (0-5)"]}),c.jsx(Nt,{id:"location-rating",type:"number",min:"0",max:"5",step:"0.1",placeholder:"4.2",value:n.locationUser,onChange:z=>r(V=>({...V,locationUser:z.target.value}))}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Valuta posizione, accessibilità, parcheggio"})]}),c.jsxs("div",{children:[c.jsxs(Xe,{htmlFor:"quality-price-rating",className:"flex items-center",children:[c.jsx(Qt,{className:"w-4 h-4 mr-2 text-[hsl(var(--terracotta))]"}),"Qualità/Prezzo (0-5)"]}),c.jsx(Nt,{id:"quality-price-rating",type:"number",min:"0",max:"5",step:"0.1",placeholder:"4.0",value:n.qualitàPrezzoUser,onChange:z=>r(V=>({...V,qualitàPrezzoUser:z.target.value}))}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Rapporto qualità vs prezzo pagato"})]}),c.jsxs("div",{children:[c.jsxs(Xe,{htmlFor:"average-price",className:"flex items-center",children:[c.jsx(Wf,{className:"w-4 h-4 mr-2 text-[hsl(var(--terracotta))]"}),"Prezzo Medio (€)"]}),c.jsx(Nt,{id:"average-price",type:"number",min:"0",max:"1000",step:"0.50",placeholder:"25.00",value:n.mediaPrezzo,onChange:z=>r(V=>({...V,mediaPrezzo:z.target.value}))}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Prezzo medio per persona"})]})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Qt,{className:"w-5 h-5 text-blue-500 mr-2 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Suggerimento:"})," Le tue valutazioni aiuteranno altri utenti a scegliere il ristorante più adatto alle loro esigenze. Sii onesto e considera la tua esperienza complessiva."]})]})})]})]})}),c.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[c.jsx(ue,{type:"button",variant:"outline",onClick:P,className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Resetta Form"}),c.jsxs(ue,{type:"submit",disabled:h||!t[0],className:"bg-[hsl(var(--terracotta))] text-white hover:bg-[hsl(var(--saddle))]",children:[c.jsx(Ns,{className:"w-4 h-4 mr-2"}),h?"Aggiungendo...":"Aggiungi Ristorante"]})]})]})})]}),c.jsxs(ze,{children:[c.jsx(Dn,{children:c.jsx(On,{className:"text-2xl font-display font-semibold text-[hsl(var(--dark-slate))]",children:"Aggiunte Recenti"})}),c.jsx(Ue,{children:E?c.jsxs("div",{className:"flex items-center justify-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[hsl(var(--terracotta))] mr-3"}),c.jsx("span",{className:"text-[hsl(var(--dark-slate))]/70",children:"Caricamento..."})]}):y?c.jsxs("p",{className:"text-red-500 text-center py-8",children:["Errore nel caricamento: ",y]}):b.length===0?c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 text-center py-8",children:"Nessuna aggiunta recente. Sii il primo ad aggiungere un ristorante!"}):c.jsx("div",{className:"space-y-4",children:b.map(z=>{const V=Array.isArray(z.cuisines)?z.cuisines:[z.cuisines];return c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-[hsl(var(--terracotta))]/10 text-[hsl(var(--terracotta))] rounded-lg p-3 mr-4",children:c.jsx(Ns,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-[hsl(var(--dark-slate))]",children:z.name}),c.jsxs("p",{className:"text-[hsl(var(--dark-slate))]/70",children:["Aggiunto di recente • ",V.join(", ")," • ",z.priceRange]}),c.jsxs("p",{className:"text-[hsl(var(--dark-slate))]/60 text-sm",children:[z.location,(z.locationUser||z.qualitàPrezzoUser||z.mediaPrezzo)&&c.jsx("span",{className:"ml-2 text-[hsl(var(--terracotta))]",children:"• Valutazioni utente aggiunte"})]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:`text-sm font-medium inline-flex items-center ${z.isApproved?"text-[hsl(var(--forest-green))]":"text-[hsl(var(--goldenrod))]"}`,children:z.isApproved?c.jsxs(c.Fragment,{children:[c.jsx(Va,{className:"w-4 h-4 mr-1"}),"Approvato"]}):c.jsxs(c.Fragment,{children:[c.jsx(il,{className:"w-4 h-4 mr-1"}),"In Revisione"]})}),c.jsxs("div",{className:"text-xs text-[hsl(var(--dark-slate))]/50 mt-1",children:["Rating: ",z.rating,z.locationUser&&c.jsxs("span",{className:"ml-2",children:["• Pos: ",z.locationUser.toFixed(1)]}),z.mediaPrezzo&&c.jsxs("span",{className:"ml-2",children:["• €",z.mediaPrezzo.toFixed(2)]})]})]})]},z.id)})})})]}),c.jsx(ze,{className:"mt-8 bg-[hsl(var(--terracotta))]/5 border-[hsl(var(--terracotta))]/20",children:c.jsx(Ue,{className:"p-6",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(qf,{className:"w-6 h-6 text-[hsl(var(--terracotta))] mr-3 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"Come Aggiungere un Ristorante"}),c.jsxs("ul",{className:"text-[hsl(var(--dark-slate))]/70 space-y-1 text-sm",children:[c.jsx("li",{children:"• Trova il ristorante su TripAdvisor"}),c.jsx("li",{children:"• Copia l'URL della pagina del ristorante"}),c.jsx("li",{children:`• Incolla l'URL nel campo sopra e clicca "Estrai Dati"`}),c.jsx("li",{children:"• Controlla e modifica le informazioni se necessario"}),c.jsx("li",{children:"• Seleziona i tipi di cucina appropriati"}),c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Opzionale:"})," Aggiungi le tue valutazioni personali"]}),c.jsx("li",{children:'• Clicca "Aggiungi Ristorante" per salvare'})]}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/60 text-xs mt-3",children:"Tutti i ristoranti aggiunti vengono revisionati prima di apparire nel database pubblico. Le valutazioni utente aiutano la community a fare scelte più informate."})]})]})})})]})})};function U6(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(ze,{className:"w-full max-w-md mx-4",children:c.jsxs(Ue,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(rP,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const $6=()=>{const t=[{icon:c.jsx(fa,{className:"w-6 h-6 text-[hsl(var(--terracotta))]"}),title:"Scraping Intelligente",description:"Sistema di estrazione dati da TripAdvisor con algoritmi avanzati, retry automatico e load balancing su múltipli endpoint per garantire affidabilità."},{icon:c.jsx(Ms,{className:"w-6 h-6 text-[hsl(var(--terracotta))]"}),title:"Mappe Interactive",description:"Visualizza tutti i ristoranti su mappe interattive con marker personalizzati, popup informativi e geolocalizzazione precisa."},{icon:c.jsx(Qt,{className:"w-6 h-6 text-[hsl(var(--terracotta))]"}),title:"Valutazioni Personalizzate",description:"Aggiungi le tue valutazioni per posizione, rapporto qualità/prezzo e prezzo medio per aiutare altri utenti."},{icon:c.jsx(cP,{className:"w-6 h-6 text-[hsl(var(--terracotta))]"}),title:"Filtri Avanzati",description:"Filtra per tipo di cucina, fascia di prezzo, rating minimo e distanza con ricerca intelligente."},{icon:c.jsx(Ur,{className:"w-6 h-6 text-[hsl(var(--terracotta))]"}),title:"Sistema Preferiti",description:"Salva i tuoi ristoranti preferiti con sincronizzazione cloud e accesso multi-dispositivo."},{icon:c.jsx(vP,{className:"w-6 h-6 text-[hsl(var(--terracotta))]"}),title:"Design Responsivo",description:"Interfaccia ottimizzata per desktop, tablet e smartphone con design moderno."}],e=[{name:"React + TypeScript",category:"Frontend"},{name:"Tailwind CSS + Shadcn/ui",category:"Styling"},{name:"Serverless API (Vercel)",category:"Backend"},{name:"Node.js + Cheerio + Axios",category:"Scraping"},{name:"Firestore",category:"Database"},{name:"Leaflet.js",category:"Mappe"}],n=[{title:"URL Validation",description:"Verifica che l'URL sia valido e appartenga a TripAdvisor"},{title:"Load Balancing",description:"Selezione intelligente dell'endpoint disponibile tra múltipli server"},{title:"Request Masking",description:"Utilizzo di user agents realistici e headers per simulare navigazione umana"},{title:"Data Extraction",description:"Parsing HTML con Cheerio per estrarre nome, rating, prezzo, posizione e cucine"},{title:"Validation & Storage",description:"Validazione dati estratti e salvataggio nel database con timestamp"}];return c.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h1",{className:"text-4xl font-bold text-[hsl(var(--dark-slate))] font-display",children:"Come Funziona TripTaste"}),c.jsx("p",{className:"text-lg text-[hsl(var(--dark-slate))]/70 max-w-3xl mx-auto",children:"Scopri come TripTaste estrae e organizza i dati dei ristoranti per offrirti la migliore esperienza di ricerca culinaria nel Salento."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((r,s)=>c.jsxs(ze,{className:"hover:shadow-lg transition-shadow duration-300",children:[c.jsx(Dn,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[r.icon,c.jsx(On,{className:"text-lg font-semibold text-[hsl(var(--dark-slate))]",children:r.title})]})}),c.jsx(Ue,{children:c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 text-sm leading-relaxed",children:r.description})})]},s))}),c.jsxs(ze,{children:[c.jsx(Dn,{children:c.jsxs(On,{className:"text-2xl font-bold text-[hsl(var(--dark-slate))] flex items-center",children:[c.jsx(EP,{className:"w-6 h-6 mr-3 text-[hsl(var(--terracotta))]"}),"Stack Tecnologico"]})}),c.jsx(Ue,{children:c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((r,s)=>c.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[c.jsx(Is,{variant:"outline",className:"text-[hsl(var(--terracotta))]",children:r.category}),c.jsx("span",{className:"font-medium text-[hsl(var(--dark-slate))]",children:r.name})]},s))})})]}),c.jsxs(ze,{children:[c.jsx(Dn,{children:c.jsxs(On,{className:"text-2xl font-bold text-[hsl(var(--dark-slate))] flex items-center",children:[c.jsx(iP,{className:"w-6 h-6 mr-3 text-[hsl(var(--terracotta))]"}),"Processo di Estrazione Dati"]})}),c.jsx(Ue,{children:c.jsx("div",{className:"space-y-4",children:n.map((r,s)=>c.jsxs("div",{className:"flex items-start space-x-4 p-4 border-l-4 border-[hsl(var(--terracotta))] bg-gray-50 rounded-r-lg",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-[hsl(var(--terracotta))] text-white rounded-full flex items-center justify-center font-bold text-sm",children:s+1}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-[hsl(var(--dark-slate))] mb-1",children:r.title}),c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70 text-sm",children:r.description})]})]},s))})})]}),c.jsxs(ze,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[c.jsx(Dn,{children:c.jsxs(On,{className:"text-2xl font-bold text-[hsl(var(--dark-slate))] flex items-center",children:[c.jsx(nP,{className:"w-6 h-6 mr-3 text-blue-600"}),"Estensione Chrome TripTaste"]})}),c.jsxs(Ue,{className:"space-y-4",children:[c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70",children:"Scarica la nostra estensione Chrome per aggiungere ristoranti direttamente dal browser mentre navighi su TripAdvisor."}),c.jsxs(Ug,{className:"border-amber-200 bg-amber-50",children:[c.jsx(wP,{className:"h-4 w-4 text-amber-600"}),c.jsxs($g,{className:"text-amber-800",children:[c.jsx("strong",{children:"Attenzione:"})," Questa estensione effettua web scraping di TripAdvisor. Utilizza solo per uso personale e rispetta i termini di servizio di TripAdvisor."]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[c.jsxs(ue,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white w-full sm:w-auto",onClick:()=>window.open("https://github.com/FabiodAgostino/TripTasteExtension/archive/refs/heads/main.zip","_blank"),children:[c.jsx(aP,{className:"w-5 h-5 mr-2"}),"Scarica Estensione Chrome"]}),c.jsxs(ue,{variant:"outline",size:"lg",className:"w-full sm:w-auto",onClick:()=>window.open("https://github.com/FabiodAgostino/TripTasteExtension","_blank"),children:[c.jsx(qf,{className:"w-5 h-5 mr-2"}),"Codice Sorgente"]})]}),c.jsxs("div",{className:"text-sm text-[hsl(var(--dark-slate))]/60 space-y-2",children:[c.jsx("p",{children:c.jsx("strong",{children:"Installazione:"})}),c.jsxs("ol",{className:"list-decimal list-inside space-y-1 pl-4",children:[c.jsx("li",{children:"Scarica il file ZIP e estrailo"}),c.jsx("li",{children:"Vai su chrome://extensions/ nel tuo browser"}),c.jsx("li",{children:'Attiva "Modalità sviluppatore"'}),c.jsx("li",{children:'Clicca "Carica estensione non pacchettizzata"'}),c.jsx("li",{children:"Seleziona la cartella estratta"})]})]})]})]}),c.jsxs(ze,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:[c.jsx(Dn,{children:c.jsxs(On,{className:"text-2xl font-bold text-[hsl(var(--dark-slate))] flex items-center",children:[c.jsx(Ur,{className:"w-6 h-6 mr-3 text-green-600"}),"Perché TripTaste?"]})}),c.jsxs(Ue,{className:"space-y-4",children:[c.jsx("p",{className:"text-[hsl(var(--dark-slate))]/70",children:"TripTaste nasce dalla passione per la cucina salentina e dalla necessità di avere un sistema centralizzato per scoprire i migliori ristoranti della regione."}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"🎯 Obiettivi"}),c.jsxs("ul",{className:"space-y-1 text-sm text-[hsl(var(--dark-slate))]/70",children:[c.jsx("li",{children:"• Centralizzare informazioni sui ristoranti salentini"}),c.jsx("li",{children:"• Offrire filtri avanzati per ogni esigenza"}),c.jsx("li",{children:"• Facilitare la pianificazione culinaria"}),c.jsx("li",{children:"• Valorizzare la cucina locale e tradizionale"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-[hsl(var(--dark-slate))] mb-2",children:"🚀 Vantaggi"}),c.jsxs("ul",{className:"space-y-1 text-sm text-[hsl(var(--dark-slate))]/70",children:[c.jsx("li",{children:"• Dati sempre aggiornati da TripAdvisor"}),c.jsx("li",{children:"• Interfaccia moderna e responsive"}),c.jsx("li",{children:"• Sistema di preferiti personalizzato"}),c.jsx("li",{children:"• Mappe interattive per la geolocalizzazione"})]})]})]})]})]})]})};function B6(){return c.jsxs(k2,{children:[c.jsxs("div",{className:"min-h-screen bg-[hsl(var(--warm-beige))]",children:[c.jsx($j,{}),c.jsxs(ZI,{children:[c.jsx(ys,{path:"/",component:C6}),c.jsx(ys,{path:"/recommended",component:R6}),c.jsx(ys,{path:"/calendar",component:I6}),c.jsx(ys,{path:"/favorites",component:A6}),c.jsx(ys,{path:"/add-restaurant",component:z6}),c.jsx(ys,{path:"/info",component:$6}),c.jsx(ys,{component:U6})]})]}),c.jsx(sk,{})]})}const H6=()=>{const t=()=>window.location.hash.substring(1)||"/",[e,n]=m.useState(t());return m.useEffect(()=>{const s=()=>{const i=t();n(i)};return window.location.hash||(window.location.hash="#/"),window.addEventListener("hashchange",s),()=>{window.removeEventListener("hashchange",s)}},[]),[e,s=>{window.location.hash="#"+s}]};hE(document.getElementById("root")).render(c.jsx(TE,{hook:H6,children:c.jsx(B6,{})}));
